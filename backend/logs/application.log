2025-05-27 00:00:37.951 DEBUG [9916e48f-ec8f-4d08-b768-0d8db0b92669] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 00:00:38.001 DEBUG [9916e48f-ec8f-4d08-b768-0d8db0b92669] 31872 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 14863871FD2A22674F1796D073DF05F7
2025-05-27 00:00:38.002 DEBUG [9916e48f-ec8f-4d08-b768-0d8db0b92669] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 00:00:38.002  INFO [9916e48f-ec8f-4d08-b768-0d8db0b92669] 31872 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 00:00:38.085  INFO [9916e48f-ec8f-4d08-b768-0d8db0b92669] 31872 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 00:00:38.093 DEBUG [d7ed146f-a3cf-45ff-8a74-0bd6a57fa410] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 00:00:38.103 DEBUG [d7ed146f-a3cf-45ff-8a74-0bd6a57fa410] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 00:00:38.103  INFO [d7ed146f-a3cf-45ff-8a74-0bd6a57fa410] 31872 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 00:00:38.180  INFO [d7ed146f-a3cf-45ff-8a74-0bd6a57fa410] 31872 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 00:00:40.417 DEBUG [eebd76b2-0a01-4476-8bd9-0c3f3f90e160] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 00:00:40.427 DEBUG [eebd76b2-0a01-4476-8bd9-0c3f3f90e160] 31872 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 69CA05D771A6B5151D66F106A555F3E0
2025-05-27 00:00:40.427 DEBUG [eebd76b2-0a01-4476-8bd9-0c3f3f90e160] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 00:00:40.428  INFO [eebd76b2-0a01-4476-8bd9-0c3f3f90e160] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 00:00:40.493  INFO [eebd76b2-0a01-4476-8bd9-0c3f3f90e160] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 00:00:40.499 DEBUG [00e57d4c-de8f-492e-a42e-3b2c8c401add] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 00:00:40.510 DEBUG [00e57d4c-de8f-492e-a42e-3b2c8c401add] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 00:00:40.510  INFO [00e57d4c-de8f-492e-a42e-3b2c8c401add] 31872 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 00:00:40.580  INFO [00e57d4c-de8f-492e-a42e-3b2c8c401add] 31872 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 00:00:41.313 DEBUG [d29b4115-dd53-49b1-874c-35708db1f2ca] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 00:00:41.321 DEBUG [d29b4115-dd53-49b1-874c-35708db1f2ca] 31872 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 86A979FBB3BCD5090B4E5629A9B5F0B4
2025-05-27 00:00:41.322 DEBUG [d29b4115-dd53-49b1-874c-35708db1f2ca] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 00:00:41.322  INFO [d29b4115-dd53-49b1-874c-35708db1f2ca] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 00:00:41.357  INFO [d29b4115-dd53-49b1-874c-35708db1f2ca] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 00:00:41.364 DEBUG [c8cfb996-9f64-4e90-b2b1-66f155a8ef74] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 00:00:41.372 DEBUG [c8cfb996-9f64-4e90-b2b1-66f155a8ef74] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 00:00:41.372  INFO [c8cfb996-9f64-4e90-b2b1-66f155a8ef74] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 00:00:41.406  INFO [c8cfb996-9f64-4e90-b2b1-66f155a8ef74] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 00:00:43.474 DEBUG [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:00:43.476 DEBUG [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:00:43.478 DEBUG [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:00:43.478  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:00:43.478  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:00:43.478  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:00:43.478  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 00:00:43.479  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 00:00:43.534  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Database query completed, found 8 flights
2025-05-27 00:00:43.535  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Converting 8 Flight entities to FlightDTOs
2025-05-27 00:00:43.535  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Converted to 8 FlightDTOs
2025-05-27 00:00:43.535  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 00:00:43.535  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 00:00:43.535  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 00:00:43.535  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 1 flights)
2025-05-27 00:00:43.535  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 1 flights)
2025-05-27 00:00:43.536  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 1 flights)
2025-05-27 00:00:43.536  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 1 flights)
2025-05-27 00:00:43.536  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from France (has 1 flights)
2025-05-27 00:00:43.536  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 1 flights)
2025-05-27 00:00:43.536  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 00:00:43.536  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 00:00:43.536  INFO [02374438-47ed-4bc5-a68e-bbadf6cb3135] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 00:01:53.286 DEBUG [14415364-fa74-4a54-980f-c7635aefd99a] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:01:53.296 DEBUG [14415364-fa74-4a54-980f-c7635aefd99a] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:01:53.297  INFO [14415364-fa74-4a54-980f-c7635aefd99a] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:01:53.301  INFO [14415364-fa74-4a54-980f-c7635aefd99a] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:01:53.316 DEBUG [915d379c-f590-4b6d-8f14-b8eba365f3f6] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:01:53.326 DEBUG [915d379c-f590-4b6d-8f14-b8eba365f3f6] 31872 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C8D4D751D87B46018D9F213E01E41F65
2025-05-27 00:01:53.328 DEBUG [915d379c-f590-4b6d-8f14-b8eba365f3f6] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:01:53.333  WARN [915d379c-f590-4b6d-8f14-b8eba365f3f6] 31872 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:01:53.333  WARN [915d379c-f590-4b6d-8f14-b8eba365f3f6] 31872 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:01:53.518 DEBUG [625920fd-ff2e-4d0e-afef-d13bc87c60b4] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:01:53.530 DEBUG [625920fd-ff2e-4d0e-afef-d13bc87c60b4] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:01:53.531  INFO [625920fd-ff2e-4d0e-afef-d13bc87c60b4] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:01:53.536  INFO [625920fd-ff2e-4d0e-afef-d13bc87c60b4] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:01:53.550 DEBUG [db043236-ada0-4e73-90f8-731ca53aa49b] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:01:53.562 DEBUG [db043236-ada0-4e73-90f8-731ca53aa49b] 31872 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 745BEC6D93657A952A6E1C09BE181999
2025-05-27 00:01:53.564 DEBUG [db043236-ada0-4e73-90f8-731ca53aa49b] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:01:53.576  WARN [db043236-ada0-4e73-90f8-731ca53aa49b] 31872 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:01:53.577  WARN [db043236-ada0-4e73-90f8-731ca53aa49b] 31872 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:02:32.219 DEBUG [6e7e3422-0d3c-471f-830f-fd38b3b4df5b] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:02:32.231 DEBUG [6e7e3422-0d3c-471f-830f-fd38b3b4df5b] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:02:32.232  INFO [6e7e3422-0d3c-471f-830f-fd38b3b4df5b] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:02:32.236  INFO [6e7e3422-0d3c-471f-830f-fd38b3b4df5b] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:02:32.330 DEBUG [591e5715-cba5-424e-abcc-fa472184abb9] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:02:32.331 DEBUG [886d8aee-f56b-4a87-87e8-e2b82676c52f] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:02:32.355 DEBUG [886d8aee-f56b-4a87-87e8-e2b82676c52f] 31872 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C0866998308017D55CADAD365905FF2C
2025-05-27 00:02:32.356 DEBUG [886d8aee-f56b-4a87-87e8-e2b82676c52f] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:02:32.356  INFO [886d8aee-f56b-4a87-87e8-e2b82676c52f] 31872 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:02:32.365 DEBUG [591e5715-cba5-424e-abcc-fa472184abb9] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:02:32.377  WARN [591e5715-cba5-424e-abcc-fa472184abb9] 31872 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:02:32.378  INFO [886d8aee-f56b-4a87-87e8-e2b82676c52f] 31872 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 00:02:32.378  WARN [591e5715-cba5-424e-abcc-fa472184abb9] 31872 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:02:32.389 DEBUG [bb158292-22ea-4a0a-9f89-a06d0c062808] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:02:32.410 DEBUG [bb158292-22ea-4a0a-9f89-a06d0c062808] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:02:32.425  WARN [bb158292-22ea-4a0a-9f89-a06d0c062808] 31872 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:02:32.427  WARN [bb158292-22ea-4a0a-9f89-a06d0c062808] 31872 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:02:32.680 DEBUG [c24a8e0d-1066-4650-a2c8-5cf8b4642d16] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:02:32.692 DEBUG [c24a8e0d-1066-4650-a2c8-5cf8b4642d16] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:02:32.693  INFO [c24a8e0d-1066-4650-a2c8-5cf8b4642d16] 31872 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:02:32.699  INFO [c24a8e0d-1066-4650-a2c8-5cf8b4642d16] 31872 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:02:32.714 DEBUG [411e3047-bea8-4779-8fc8-c4d6180f4279] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:02:32.733 DEBUG [411e3047-bea8-4779-8fc8-c4d6180f4279] 31872 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DD24794983427D23A8B1F0A6131B622A
2025-05-27 00:02:32.735 DEBUG [411e3047-bea8-4779-8fc8-c4d6180f4279] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:02:32.744  WARN [411e3047-bea8-4779-8fc8-c4d6180f4279] 31872 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:02:32.744  WARN [411e3047-bea8-4779-8fc8-c4d6180f4279] 31872 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:02:33.112 DEBUG [b47dbd72-2a88-442e-9af6-8cadab46df98] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:02:33.179 DEBUG [b47dbd72-2a88-442e-9af6-8cadab46df98] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:02:33.181  INFO [b47dbd72-2a88-442e-9af6-8cadab46df98] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:02:33.190  INFO [b47dbd72-2a88-442e-9af6-8cadab46df98] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:02:33.225 DEBUG [c3ee5e6f-0a2d-481b-b731-73df8416f0c3] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:02:33.237 DEBUG [c3ee5e6f-0a2d-481b-b731-73df8416f0c3] 31872 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E90F818BD9C109A11C03B8991A53429B
2025-05-27 00:02:33.238 DEBUG [c3ee5e6f-0a2d-481b-b731-73df8416f0c3] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:02:33.243  WARN [c3ee5e6f-0a2d-481b-b731-73df8416f0c3] 31872 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:02:33.244  WARN [c3ee5e6f-0a2d-481b-b731-73df8416f0c3] 31872 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:02:33.515 DEBUG [c1a57ebb-8b0e-4d09-9dce-47082e15576f] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:02:33.517 DEBUG [c1a57ebb-8b0e-4d09-9dce-47082e15576f] 31872 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:02:33.517 DEBUG [c1a57ebb-8b0e-4d09-9dce-47082e15576f] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:02:33.518  INFO [c1a57ebb-8b0e-4d09-9dce-47082e15576f] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:02:33.519  INFO [c1a57ebb-8b0e-4d09-9dce-47082e15576f] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:02:33.519  INFO [c1a57ebb-8b0e-4d09-9dce-47082e15576f] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:02:33.519  INFO [c1a57ebb-8b0e-4d09-9dce-47082e15576f] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:02:36.162 DEBUG [aa85d5f2-aa26-4b65-aab4-754ce719a634] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:02:36.173 DEBUG [aa85d5f2-aa26-4b65-aab4-754ce719a634] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:02:36.174  INFO [aa85d5f2-aa26-4b65-aab4-754ce719a634] 31872 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:02:36.178  INFO [aa85d5f2-aa26-4b65-aab4-754ce719a634] 31872 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:02:36.258 DEBUG [5e2138cc-2d95-4522-a6b0-8308d758fd7b] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:02:36.258 DEBUG [6900cd01-3cfb-44eb-a69c-b0c1281d70de] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:02:36.273 DEBUG [5e2138cc-2d95-4522-a6b0-8308d758fd7b] 31872 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 53EEED76205DF0E451090C1060A5DEF4
2025-05-27 00:02:36.274 DEBUG [6900cd01-3cfb-44eb-a69c-b0c1281d70de] 31872 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:02:36.274 DEBUG [5e2138cc-2d95-4522-a6b0-8308d758fd7b] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:02:36.275  INFO [5e2138cc-2d95-4522-a6b0-8308d758fd7b] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:02:36.275 DEBUG [6900cd01-3cfb-44eb-a69c-b0c1281d70de] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:02:36.300  WARN [6900cd01-3cfb-44eb-a69c-b0c1281d70de] 31872 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:02:36.301  WARN [6900cd01-3cfb-44eb-a69c-b0c1281d70de] 31872 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:02:36.306  INFO [5e2138cc-2d95-4522-a6b0-8308d758fd7b] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 00:02:36.310 DEBUG [27ef5b8e-b661-482d-9107-d8ef99de9e29] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:02:36.326 DEBUG [27ef5b8e-b661-482d-9107-d8ef99de9e29] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:02:36.333  WARN [27ef5b8e-b661-482d-9107-d8ef99de9e29] 31872 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:02:36.334  WARN [27ef5b8e-b661-482d-9107-d8ef99de9e29] 31872 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:04:14.226 DEBUG [45ea6b5c-c980-42e1-9019-ac958d7e947b] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/placeholder/150/150
2025-05-27 00:04:14.226 DEBUG [45ea6b5c-c980-42e1-9019-ac958d7e947b] 31872 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:04:14.227 DEBUG [45ea6b5c-c980-42e1-9019-ac958d7e947b] 31872 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:04:14.247 DEBUG [45ea6b5c-c980-42e1-9019-ac958d7e947b] 31872 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 00:04:14.247 DEBUG [45ea6b5c-c980-42e1-9019-ac958d7e947b] 31872 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@76106012
2025-05-27 00:04:58.370 DEBUG [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:04:58.371 DEBUG [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:04:58.371 DEBUG [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:04:58.371 DEBUG [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:04:58.372  INFO [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:04:58.372  INFO [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:04:58.372  INFO [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:04:58.372  INFO [54b4fbd1-f780-43b0-b65f-4407e24f5367] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:04:59.206 DEBUG [e0fc7abd-2ffb-4a18-aea0-cd208351958e] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/placeholder/150/150
2025-05-27 00:04:59.209 DEBUG [e0fc7abd-2ffb-4a18-aea0-cd208351958e] 31872 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:04:59.209 DEBUG [e0fc7abd-2ffb-4a18-aea0-cd208351958e] 31872 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:04:59.213 DEBUG [e0fc7abd-2ffb-4a18-aea0-cd208351958e] 31872 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 00:04:59.213 DEBUG [e0fc7abd-2ffb-4a18-aea0-cd208351958e] 31872 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@76106012
2025-05-27 00:05:00.268 DEBUG [124cc669-6b76-4628-a732-4b13b11f007b] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 00:05:00.269 DEBUG [124cc669-6b76-4628-a732-4b13b11f007b] 31872 --- [io-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 00:05:05.799 DEBUG [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:05:05.799 DEBUG [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:05:05.800 DEBUG [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:05:05.800 DEBUG [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:05:05.800  INFO [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:05:05.800  INFO [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:05:05.800  INFO [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:05:05.801  INFO [2a19b58c-8801-4118-84cf-a43fc6c7049d] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:05:11.998 DEBUG [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 00:05:11.999 DEBUG [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:05:11.999 DEBUG [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 00:05:12.000  INFO [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 00:05:12.178  INFO [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 00:05:12.179  INFO [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 00:05:12.304 DEBUG [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 00:05:12.304  INFO [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Authentication successful for user: user1
2025-05-27 00:05:12.321  INFO [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Updated last login time for user: user1
2025-05-27 00:05:12.321  INFO [121602b0-fd33-4987-a1ac-85f837396a6c] 31872 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user1
2025-05-27 00:05:12.358 DEBUG [b384614b-4360-4fa9-ba2b-2c624e732790] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:05:12.358 DEBUG [8aa990f1-8699-4f01-9a30-43a2a93d44af] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:05:12.457 DEBUG [b384614b-4360-4fa9-ba2b-2c624e732790] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:05:12.457 DEBUG [8aa990f1-8699-4f01-9a30-43a2a93d44af] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:05:12.458  INFO [b384614b-4360-4fa9-ba2b-2c624e732790] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:05:12.533  WARN [8aa990f1-8699-4f01-9a30-43a2a93d44af] 31872 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:05:12.534  WARN [8aa990f1-8699-4f01-9a30-43a2a93d44af] 31872 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:05:12.540  INFO [b384614b-4360-4fa9-ba2b-2c624e732790] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:05:13.629 DEBUG [43d79183-834c-4779-ab33-a0ee9790a69d] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/placeholder/150/150
2025-05-27 00:05:13.629 DEBUG [43d79183-834c-4779-ab33-a0ee9790a69d] 31872 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:05:13.629 DEBUG [43d79183-834c-4779-ab33-a0ee9790a69d] 31872 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:05:13.633 DEBUG [43d79183-834c-4779-ab33-a0ee9790a69d] 31872 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 00:05:13.633 DEBUG [43d79183-834c-4779-ab33-a0ee9790a69d] 31872 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@76106012
2025-05-27 00:05:17.678 DEBUG [e524b68c-f597-4e40-8a77-860e074ce658] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:05:17.889 DEBUG [e524b68c-f597-4e40-8a77-860e074ce658] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:05:17.895  INFO [e524b68c-f597-4e40-8a77-860e074ce658] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:05:18.017  INFO [e524b68c-f597-4e40-8a77-860e074ce658] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:05:23.520 DEBUG [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 00:05:23.521 DEBUG [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:05:23.521 DEBUG [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 00:05:23.523  INFO [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 00:05:23.682  INFO [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 00:05:23.683  INFO [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 00:05:23.842 DEBUG [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 00:05:23.842  INFO [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Authentication successful for user: user1
2025-05-27 00:05:23.866  INFO [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Updated last login time for user: user1
2025-05-27 00:05:23.866  INFO [0f60d81c-12b7-482f-b7fc-a39e746c78db] 31872 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user1
2025-05-27 00:05:23.906 DEBUG [b0116598-b35e-492e-862d-b0e13d87bce8] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:05:23.909 DEBUG [ae852ac0-528d-4512-9259-3c9ad1396a10] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:05:23.997 DEBUG [b0116598-b35e-492e-862d-b0e13d87bce8] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:05:23.999 DEBUG [ae852ac0-528d-4512-9259-3c9ad1396a10] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:05:23.999  INFO [ae852ac0-528d-4512-9259-3c9ad1396a10] 31872 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:05:24.068  WARN [b0116598-b35e-492e-862d-b0e13d87bce8] 31872 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:05:24.069  WARN [b0116598-b35e-492e-862d-b0e13d87bce8] 31872 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:05:24.079  INFO [ae852ac0-528d-4512-9259-3c9ad1396a10] 31872 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:05:24.412 DEBUG [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:05:24.413 DEBUG [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:05:24.413 DEBUG [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:05:24.413 DEBUG [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:05:24.414  INFO [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:05:24.414  INFO [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:05:24.414  INFO [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:05:24.414  INFO [741c2114-5df9-494a-b066-990f51e6f699] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:05:26.009 DEBUG [a354bc3b-8e8f-40b4-8fb3-7e4d71c60a2e] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:05:26.075 DEBUG [a354bc3b-8e8f-40b4-8fb3-7e4d71c60a2e] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:05:26.075  INFO [a354bc3b-8e8f-40b4-8fb3-7e4d71c60a2e] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:05:26.135  INFO [a354bc3b-8e8f-40b4-8fb3-7e4d71c60a2e] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:05:26.153 DEBUG [a42a82bf-aa80-4d9e-a9b3-c2813c2b2a83] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:05:26.229 DEBUG [a42a82bf-aa80-4d9e-a9b3-c2813c2b2a83] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:05:26.310  WARN [a42a82bf-aa80-4d9e-a9b3-c2813c2b2a83] 31872 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:05:26.311  WARN [a42a82bf-aa80-4d9e-a9b3-c2813c2b2a83] 31872 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:05:26.378 DEBUG [68d6ceef-6929-4ad1-8036-3f6c16f98de7] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:05:26.453 DEBUG [68d6ceef-6929-4ad1-8036-3f6c16f98de7] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:05:26.453  INFO [68d6ceef-6929-4ad1-8036-3f6c16f98de7] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:05:26.516  INFO [68d6ceef-6929-4ad1-8036-3f6c16f98de7] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:05:26.530 DEBUG [8e4d7973-45e7-4da9-8e45-ec3bc029d8b6] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:05:26.603 DEBUG [8e4d7973-45e7-4da9-8e45-ec3bc029d8b6] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:05:26.669  WARN [8e4d7973-45e7-4da9-8e45-ec3bc029d8b6] 31872 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:05:26.670  WARN [8e4d7973-45e7-4da9-8e45-ec3bc029d8b6] 31872 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:05:28.671 DEBUG [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:05:28.672 DEBUG [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:05:28.672 DEBUG [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:05:28.673 DEBUG [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:05:28.673  INFO [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:05:28.674  INFO [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:05:28.674  INFO [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:05:28.674  INFO [b1ed87e1-d1ab-49d4-b451-db8383595cf0] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:06:22.436 DEBUG [fad9d70f-caff-47e6-9116-2c234d0b2da4] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:06:22.499 DEBUG [fad9d70f-caff-47e6-9116-2c234d0b2da4] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:06:22.500  INFO [fad9d70f-caff-47e6-9116-2c234d0b2da4] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:06:22.559  INFO [fad9d70f-caff-47e6-9116-2c234d0b2da4] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:06:22.575 DEBUG [d04f4495-ff56-4718-ba26-474d5c48aac7] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:06:22.658 DEBUG [d04f4495-ff56-4718-ba26-474d5c48aac7] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:06:22.739  WARN [d04f4495-ff56-4718-ba26-474d5c48aac7] 31872 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:06:22.740  WARN [d04f4495-ff56-4718-ba26-474d5c48aac7] 31872 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:06:22.805 DEBUG [7d429ebe-d830-431e-931b-9e4df5a65cd9] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:06:22.880 DEBUG [7d429ebe-d830-431e-931b-9e4df5a65cd9] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:06:22.881  INFO [7d429ebe-d830-431e-931b-9e4df5a65cd9] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:06:22.942  INFO [7d429ebe-d830-431e-931b-9e4df5a65cd9] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:06:22.952 DEBUG [44b9eb9c-fb32-4945-837c-d85a50f79dd1] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:06:23.016 DEBUG [44b9eb9c-fb32-4945-837c-d85a50f79dd1] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:06:23.080  WARN [44b9eb9c-fb32-4945-837c-d85a50f79dd1] 31872 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:06:23.080  WARN [44b9eb9c-fb32-4945-837c-d85a50f79dd1] 31872 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:07:21.527 DEBUG [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:07:21.527 DEBUG [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:07:21.527 DEBUG [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:07:21.528 DEBUG [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:07:21.528  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:07:21.528  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:07:21.528  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:07:21.529  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 00:07:21.529  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 00:07:21.572  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 8 flights
2025-05-27 00:07:21.573  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 8 Flight entities to FlightDTOs
2025-05-27 00:07:21.573  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 8 FlightDTOs
2025-05-27 00:07:21.573  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 00:07:21.573  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 00:07:21.573  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 00:07:21.574  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 1 flights)
2025-05-27 00:07:21.574  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 1 flights)
2025-05-27 00:07:21.574  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 1 flights)
2025-05-27 00:07:21.574  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 1 flights)
2025-05-27 00:07:21.574  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 1 flights)
2025-05-27 00:07:21.574  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 1 flights)
2025-05-27 00:07:21.574  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 00:07:21.575  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 00:07:21.575  INFO [137d64a9-279e-4804-90a2-d887433dae26] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 00:07:24.465 DEBUG [4a08d600-b76e-48d1-9b24-d67b37c2efff] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:07:24.540 DEBUG [4a08d600-b76e-48d1-9b24-d67b37c2efff] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:07:24.541  INFO [4a08d600-b76e-48d1-9b24-d67b37c2efff] 31872 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:07:24.612  INFO [4a08d600-b76e-48d1-9b24-d67b37c2efff] 31872 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:07:24.673 DEBUG [f893bd99-b58d-4fa3-b5d0-c4967bdcd828] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:07:24.673 DEBUG [d34876be-ccdb-4902-8cc2-a6c5423b95e8] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:07:24.799 DEBUG [d34876be-ccdb-4902-8cc2-a6c5423b95e8] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:07:24.799 DEBUG [f893bd99-b58d-4fa3-b5d0-c4967bdcd828] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:07:24.800  INFO [f893bd99-b58d-4fa3-b5d0-c4967bdcd828] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:07:24.868  WARN [d34876be-ccdb-4902-8cc2-a6c5423b95e8] 31872 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:07:24.869  WARN [d34876be-ccdb-4902-8cc2-a6c5423b95e8] 31872 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:07:24.876  INFO [f893bd99-b58d-4fa3-b5d0-c4967bdcd828] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:07:24.882 DEBUG [15befa7d-68ba-46f3-b7d3-f50d54c7ba48] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:07:24.961 DEBUG [15befa7d-68ba-46f3-b7d3-f50d54c7ba48] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:07:25.022  WARN [15befa7d-68ba-46f3-b7d3-f50d54c7ba48] 31872 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:07:25.022  WARN [15befa7d-68ba-46f3-b7d3-f50d54c7ba48] 31872 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:07:29.320 DEBUG [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:07:29.321 DEBUG [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:07:29.321 DEBUG [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:07:29.322 DEBUG [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:07:29.322  INFO [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:07:29.322  INFO [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:07:29.322  INFO [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:07:29.323  INFO [3bbf7af3-e9b2-41a3-b9ce-96afb796a725] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:09:36.405 DEBUG [aeab03dc-2ec8-417a-a890-28ddb6c84063] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:09:36.543 DEBUG [aeab03dc-2ec8-417a-a890-28ddb6c84063] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:09:36.544  INFO [aeab03dc-2ec8-417a-a890-28ddb6c84063] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:09:36.693  INFO [aeab03dc-2ec8-417a-a890-28ddb6c84063] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:09:36.919 DEBUG [09754be5-7b3b-4e3a-8e51-259a8316b36f] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:09:36.919 DEBUG [038cdf57-057c-4922-a3d4-52de6d0e9673] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:09:37.084 DEBUG [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:09:37.085 DEBUG [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:09:37.086 DEBUG [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:09:37.087 DEBUG [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:09:37.087  INFO [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:09:37.090  INFO [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:09:37.090  INFO [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:09:37.090  INFO [8b82db3d-ae24-44fd-8fd0-4834337bbfc5] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:09:39.022 DEBUG [038cdf57-057c-4922-a3d4-52de6d0e9673] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:09:39.022 DEBUG [09754be5-7b3b-4e3a-8e51-259a8316b36f] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:09:39.092  INFO [038cdf57-057c-4922-a3d4-52de6d0e9673] 31872 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:09:39.816  WARN [09754be5-7b3b-4e3a-8e51-259a8316b36f] 31872 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:09:39.818  WARN [09754be5-7b3b-4e3a-8e51-259a8316b36f] 31872 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:09:39.820  INFO [038cdf57-057c-4922-a3d4-52de6d0e9673] 31872 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:09:39.829 DEBUG [0f2c8119-839a-4bb9-9d5a-435705e3ea07] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:09:40.066 DEBUG [0f2c8119-839a-4bb9-9d5a-435705e3ea07] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:09:40.189  WARN [0f2c8119-839a-4bb9-9d5a-435705e3ea07] 31872 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:09:40.190  WARN [0f2c8119-839a-4bb9-9d5a-435705e3ea07] 31872 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:09:41.403 DEBUG [4936ef04-4837-4877-854b-ffd70eef4e53] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:09:41.473 DEBUG [4936ef04-4837-4877-854b-ffd70eef4e53] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:09:41.474  INFO [4936ef04-4837-4877-854b-ffd70eef4e53] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:09:41.535  INFO [4936ef04-4837-4877-854b-ffd70eef4e53] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:09:41.590 DEBUG [d047958c-bf34-494c-8b69-414a12ba3ee0] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:09:41.590 DEBUG [265b48a3-9dcc-462b-abe2-b43cf96b3149] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:09:41.689 DEBUG [d047958c-bf34-494c-8b69-414a12ba3ee0] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:09:41.690  INFO [d047958c-bf34-494c-8b69-414a12ba3ee0] 31872 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:09:41.692 DEBUG [265b48a3-9dcc-462b-abe2-b43cf96b3149] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:09:41.774  WARN [265b48a3-9dcc-462b-abe2-b43cf96b3149] 31872 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:09:41.775  WARN [265b48a3-9dcc-462b-abe2-b43cf96b3149] 31872 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:09:41.776  INFO [d047958c-bf34-494c-8b69-414a12ba3ee0] 31872 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:09:41.784 DEBUG [33d0ff1b-c8ae-4d32-a8b9-c68519840b92] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:09:41.863 DEBUG [33d0ff1b-c8ae-4d32-a8b9-c68519840b92] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:09:41.925  WARN [33d0ff1b-c8ae-4d32-a8b9-c68519840b92] 31872 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:09:41.926  WARN [33d0ff1b-c8ae-4d32-a8b9-c68519840b92] 31872 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:09:45.131 DEBUG [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:09:45.131 DEBUG [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:09:45.131 DEBUG [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:09:45.132 DEBUG [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:09:45.132  INFO [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:09:45.132  INFO [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:09:45.133  INFO [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:09:45.133  INFO [26eb53f4-31b5-4219-a442-3f18ed94e12e] 31872 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:09:49.068 DEBUG [6e02a0cb-95f2-4d9e-8399-f09ecad8ab36] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:09:49.132 DEBUG [6e02a0cb-95f2-4d9e-8399-f09ecad8ab36] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:09:49.133  INFO [6e02a0cb-95f2-4d9e-8399-f09ecad8ab36] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:09:49.199  INFO [6e02a0cb-95f2-4d9e-8399-f09ecad8ab36] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:09:49.260 DEBUG [64690373-7a09-4a5e-9696-14ed44ac7397] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:09:49.260 DEBUG [a667c163-ef8c-414d-9835-b2aa1d15cb12] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-06-02&tripType=oneWay
2025-05-27 00:09:49.261 DEBUG [01612c9e-01ad-4575-bc29-f86c67930ce1] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:09:49.262 DEBUG [a667c163-ef8c-414d-9835-b2aa1d15cb12] 31872 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:09:49.264 DEBUG [a667c163-ef8c-414d-9835-b2aa1d15cb12] 31872 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:09:49.265 DEBUG [a667c163-ef8c-414d-9835-b2aa1d15cb12] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-06-02&tripType=oneWay
2025-05-27 00:09:49.266  INFO [a667c163-ef8c-414d-9835-b2aa1d15cb12] 31872 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=ATH, Depart=2025-06-02, Return=null, Pax=1/0/0
2025-05-27 00:09:49.267  INFO [a667c163-ef8c-414d-9835-b2aa1d15cb12] 31872 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to ATH on 2025-06-02
2025-05-27 00:09:49.331  INFO [a667c163-ef8c-414d-9835-b2aa1d15cb12] 31872 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 00:09:49.340 DEBUG [9dc7d2df-287c-46af-a975-7fe9b1fb2843] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-06-02&tripType=oneWay
2025-05-27 00:09:49.340 DEBUG [9dc7d2df-287c-46af-a975-7fe9b1fb2843] 31872 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:09:49.341 DEBUG [9dc7d2df-287c-46af-a975-7fe9b1fb2843] 31872 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:09:49.341 DEBUG [9dc7d2df-287c-46af-a975-7fe9b1fb2843] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-06-02&tripType=oneWay
2025-05-27 00:09:49.342  INFO [9dc7d2df-287c-46af-a975-7fe9b1fb2843] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=ATH, Depart=2025-06-02, Return=null, Pax=1/0/0
2025-05-27 00:09:49.342  INFO [9dc7d2df-287c-46af-a975-7fe9b1fb2843] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to ATH on 2025-06-02
2025-05-27 00:09:49.350 DEBUG [01612c9e-01ad-4575-bc29-f86c67930ce1] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:09:49.350 DEBUG [64690373-7a09-4a5e-9696-14ed44ac7397] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:09:49.350  INFO [01612c9e-01ad-4575-bc29-f86c67930ce1] 31872 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:09:49.388  INFO [9dc7d2df-287c-46af-a975-7fe9b1fb2843] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 00:09:49.419  WARN [64690373-7a09-4a5e-9696-14ed44ac7397] 31872 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:09:49.419  WARN [64690373-7a09-4a5e-9696-14ed44ac7397] 31872 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:09:49.425  INFO [01612c9e-01ad-4575-bc29-f86c67930ce1] 31872 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:09:49.428 DEBUG [dacac2a5-d9b5-4494-8d05-8adad2053112] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:09:49.492 DEBUG [dacac2a5-d9b5-4494-8d05-8adad2053112] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:09:49.550  WARN [dacac2a5-d9b5-4494-8d05-8adad2053112] 31872 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:09:49.550  WARN [dacac2a5-d9b5-4494-8d05-8adad2053112] 31872 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:09:51.584 DEBUG [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:09:51.584 DEBUG [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:09:51.584 DEBUG [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:09:51.585 DEBUG [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:09:51.585  INFO [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:09:51.585  INFO [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:09:51.585  INFO [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:09:51.585  INFO [bc6341c7-6528-4157-ab6e-ed6239806441] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:11:40.933 DEBUG [7dc0a2fd-b547-4ae1-9d18-133785326c7b] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:11:40.997 DEBUG [7dc0a2fd-b547-4ae1-9d18-133785326c7b] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:11:40.997  INFO [7dc0a2fd-b547-4ae1-9d18-133785326c7b] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:11:41.054  INFO [7dc0a2fd-b547-4ae1-9d18-133785326c7b] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:11:41.070 DEBUG [4c7ea572-70db-4258-bc3c-507a30171195] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:11:41.156 DEBUG [4c7ea572-70db-4258-bc3c-507a30171195] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:11:41.223  WARN [4c7ea572-70db-4258-bc3c-507a30171195] 31872 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:11:41.224  WARN [4c7ea572-70db-4258-bc3c-507a30171195] 31872 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:11:41.299 DEBUG [915db6ca-4a7e-48c1-be6e-64ef663c346d] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:11:41.366 DEBUG [915db6ca-4a7e-48c1-be6e-64ef663c346d] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:11:41.366  INFO [915db6ca-4a7e-48c1-be6e-64ef663c346d] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:11:41.433  INFO [915db6ca-4a7e-48c1-be6e-64ef663c346d] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:11:41.446 DEBUG [6ef5ceb0-1c32-4190-944c-5824d0a5dbe1] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:11:41.522 DEBUG [6ef5ceb0-1c32-4190-944c-5824d0a5dbe1] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:11:41.584  WARN [6ef5ceb0-1c32-4190-944c-5824d0a5dbe1] 31872 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:11:41.584  WARN [6ef5ceb0-1c32-4190-944c-5824d0a5dbe1] 31872 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:11:50.260 DEBUG [76873a9a-c446-4540-b1fd-a0f6a73b45ec] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/avatar
2025-05-27 00:11:50.323 DEBUG [76873a9a-c446-4540-b1fd-a0f6a73b45ec] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/avatar
2025-05-27 00:11:50.483 DEBUG [f58e71b3-bcbc-4606-b109-6f8e75ac05ad] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:11:50.553 DEBUG [f58e71b3-bcbc-4606-b109-6f8e75ac05ad] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:12:34.466 DEBUG [002b66fe-8de1-4878-96fa-628606632446] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:12:34.561 DEBUG [002b66fe-8de1-4878-96fa-628606632446] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:12:34.562  INFO [002b66fe-8de1-4878-96fa-628606632446] 31872 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:12:34.667  INFO [002b66fe-8de1-4878-96fa-628606632446] 31872 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:12:34.728 DEBUG [7c615bd4-1ec3-4e1b-835a-b6933833bc0c] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:12:34.728 DEBUG [cb27ad16-47c5-4043-bcbf-eb2f12d45b42] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:12:34.851 DEBUG [7c615bd4-1ec3-4e1b-835a-b6933833bc0c] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:12:34.851  INFO [7c615bd4-1ec3-4e1b-835a-b6933833bc0c] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:12:34.854 DEBUG [cb27ad16-47c5-4043-bcbf-eb2f12d45b42] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:12:34.956  INFO [7c615bd4-1ec3-4e1b-835a-b6933833bc0c] 31872 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:12:34.958 DEBUG [b375175c-b3bd-45a8-85a8-f558d0884527] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:12:35.081 DEBUG [b375175c-b3bd-45a8-85a8-f558d0884527] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:12:35.090 DEBUG [0ac2b8b2-98be-4c88-a125-02b52f15fd0e] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:12:35.201 DEBUG [0ac2b8b2-98be-4c88-a125-02b52f15fd0e] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:12:35.202  INFO [0ac2b8b2-98be-4c88-a125-02b52f15fd0e] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:12:35.298  INFO [0ac2b8b2-98be-4c88-a125-02b52f15fd0e] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:12:35.316 DEBUG [e7315b49-6193-480c-aac8-0639530f61c9] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:12:35.432 DEBUG [e7315b49-6193-480c-aac8-0639530f61c9] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:12:35.596 DEBUG [115988f6-1a81-45ad-bc20-bc3930fe31c1] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:12:35.670 DEBUG [115988f6-1a81-45ad-bc20-bc3930fe31c1] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:12:35.670  INFO [115988f6-1a81-45ad-bc20-bc3930fe31c1] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:12:35.741  INFO [115988f6-1a81-45ad-bc20-bc3930fe31c1] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:12:35.754 DEBUG [a6945785-9c27-44bc-ae35-7645512ed9dd] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:12:35.831 DEBUG [a6945785-9c27-44bc-ae35-7645512ed9dd] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:12:53.654 DEBUG [d1dc7195-987d-42ef-9a25-d5b27f3451eb] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/change-password
2025-05-27 00:12:53.725 DEBUG [d1dc7195-987d-42ef-9a25-d5b27f3451eb] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/change-password
2025-05-27 00:12:56.008 DEBUG [69ec2c29-4a95-4580-8178-c93e827abfb4] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 00:12:56.008 DEBUG [69ec2c29-4a95-4580-8178-c93e827abfb4] 31872 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 00:13:02.901 DEBUG [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:13:02.902 DEBUG [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:13:02.902 DEBUG [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:13:02.903 DEBUG [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:13:02.904  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:13:02.904  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:13:02.904  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:13:02.904  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 00:13:02.905  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 00:13:02.945  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 8 flights
2025-05-27 00:13:02.945  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converting 8 Flight entities to FlightDTOs
2025-05-27 00:13:02.945  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converted to 8 FlightDTOs
2025-05-27 00:13:02.945  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 00:13:02.945  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 1 flights)
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 1 flights)
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 1 flights)
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 1 flights)
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from France (has 1 flights)
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 1 flights)
2025-05-27 00:13:02.946  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 00:13:02.947  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 00:13:02.947  INFO [688b1021-ae88-4e11-aad4-36a4431dc9dc] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 00:13:10.696 DEBUG [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 00:13:10.697 DEBUG [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:13:10.697 DEBUG [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 00:13:10.698  INFO [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 00:13:10.870  INFO [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 00:13:10.870  INFO [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 00:13:10.999 DEBUG [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value
2025-05-27 00:13:11.000  WARN [6fc7a058-89c4-4fc3-9203-e02a7d3537e8] 31872 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : Authentication failed for user ****@****.***: Invalid credentials
2025-05-27 00:13:17.750 DEBUG [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 00:13:17.750 DEBUG [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:13:17.751 DEBUG [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 00:13:17.751  INFO [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 00:13:17.910  INFO [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 00:13:17.911  INFO [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 00:13:18.044 DEBUG [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 00:13:18.044  INFO [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : Authentication successful for user: user1
2025-05-27 00:13:18.066  INFO [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : Updated last login time for user: user1
2025-05-27 00:13:18.066  INFO [c25669b4-69e5-4350-94b9-9c6fd2cfc9db] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user1
2025-05-27 00:13:18.102 DEBUG [f051babf-7a32-4f25-9c54-acfc7b3e3ce7] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:13:18.102 DEBUG [f7164f63-9e98-407c-b019-0cc5509a5360] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:18.199 DEBUG [f051babf-7a32-4f25-9c54-acfc7b3e3ce7] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:13:18.199 DEBUG [f7164f63-9e98-407c-b019-0cc5509a5360] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:18.199  INFO [f051babf-7a32-4f25-9c54-acfc7b3e3ce7] 31872 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:13:18.292  INFO [f051babf-7a32-4f25-9c54-acfc7b3e3ce7] 31872 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:13:19.788 DEBUG [173d0590-6877-4710-81b0-82683bc77e64] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:13:19.858 DEBUG [173d0590-6877-4710-81b0-82683bc77e64] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:13:19.858  INFO [173d0590-6877-4710-81b0-82683bc77e64] 31872 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:13:19.923  INFO [173d0590-6877-4710-81b0-82683bc77e64] 31872 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:13:19.939 DEBUG [2a8fc4fb-3482-4e31-8c5c-3fe8cde76ce0] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:20.021 DEBUG [2a8fc4fb-3482-4e31-8c5c-3fe8cde76ce0] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:20.178 DEBUG [3e45ac01-e6ba-4e9e-ac32-3541443df041] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:13:20.265 DEBUG [3e45ac01-e6ba-4e9e-ac32-3541443df041] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:13:20.265  INFO [3e45ac01-e6ba-4e9e-ac32-3541443df041] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:13:20.347  INFO [3e45ac01-e6ba-4e9e-ac32-3541443df041] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:13:20.361 DEBUG [51b7f26f-bc10-452e-bcd1-c1b22e962ab7] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:20.452 DEBUG [51b7f26f-bc10-452e-bcd1-c1b22e962ab7] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:27.299 DEBUG [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:13:27.299 DEBUG [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:13:27.300 DEBUG [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:13:27.300 DEBUG [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:13:27.300  INFO [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:13:27.301  INFO [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:13:27.301  INFO [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:13:27.301  INFO [65b1f9b4-673b-4924-811e-a7ad9f1e928a] 31872 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:13:28.799 DEBUG [795ed750-8142-4062-9dad-33918f2655db] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:13:28.870 DEBUG [795ed750-8142-4062-9dad-33918f2655db] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:13:28.871  INFO [795ed750-8142-4062-9dad-33918f2655db] 31872 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:13:28.938  INFO [795ed750-8142-4062-9dad-33918f2655db] 31872 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:13:28.953 DEBUG [65ce4b42-cedd-491e-b646-9012bde9f260] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:29.030 DEBUG [65ce4b42-cedd-491e-b646-9012bde9f260] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:29.158 DEBUG [e28da9fc-fee3-4308-aeca-38d29161e733] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:13:29.229 DEBUG [e28da9fc-fee3-4308-aeca-38d29161e733] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:13:29.230  INFO [e28da9fc-fee3-4308-aeca-38d29161e733] 31872 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:13:29.299  INFO [e28da9fc-fee3-4308-aeca-38d29161e733] 31872 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:13:29.310 DEBUG [dd057d45-091d-4bbf-ac4c-b003ad433fb7] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:29.387 DEBUG [dd057d45-091d-4bbf-ac4c-b003ad433fb7] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:30.793 DEBUG [49b1a78a-e5f1-411e-9c74-94f9ad54ead0] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 00:13:30.874 DEBUG [49b1a78a-e5f1-411e-9c74-94f9ad54ead0] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 00:13:30.945  INFO [49b1a78a-e5f1-411e-9c74-94f9ad54ead0] 31872 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 00:13:30.945  INFO [49b1a78a-e5f1-411e-9c74-94f9ad54ead0] 31872 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 00:13:30.953 DEBUG [c6f644c2-67fb-40ee-98f7-305725b8dd8a] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 00:13:31.027 DEBUG [c6f644c2-67fb-40ee-98f7-305725b8dd8a] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 00:13:31.095  INFO [c6f644c2-67fb-40ee-98f7-305725b8dd8a] 31872 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 00:13:31.096  INFO [c6f644c2-67fb-40ee-98f7-305725b8dd8a] 31872 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 00:13:32.449 DEBUG [6124fbc1-fe28-4a85-83ff-39f31c1ac0db] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:13:32.515 DEBUG [6124fbc1-fe28-4a85-83ff-39f31c1ac0db] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:13:32.516  INFO [6124fbc1-fe28-4a85-83ff-39f31c1ac0db] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 00:13:32.577  INFO [6124fbc1-fe28-4a85-83ff-39f31c1ac0db] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 00:13:32.622 DEBUG [15887b2c-254f-401c-a51b-1b434c2ce714] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:13:32.622 DEBUG [6cc71a21-da4a-449a-95f3-a92fed23c019] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:32.700 DEBUG [15887b2c-254f-401c-a51b-1b434c2ce714] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:13:32.701  INFO [15887b2c-254f-401c-a51b-1b434c2ce714] 31872 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:13:32.701 DEBUG [6cc71a21-da4a-449a-95f3-a92fed23c019] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:32.769  INFO [15887b2c-254f-401c-a51b-1b434c2ce714] 31872 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 00:13:32.769 DEBUG [b78f798a-d83a-4f3d-91c0-45476a8dffa3] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:32.837 DEBUG [b78f798a-d83a-4f3d-91c0-45476a8dffa3] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:33.450 DEBUG [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:13:33.450 DEBUG [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:13:33.450 DEBUG [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:13:33.451 DEBUG [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:13:33.451  INFO [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:13:33.451  INFO [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:13:33.451  INFO [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:13:33.452  INFO [fe54843a-1c1c-49f6-af01-bd94844aa9f6] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:13:34.133 DEBUG [f47ee39d-d643-4659-b930-ff3e11277560] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 00:13:34.134 DEBUG [f47ee39d-d643-4659-b930-ff3e11277560] 31872 --- [nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 00:13:48.465 DEBUG [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 00:13:48.466 DEBUG [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:13:48.466 DEBUG [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 00:13:48.467  INFO [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 00:13:48.628  INFO [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 00:13:48.628  INFO [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 00:13:48.698 DEBUG [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '****@****.***'
2025-05-27 00:13:48.698  WARN [9f2c465e-0420-4f3d-b35a-521334913090] 31872 --- [nio-8080-exec-1] o.e.x.controllers.LoginController        : Authentication failed for user ****@****.***: Invalid credentials
2025-05-27 00:13:59.629 DEBUG [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 00:13:59.629 DEBUG [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:13:59.630 DEBUG [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 00:13:59.630  INFO [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 00:13:59.789  INFO [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 00:13:59.789  INFO [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 00:13:59.870 DEBUG [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 00:13:59.870  INFO [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 00:13:59.887  INFO [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 00:13:59.887  INFO [499d4631-ae6f-47f8-b8f9-08816d864d78] 31872 --- [nio-8080-exec-7] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 00:13:59.921 DEBUG [93826363-c6e5-4eba-ae2a-636c7c1c9482] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:13:59.921 DEBUG [b45ed0eb-167d-4031-b7fd-f9c13d557f12] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:13:59.934 DEBUG [93826363-c6e5-4eba-ae2a-636c7c1c9482] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:13:59.934  INFO [93826363-c6e5-4eba-ae2a-636c7c1c9482] 31872 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:13:59.935 DEBUG [b45ed0eb-167d-4031-b7fd-f9c13d557f12] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:13:59.935  WARN [b45ed0eb-167d-4031-b7fd-f9c13d557f12] 31872 --- [nio-8080-exec-9] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 00:13:59.945  INFO [93826363-c6e5-4eba-ae2a-636c7c1c9482] 31872 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 00:14:00.284 DEBUG [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:14:00.285 DEBUG [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:14:00.285 DEBUG [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:14:00.286 DEBUG [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:14:00.287  INFO [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:14:00.287  INFO [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:14:00.287  INFO [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:14:00.287  INFO [931241e8-a441-4aa3-817e-25f8a80c9e8c] 31872 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:14:01.825 DEBUG [97617bce-05f0-4299-a7c4-431df42a2517] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 00:14:01.854 DEBUG [97617bce-05f0-4299-a7c4-431df42a2517] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 00:14:01.854  INFO [97617bce-05f0-4299-a7c4-431df42a2517] 31872 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 00:14:01.959  INFO [97617bce-05f0-4299-a7c4-431df42a2517] 31872 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 00:14:01.966 DEBUG [13fcbae6-54a9-43d6-8c50-cedf40755323] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 00:14:01.977 DEBUG [13fcbae6-54a9-43d6-8c50-cedf40755323] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 00:14:01.978  INFO [13fcbae6-54a9-43d6-8c50-cedf40755323] 31872 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 00:14:02.060  INFO [13fcbae6-54a9-43d6-8c50-cedf40755323] 31872 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 00:14:03.611 DEBUG [0a531aa9-6f31-485c-b739-f972eb1cd738] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 00:14:03.621 DEBUG [0a531aa9-6f31-485c-b739-f972eb1cd738] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 00:14:03.621  INFO [0a531aa9-6f31-485c-b739-f972eb1cd738] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 00:14:03.699  INFO [0a531aa9-6f31-485c-b739-f972eb1cd738] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 00:14:03.705 DEBUG [02ef3946-c7c2-4aa3-a06e-b3a96651007c] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 00:14:03.716 DEBUG [02ef3946-c7c2-4aa3-a06e-b3a96651007c] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 00:14:03.716  INFO [02ef3946-c7c2-4aa3-a06e-b3a96651007c] 31872 --- [io-8080-exec-10] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 00:14:03.798  INFO [02ef3946-c7c2-4aa3-a06e-b3a96651007c] 31872 --- [io-8080-exec-10] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 00:14:04.351 DEBUG [d3ac1ed2-88dc-420d-9661-bd30989f6a7c] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 00:14:04.360 DEBUG [d3ac1ed2-88dc-420d-9661-bd30989f6a7c] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 00:14:04.360  INFO [d3ac1ed2-88dc-420d-9661-bd30989f6a7c] 31872 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 00:14:04.434  INFO [d3ac1ed2-88dc-420d-9661-bd30989f6a7c] 31872 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 00:14:04.440 DEBUG [5f32c83d-7dc3-48d2-82c1-90f99ec1ba9c] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 00:14:04.451 DEBUG [5f32c83d-7dc3-48d2-82c1-90f99ec1ba9c] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 00:14:04.451  INFO [5f32c83d-7dc3-48d2-82c1-90f99ec1ba9c] 31872 --- [nio-8080-exec-1] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 00:14:04.529  INFO [5f32c83d-7dc3-48d2-82c1-90f99ec1ba9c] 31872 --- [nio-8080-exec-1] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 00:15:14.632 DEBUG [b1b3b8e1-3900-4bb4-9290-432c793443e6] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:15:14.660 DEBUG [b1b3b8e1-3900-4bb4-9290-432c793443e6] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:15:14.660  INFO [b1b3b8e1-3900-4bb4-9290-432c793443e6] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:15:14.666  INFO [b1b3b8e1-3900-4bb4-9290-432c793443e6] 31872 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:15:14.758 DEBUG [0ea93c9a-5a96-4b6f-9553-0ced7f98dc05] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:15:14.761 DEBUG [7c9ff73f-dd33-4e70-a64a-465a6760e0ea] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:15:14.786 DEBUG [7c9ff73f-dd33-4e70-a64a-465a6760e0ea] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:15:14.787 DEBUG [0ea93c9a-5a96-4b6f-9553-0ced7f98dc05] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:15:14.793  INFO [7c9ff73f-dd33-4e70-a64a-465a6760e0ea] 31872 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:15:14.802  WARN [0ea93c9a-5a96-4b6f-9553-0ced7f98dc05] 31872 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:15:14.804  WARN [0ea93c9a-5a96-4b6f-9553-0ced7f98dc05] 31872 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:15:14.812  INFO [7c9ff73f-dd33-4e70-a64a-465a6760e0ea] 31872 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 00:15:14.813 DEBUG [6f6f4ca5-5335-4fea-833b-4c8f71b4f9c8] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:15:14.836 DEBUG [6f6f4ca5-5335-4fea-833b-4c8f71b4f9c8] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:15:14.857  WARN [6f6f4ca5-5335-4fea-833b-4c8f71b4f9c8] 31872 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:15:14.857  WARN [6f6f4ca5-5335-4fea-833b-4c8f71b4f9c8] 31872 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:15:14.873 DEBUG [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:15:14.875 DEBUG [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:15:14.894 DEBUG [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:15:14.895 DEBUG [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:15:14.898  INFO [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:15:14.899  INFO [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:15:14.899  INFO [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:15:14.899  INFO [370ef844-b066-42b9-a229-3ee0b5e29281] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:15:19.178 DEBUG [52f94f65-ca3b-490d-aa20-dcaa534cfb2d] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:15:19.187 DEBUG [52f94f65-ca3b-490d-aa20-dcaa534cfb2d] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:15:19.187  INFO [52f94f65-ca3b-490d-aa20-dcaa534cfb2d] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:15:19.191  INFO [52f94f65-ca3b-490d-aa20-dcaa534cfb2d] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:15:19.209 DEBUG [b448e2dc-4fd8-458f-b167-587b5f1f0cf2] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:15:19.221 DEBUG [b448e2dc-4fd8-458f-b167-587b5f1f0cf2] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:15:19.227  WARN [b448e2dc-4fd8-458f-b167-587b5f1f0cf2] 31872 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:15:19.228  WARN [b448e2dc-4fd8-458f-b167-587b5f1f0cf2] 31872 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:15:19.453 DEBUG [6c8ef779-9fe9-477e-a79d-e0258d7a5794] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:15:19.464 DEBUG [6c8ef779-9fe9-477e-a79d-e0258d7a5794] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:15:19.464  INFO [6c8ef779-9fe9-477e-a79d-e0258d7a5794] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:15:19.469  INFO [6c8ef779-9fe9-477e-a79d-e0258d7a5794] 31872 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:15:19.483 DEBUG [c1d2f530-7d0f-434f-8877-dbd7722a312c] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:15:19.493 DEBUG [c1d2f530-7d0f-434f-8877-dbd7722a312c] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:15:19.499  WARN [c1d2f530-7d0f-434f-8877-dbd7722a312c] 31872 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:15:19.499  WARN [c1d2f530-7d0f-434f-8877-dbd7722a312c] 31872 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:15:25.339 DEBUG [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:15:25.339 DEBUG [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:15:25.339 DEBUG [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:15:25.340 DEBUG [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:15:25.340  INFO [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:15:25.341  INFO [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:15:25.341  INFO [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:15:25.341  INFO [083b8576-4f99-41be-8288-9ec88efda8c8] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:16:29.698 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 00:16:29.699 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:16:29.699 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:16:29.700 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 00:16:29.700  INFO [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Weekend trip from Bucharest to Paris
2025-05-27 00:16:29.701  INFO [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 00:16:29.701  INFO [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 00:16:29.701 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Weekend trip from Bucharest to Paris";
2025-05-27 00:16:29.703  INFO [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 00:16:31.288 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-06-03",
  "returnDate": "2025-06-06",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 00:16:31.288 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 00:16:31.289 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 00:16:31.289 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 00:16:31.289 DEBUG [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 00:16:31.289  INFO [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 00:16:31.290  INFO [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-06-03, returnDate=2025-06-06, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 00:16:31.290  INFO [d59aa0b0-8eec-48c7-9b78-873f6500419f] 31872 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 00:16:49.158 DEBUG [c4cbb99a-bd0a-49c9-8cad-fe2a1f72e1bb] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:16:49.167 DEBUG [c4cbb99a-bd0a-49c9-8cad-fe2a1f72e1bb] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:16:49.167  INFO [c4cbb99a-bd0a-49c9-8cad-fe2a1f72e1bb] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:16:49.171  INFO [c4cbb99a-bd0a-49c9-8cad-fe2a1f72e1bb] 31872 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:16:49.189 DEBUG [24745147-eceb-442f-8236-a440394c08f3] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:16:49.200 DEBUG [24745147-eceb-442f-8236-a440394c08f3] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:16:49.205  WARN [24745147-eceb-442f-8236-a440394c08f3] 31872 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:16:49.205  WARN [24745147-eceb-442f-8236-a440394c08f3] 31872 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:16:49.400 DEBUG [baebff55-89e5-44dc-9281-9a1e3398e63f] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:16:49.409 DEBUG [baebff55-89e5-44dc-9281-9a1e3398e63f] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:16:49.410  INFO [baebff55-89e5-44dc-9281-9a1e3398e63f] 31872 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:16:49.413  INFO [baebff55-89e5-44dc-9281-9a1e3398e63f] 31872 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:16:49.426 DEBUG [53c3a93d-9cd2-43ef-8402-538d1ef445f9] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:16:49.435 DEBUG [53c3a93d-9cd2-43ef-8402-538d1ef445f9] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:16:49.440  WARN [53c3a93d-9cd2-43ef-8402-538d1ef445f9] 31872 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:16:49.441  WARN [53c3a93d-9cd2-43ef-8402-538d1ef445f9] 31872 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:16:59.959 DEBUG [03d42743-f2fd-485b-a661-8acffcb182bf] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/avatar
2025-05-27 00:16:59.970 DEBUG [03d42743-f2fd-485b-a661-8acffcb182bf] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/avatar
2025-05-27 00:16:59.991 ERROR [03d42743-f2fd-485b-a661-8acffcb182bf] 31872 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Unhandled exception occurred

org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.handleParseFailure(StandardMultipartHttpServletRequest.java:122)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:110)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:112)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1227)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.catalina.connector.Request.parseParts(Request.java:2825)
	at org.apache.catalina.connector.Request.getParts(Request.java:2685)
	at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:773)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:93)
	... 164 common frames omitted
Caused by: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.tomcat.util.http.fileupload.impl.FileItemStreamImpl$1.raiseError(FileItemStreamImpl.java:117)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.checkLimit(LimitedInputStream.java:76)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:135)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)
	at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:96)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:292)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2784)
	... 170 common frames omitted

2025-05-27 00:17:00.008  WARN [03d42743-f2fd-485b-a661-8acffcb182bf] 31872 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
2025-05-27 00:17:01.164 DEBUG [1701abda-da6c-477b-8a85-9f297149be5f] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/avatar
2025-05-27 00:17:01.173 DEBUG [1701abda-da6c-477b-8a85-9f297149be5f] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/avatar
2025-05-27 00:17:01.185 ERROR [1701abda-da6c-477b-8a85-9f297149be5f] 31872 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Unhandled exception occurred

org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.handleParseFailure(StandardMultipartHttpServletRequest.java:122)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:110)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:112)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1227)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.catalina.connector.Request.parseParts(Request.java:2825)
	at org.apache.catalina.connector.Request.getParts(Request.java:2685)
	at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:773)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:93)
	... 164 common frames omitted
Caused by: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.tomcat.util.http.fileupload.impl.FileItemStreamImpl$1.raiseError(FileItemStreamImpl.java:117)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.checkLimit(LimitedInputStream.java:76)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:135)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)
	at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:96)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:292)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2784)
	... 170 common frames omitted

2025-05-27 00:17:01.189  WARN [1701abda-da6c-477b-8a85-9f297149be5f] 31872 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
2025-05-27 00:17:01.557 DEBUG [93381345-1905-4cc2-9513-d22b0b815f7a] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/avatar
2025-05-27 00:17:01.567 DEBUG [93381345-1905-4cc2-9513-d22b0b815f7a] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/avatar
2025-05-27 00:17:01.581 ERROR [93381345-1905-4cc2-9513-d22b0b815f7a] 31872 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Unhandled exception occurred

org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.handleParseFailure(StandardMultipartHttpServletRequest.java:122)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:110)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:112)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1227)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.catalina.connector.Request.parseParts(Request.java:2825)
	at org.apache.catalina.connector.Request.getParts(Request.java:2685)
	at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:773)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:93)
	... 164 common frames omitted
Caused by: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.tomcat.util.http.fileupload.impl.FileItemStreamImpl$1.raiseError(FileItemStreamImpl.java:117)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.checkLimit(LimitedInputStream.java:76)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:135)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)
	at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:96)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:292)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2784)
	... 170 common frames omitted

2025-05-27 00:17:01.584  WARN [93381345-1905-4cc2-9513-d22b0b815f7a] 31872 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
2025-05-27 00:17:09.109 DEBUG [710aea1f-51e3-4acd-9326-590ae2ff79a1] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/avatar
2025-05-27 00:17:09.135 DEBUG [710aea1f-51e3-4acd-9326-590ae2ff79a1] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/avatar
2025-05-27 00:17:09.227  WARN [710aea1f-51e3-4acd-9326-590ae2ff79a1] 31872 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1406, SQLState: 22001
2025-05-27 00:17:09.227 ERROR [710aea1f-51e3-4acd-9326-590ae2ff79a1] 31872 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too long for column 'profile_picture' at row 1
2025-05-27 00:17:09.251 ERROR [710aea1f-51e3-4acd-9326-590ae2ff79a1] 31872 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Unhandled exception occurred

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Data truncation: Data too long for column 'profile_picture' at row 1] [update users set account_status=?,age=?,created_at=?,dob=?,email=?,firstname=?,gender=?,last_login=?,lastname=?,password=?,profile_picture=?,profile_picture_content_type=?,username=? where id=?]; SQL [update users set account_status=?,age=?,created_at=?,dob=?,email=?,firstname=?,gender=?,last_login=?,lastname=?,password=?,profile_picture=?,profile_picture_content_type=?,username=? where id=?]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:293)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy4/jdk.proxy4.$Proxy168.save(Unknown Source)
	at org.example.xlr8travel.services.UserServiceImpl.updateProfilePicture(UserServiceImpl.java:110)
	at org.example.xlr8travel.controllers.UserController.uploadAvatar(UserController.java:70)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.DataException: could not execute statement [Data truncation: Data too long for column 'profile_picture' at row 1] [update users set account_status=?,age=?,created_at=?,dob=?,email=?,firstname=?,gender=?,last_login=?,lastname=?,password=?,profile_picture=?,profile_picture_content_type=?,username=? where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:55)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:52)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:778)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:324)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.coordinateUpdate(UpdateCoordinatorStandard.java:242)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2810)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:168)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:363)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1403)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:484)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2319)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1976)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)
	... 185 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'profile_picture' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 207 common frames omitted

2025-05-27 00:17:09.256  WARN [710aea1f-51e3-4acd-9326-590ae2ff79a1] 31872 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Data truncation: Data too long for column 'profile_picture' at row 1] [update users set account_status=?,age=?,created_at=?,dob=?,email=?,firstname=?,gender=?,last_login=?,lastname=?,password: ********,profile_picture=?,profile_picture_content_type=?,username=? where id=?]; SQL [update users set account_status=?,age=?,created_at=?,dob=?,email=?,firstname=?,gender=?,last_login=?,lastname=?,password: ********,profile_picture=?,profile_picture_content_type=?,username=? where id=?]]
2025-05-27 00:17:29.698 DEBUG [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:17:29.698 DEBUG [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:17:29.698 DEBUG [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:17:29.698 DEBUG [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:17:29.699  INFO [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:17:29.699  INFO [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:17:29.700  INFO [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:17:29.700  INFO [5bf510fd-60bb-45cf-ab35-3dc0ae3df856] 31872 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:18:05.655 DEBUG [2da209d7-eff5-4d12-a27d-080dfdee2756] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 00:18:05.656 DEBUG [2da209d7-eff5-4d12-a27d-080dfdee2756] 31872 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 00:18:05.698 DEBUG [85af52dd-d577-46b8-8cd9-7bd568dd5189] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:18:05.709 DEBUG [85af52dd-d577-46b8-8cd9-7bd568dd5189] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:18:05.710  INFO [85af52dd-d577-46b8-8cd9-7bd568dd5189] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:18:05.717  INFO [85af52dd-d577-46b8-8cd9-7bd568dd5189] 31872 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:18:05.750 DEBUG [71707d70-9728-4c07-a970-f46fa9d4fec2] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:18:05.767 DEBUG [71707d70-9728-4c07-a970-f46fa9d4fec2] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:18:05.777  WARN [71707d70-9728-4c07-a970-f46fa9d4fec2] 31872 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:18:05.779  WARN [71707d70-9728-4c07-a970-f46fa9d4fec2] 31872 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:18:06.127 DEBUG [fab7353c-4273-4bfb-8122-71ecabe8b52b] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:18:06.139 DEBUG [fab7353c-4273-4bfb-8122-71ecabe8b52b] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:18:06.141  INFO [fab7353c-4273-4bfb-8122-71ecabe8b52b] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 00:18:06.149  INFO [fab7353c-4273-4bfb-8122-71ecabe8b52b] 31872 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 00:18:06.189 DEBUG [6c59decb-a2f6-44ee-8b3e-e343724af6f6] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:18:06.205 DEBUG [6c59decb-a2f6-44ee-8b3e-e343724af6f6] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:18:06.215  WARN [6c59decb-a2f6-44ee-8b3e-e343724af6f6] 31872 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:18:06.215  WARN [6c59decb-a2f6-44ee-8b3e-e343724af6f6] 31872 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:18:06.870 DEBUG [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:06.870 DEBUG [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:18:06.871 DEBUG [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:18:06.872 DEBUG [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:06.873  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:18:06.873  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:18:06.873  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:18:06.873  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 00:18:06.874  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 00:18:06.948  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 8 flights
2025-05-27 00:18:06.948  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 8 Flight entities to FlightDTOs
2025-05-27 00:18:06.948  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 8 FlightDTOs
2025-05-27 00:18:06.949  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 00:18:06.949  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 00:18:06.949  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 00:18:06.949  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 1 flights)
2025-05-27 00:18:06.949  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 1 flights)
2025-05-27 00:18:06.949  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 1 flights)
2025-05-27 00:18:06.949  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 1 flights)
2025-05-27 00:18:06.950  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from France (has 1 flights)
2025-05-27 00:18:06.950  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 1 flights)
2025-05-27 00:18:06.950  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 00:18:06.951  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 00:18:06.951  INFO [e80ae68f-e4c8-4f25-bfb9-c3a706d25480] 31872 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 00:18:22.788 DEBUG [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:22.789 DEBUG [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:18:22.789 DEBUG [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 52BCECD1A565A7CCEDB40E55652864B8
2025-05-27 00:18:22.790 DEBUG [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:22.790  INFO [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:18:22.790  INFO [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:18:22.790  INFO [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:18:22.791  INFO [729c3836-b63e-4821-9e7a-401b09fff4a8] 31872 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:18:24.533 DEBUG [afdef40e-89c2-4120-bbe2-03bf6941c607] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 00:18:24.534 DEBUG [afdef40e-89c2-4120-bbe2-03bf6941c607] 31872 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=U5J-GLPeywOUfooPfPKzX5F4FuQ_2gyIS5DfKIbNB2M%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 00:18:26.561 DEBUG [844bf092-c264-493a-9db5-ba2c39d36009] 31872 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=U5J-GLPeywOUfooPfPKzX5F4FuQ_2gyIS5DfKIbNB2M%3D&code=4%2F0AUJR-x5LrpXWEZrcLQzis4l7xZUUX1xMi898BcoX0MrgEWPeTQ0tRMCgPHYMvcDNbjqhoA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 00:18:26.803  INFO [844bf092-c264-493a-9db5-ba2c39d36009] 31872 --- [nio-8080-exec-9] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 00:18:26.825 DEBUG [844bf092-c264-493a-9db5-ba2c39d36009] 31872 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F693BB89BDE026E941D2D8129E218081
2025-05-27 00:18:26.826 DEBUG [844bf092-c264-493a-9db5-ba2c39d36009] 31872 --- [nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F693BB89BDE026E941D2D8129E218081], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 00:18:26.828 DEBUG [844bf092-c264-493a-9db5-ba2c39d36009] 31872 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/login?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4Mjk0MzA2LCJleHAiOjE3NDgzODA3MDZ9.NUyIKM6vf8bfbwXMowBCfxKds9pGMxIPLYqcSy1PZQvMjT7QIzMCfkk3TlQ78NecpiG6IFG-4KRjIVJZPIxKwg&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgyOTQzMDYsImV4cCI6MTc0ODg5OTEwNn0.8YqLpoOVzT3BzeOcuRy91zS4tDrpmjSoSQ3NwFurxp5zU6Cqf5YaZjGNnIFWqmRias--QUjagmaaY__6qzriTg
2025-05-27 00:18:27.835 DEBUG [a728ebcb-373c-4edb-88eb-96eea1c93148] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 00:18:27.845 DEBUG [a728ebcb-373c-4edb-88eb-96eea1c93148] 31872 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 00:18:27.845  INFO [a728ebcb-373c-4edb-88eb-96eea1c93148] 31872 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 00:18:27.851  INFO [a728ebcb-373c-4edb-88eb-96eea1c93148] 31872 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 00:18:27.938 DEBUG [644ab885-2756-468f-afbd-966027064acd] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 00:18:27.938 DEBUG [e5199c6d-0b25-43ac-8a29-e6879aef3cc8] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 00:18:27.952 DEBUG [644ab885-2756-468f-afbd-966027064acd] 31872 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 60AAD2C8A8040983961F4542611278ED
2025-05-27 00:18:27.953 DEBUG [644ab885-2756-468f-afbd-966027064acd] 31872 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 00:18:27.953 DEBUG [e5199c6d-0b25-43ac-8a29-e6879aef3cc8] 31872 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 00:18:27.954  INFO [644ab885-2756-468f-afbd-966027064acd] 31872 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 00:18:27.961  WARN [e5199c6d-0b25-43ac-8a29-e6879aef3cc8] 31872 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 00:18:27.962  WARN [e5199c6d-0b25-43ac-8a29-e6879aef3cc8] 31872 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 00:18:27.968  INFO [644ab885-2756-468f-afbd-966027064acd] 31872 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 00:18:28.510 DEBUG [9940dddc-afe8-4d65-bcb8-860a054fdae9] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:28.511 DEBUG [9940dddc-afe8-4d65-bcb8-860a054fdae9] 31872 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:18:28.511 DEBUG [9940dddc-afe8-4d65-bcb8-860a054fdae9] 31872 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:28.512  INFO [9940dddc-afe8-4d65-bcb8-860a054fdae9] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:18:28.512  INFO [9940dddc-afe8-4d65-bcb8-860a054fdae9] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:18:28.512  INFO [9940dddc-afe8-4d65-bcb8-860a054fdae9] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:18:28.512  INFO [9940dddc-afe8-4d65-bcb8-860a054fdae9] 31872 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:18:29.873 DEBUG [d3eb7c42-f76f-4005-82ef-e5660f715902] 31872 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 00:18:29.874 DEBUG [d3eb7c42-f76f-4005-82ef-e5660f715902] 31872 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 00:18:34.527 DEBUG [82637d02-b799-4f54-95e4-230c2090c886] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:34.528 DEBUG [82637d02-b799-4f54-95e4-230c2090c886] 31872 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:18:34.528 DEBUG [82637d02-b799-4f54-95e4-230c2090c886] 31872 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:18:34.529  INFO [82637d02-b799-4f54-95e4-230c2090c886] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:18:34.529  INFO [82637d02-b799-4f54-95e4-230c2090c886] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:18:34.529  INFO [82637d02-b799-4f54-95e4-230c2090c886] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:18:34.530  INFO [82637d02-b799-4f54-95e4-230c2090c886] 31872 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:21:20.842 DEBUG [0b0f142c-32fd-41de-a935-a885e3315824] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 00:21:20.842 DEBUG [0b0f142c-32fd-41de-a935-a885e3315824] 31872 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 00:21:20.843 DEBUG [0b0f142c-32fd-41de-a935-a885e3315824] 31872 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 00:21:20.843  INFO [0b0f142c-32fd-41de-a935-a885e3315824] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 00:21:20.844  INFO [0b0f142c-32fd-41de-a935-a885e3315824] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 00:21:20.844  INFO [0b0f142c-32fd-41de-a935-a885e3315824] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 00:21:20.845  INFO [0b0f142c-32fd-41de-a935-a885e3315824] 31872 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 00:23:30.936  INFO [NONE] 31872 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 00:23:30.944  INFO [NONE] 31872 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 00:23:30.949  INFO [NONE] 31872 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 01:24:57.882  INFO [NONE] 26464 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 26464 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 01:24:57.890 DEBUG [NONE] 26464 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 01:24:57.891  INFO [NONE] 26464 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 01:24:57.954  INFO [NONE] 26464 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 01:24:57.954  INFO [NONE] 26464 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 01:24:58.897  INFO [NONE] 26464 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 01:24:58.979  INFO [NONE] 26464 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 9 JPA repository interfaces.
2025-05-27 01:24:59.783  INFO [NONE] 26464 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 01:24:59.795  INFO [NONE] 26464 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 01:24:59.795  INFO [NONE] 26464 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 01:24:59.870  INFO [NONE] 26464 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 01:24:59.872  INFO [NONE] 26464 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1916 ms
2025-05-27 01:25:00.165  INFO [NONE] 26464 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 01:25:00.237  INFO [NONE] 26464 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 01:25:00.278  INFO [NONE] 26464 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 01:25:00.531  INFO [NONE] 26464 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 01:25:00.564  INFO [NONE] 26464 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 01:25:01.673 ERROR [NONE] 26464 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 137 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 140 common frames omitted

2025-05-27 01:25:01.682  WARN [NONE] 26464 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)

2025-05-27 01:25:01.713  WARN [NONE] 26464 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 01:25:02.927  INFO [NONE] 26464 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 01:25:02.950  INFO [NONE] 26464 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 01:25:03.967 ERROR [NONE] 26464 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:112)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 144 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 147 common frames omitted

2025-05-27 01:25:03.973  WARN [NONE] 26464 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2025-05-27 01:25:03.973 ERROR [NONE] 26464 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2025-05-27 01:25:03.979 ERROR [NONE] 26464 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
2025-05-27 01:25:03.980 ERROR [NONE] 26464 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'userRepoUserDetailsService' defined in file [C:\Users\razvi\Desktop\Licenta\backend\target\classes\org\example\xlr8travel\security\UserRepoUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-05-27 01:25:04.031  INFO [NONE] 26464 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-27 01:25:04.040  WARN [NONE] 26464 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-05-27 01:25:04.052  INFO [NONE] 26464 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-27 01:25:04.074 ERROR [NONE] 26464 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'userRepoUserDetailsService' defined in file [C:\Users\razvi\Desktop\Licenta\backend\target\classes\org\example\xlr8travel\security\UserRepoUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 16 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRepoUserDetailsService' defined in file [C:\Users\razvi\Desktop\Licenta\backend\target\classes\org\example\xlr8travel\security\UserRepoUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 58 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 71 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 85 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 97 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 104 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:112)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 108 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 131 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 144 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 147 common frames omitted

2025-05-27 01:26:26.784  INFO [NONE] 7968 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 7968 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 01:26:26.791 DEBUG [NONE] 7968 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 01:26:26.792  INFO [NONE] 7968 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 01:26:26.839  INFO [NONE] 7968 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 01:26:26.840  INFO [NONE] 7968 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 01:26:27.885  INFO [NONE] 7968 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 01:26:27.970  INFO [NONE] 7968 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 9 JPA repository interfaces.
2025-05-27 01:26:28.728  INFO [NONE] 7968 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 01:26:28.740  INFO [NONE] 7968 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 01:26:28.740  INFO [NONE] 7968 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 01:26:28.803  INFO [NONE] 7968 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 01:26:28.804  INFO [NONE] 7968 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1962 ms
2025-05-27 01:26:29.043  INFO [NONE] 7968 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 01:26:29.092  INFO [NONE] 7968 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 01:26:29.122  INFO [NONE] 7968 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 01:26:29.323  INFO [NONE] 7968 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 01:26:29.348  INFO [NONE] 7968 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 01:26:29.522  INFO [NONE] 7968 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@ee042e
2025-05-27 01:26:29.523  INFO [NONE] 7968 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 01:26:29.568  WARN [NONE] 7968 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 01:26:30.668  INFO [NONE] 7968 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 01:26:38.384  INFO [NONE] 7968 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 01:26:39.129  INFO [NONE] 7968 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 01:26:39.696 DEBUG [NONE] 7968 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 01:26:39.698 DEBUG [NONE] 7968 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 01:26:39.973  INFO [NONE] 7968 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 01:26:40.348  INFO [NONE] 7968 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 01:26:40.348  WARN [NONE] 7968 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 01:26:40.348  WARN [NONE] 7968 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 01:26:40.349  WARN [NONE] 7968 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 01:26:40.349  WARN [NONE] 7968 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 01:26:40.417  WARN [NONE] 7968 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 01:26:40.550  INFO [NONE] 7968 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 01:26:40.846  INFO [NONE] 7968 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 01:26:40.942  INFO [NONE] 7968 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3af256d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d57f033, org.springframework.security.web.context.SecurityContextHolderFilter@42f6fb09, org.springframework.security.web.header.HeaderWriterFilter@f7f32c2, org.springframework.web.filter.CorsFilter@47c7782, org.springframework.security.web.authentication.logout.LogoutFilter@1de32b72, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5745adb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@702d4c4a, org.example.xlr8travel.security.JwtAuthenticationFilter@7f3f025e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7dee6308, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@46e413f5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5bb9e2f8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@73fd3116, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15547b8e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6842c05f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@214720af, org.springframework.security.web.session.SessionManagementFilter@512bdac5, org.springframework.security.web.access.ExceptionTranslationFilter@cac70a8, org.springframework.security.web.access.intercept.AuthorizationFilter@661e9c57]
2025-05-27 01:26:41.531  INFO [NONE] 7968 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 01:26:41.603  INFO [NONE] 7968 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 01:26:41.618  INFO [NONE] 7968 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 15.314 seconds (process running for 15.978)
2025-05-27 01:26:43.317  INFO [NONE] 7968 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 01:26:43.318  INFO [NONE] 7968 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 01:26:43.322  INFO [NONE] 7968 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-27 01:26:43.361 DEBUG [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:26:43.389 DEBUG [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:26:43.395  WARN [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/flights/nearby' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 01:26:43.419 DEBUG [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:26:43.473  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:26:43.474  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:26:43.475  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:26:43.475  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 01:26:43.475  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 01:26:43.576  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 01:26:43.576  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 01:26:43.577  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 01:26:43.577  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 01:26:43.577  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 01:26:43.578  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 01:26:43.578  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 01:26:43.578  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 01:26:43.578  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 01:26:43.578  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 01:26:43.579  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 01:26:43.579  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 01:26:43.580  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 01:26:43.580  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 01:26:43.582  INFO [4324cc82-a81b-45f1-aa9b-5709f7db79b2] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 01:27:36.248 DEBUG [80a24c97-022e-49f8-be89-99813d054308] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:27:36.249 DEBUG [80a24c97-022e-49f8-be89-99813d054308] 7968 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:27:36.251 DEBUG [80a24c97-022e-49f8-be89-99813d054308] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:27:36.253  INFO [80a24c97-022e-49f8-be89-99813d054308] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:27:36.253  INFO [80a24c97-022e-49f8-be89-99813d054308] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:27:36.253  INFO [80a24c97-022e-49f8-be89-99813d054308] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:27:36.253  INFO [80a24c97-022e-49f8-be89-99813d054308] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:28:08.764 DEBUG [3bab0671-3c40-4e5f-8e8e-26121d777144] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:28:08.766 DEBUG [3bab0671-3c40-4e5f-8e8e-26121d777144] 7968 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:28:08.776 DEBUG [3bab0671-3c40-4e5f-8e8e-26121d777144] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:28:08.777  INFO [3bab0671-3c40-4e5f-8e8e-26121d777144] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:28:08.778  INFO [3bab0671-3c40-4e5f-8e8e-26121d777144] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:28:08.779  INFO [3bab0671-3c40-4e5f-8e8e-26121d777144] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:28:08.779  INFO [3bab0671-3c40-4e5f-8e8e-26121d777144] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:29:01.810 DEBUG [623fd41f-0aa4-43ab-9e58-a576c63da67e] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:29:01.812 DEBUG [623fd41f-0aa4-43ab-9e58-a576c63da67e] 7968 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:29:01.814 DEBUG [623fd41f-0aa4-43ab-9e58-a576c63da67e] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:29:01.816  INFO [623fd41f-0aa4-43ab-9e58-a576c63da67e] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:29:01.816  INFO [623fd41f-0aa4-43ab-9e58-a576c63da67e] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:29:01.816  INFO [623fd41f-0aa4-43ab-9e58-a576c63da67e] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:29:01.816  INFO [623fd41f-0aa4-43ab-9e58-a576c63da67e] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:30:39.144 DEBUG [e88ec445-fe3c-4433-8075-9e9e49623f7b] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:30:39.145 DEBUG [e88ec445-fe3c-4433-8075-9e9e49623f7b] 7968 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:30:39.147 DEBUG [e88ec445-fe3c-4433-8075-9e9e49623f7b] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:30:39.148  INFO [e88ec445-fe3c-4433-8075-9e9e49623f7b] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:30:39.148  INFO [e88ec445-fe3c-4433-8075-9e9e49623f7b] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:30:39.148  INFO [e88ec445-fe3c-4433-8075-9e9e49623f7b] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:30:39.148  INFO [e88ec445-fe3c-4433-8075-9e9e49623f7b] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:31:26.047 DEBUG [2f5f6048-0a3e-4f81-9a25-a17d99bafd4d] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:31:26.048 DEBUG [2f5f6048-0a3e-4f81-9a25-a17d99bafd4d] 7968 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:31:26.051 DEBUG [2f5f6048-0a3e-4f81-9a25-a17d99bafd4d] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:31:26.061  INFO [2f5f6048-0a3e-4f81-9a25-a17d99bafd4d] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 01:31:26.063  INFO [2f5f6048-0a3e-4f81-9a25-a17d99bafd4d] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 01:31:26.145  INFO [2f5f6048-0a3e-4f81-9a25-a17d99bafd4d] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 01:31:26.154 DEBUG [cbc87ea8-da8c-4395-93de-59f68d8734cb] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:31:26.155 DEBUG [cbc87ea8-da8c-4395-93de-59f68d8734cb] 7968 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:31:26.158 DEBUG [cbc87ea8-da8c-4395-93de-59f68d8734cb] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:31:26.160  INFO [cbc87ea8-da8c-4395-93de-59f68d8734cb] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 01:31:26.160  INFO [cbc87ea8-da8c-4395-93de-59f68d8734cb] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 01:31:26.225  INFO [cbc87ea8-da8c-4395-93de-59f68d8734cb] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 01:31:31.740 DEBUG [a5ef6623-3292-41ce-af6b-6ba33f2a8112] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:31:31.742 DEBUG [a5ef6623-3292-41ce-af6b-6ba33f2a8112] 7968 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:31:31.743 DEBUG [a5ef6623-3292-41ce-af6b-6ba33f2a8112] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:31:31.744  INFO [a5ef6623-3292-41ce-af6b-6ba33f2a8112] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:31:31.744  INFO [a5ef6623-3292-41ce-af6b-6ba33f2a8112] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:31:31.744  INFO [a5ef6623-3292-41ce-af6b-6ba33f2a8112] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:31:31.745  INFO [a5ef6623-3292-41ce-af6b-6ba33f2a8112] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:33:30.869 DEBUG [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:33:30.869 DEBUG [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:33:30.871 DEBUG [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:33:30.872  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:33:30.872  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:33:30.873  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:33:30.873  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 01:33:30.873  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 01:33:30.934  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 01:33:30.934  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 01:33:30.934  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 01:33:30.934  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 01:33:30.935  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 01:33:30.935  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 01:33:30.935  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 01:33:30.935  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 01:33:30.935  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 01:33:30.936  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 01:33:30.936  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 01:33:30.936  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 01:33:30.936  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 01:33:30.936  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 01:33:30.936  INFO [bce4abb2-ecf1-4662-bb92-c2c1af0cca44] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 01:34:14.835 DEBUG [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 01:34:14.836 DEBUG [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:34:14.837 DEBUG [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 01:34:14.873  INFO [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 01:34:15.308  INFO [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 01:34:15.308  INFO [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 01:34:15.548 DEBUG [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 01:34:15.549  INFO [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Authentication successful for user: user1
2025-05-27 01:34:15.611  INFO [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Updated last login time for user: user1
2025-05-27 01:34:15.611  INFO [d57effa4-6585-432b-9cfe-f96c0eeb7a0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user1
2025-05-27 01:34:15.654 DEBUG [e5000476-9ac5-4627-bae4-cafe0bebf5c2] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:34:15.654 DEBUG [46e6cce3-da4d-422b-a58d-9271b9d6edc6] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:34:15.834 DEBUG [46e6cce3-da4d-422b-a58d-9271b9d6edc6] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:34:15.835 DEBUG [e5000476-9ac5-4627-bae4-cafe0bebf5c2] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:34:15.838  INFO [46e6cce3-da4d-422b-a58d-9271b9d6edc6] 7968 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:34:15.942  WARN [e5000476-9ac5-4627-bae4-cafe0bebf5c2] 7968 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:34:15.945  INFO [46e6cce3-da4d-422b-a58d-9271b9d6edc6] 7968 --- [nio-8080-exec-2] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user user1 with ID 1, creating a new one.
2025-05-27 01:34:15.951  WARN [e5000476-9ac5-4627-bae4-cafe0bebf5c2] 7968 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:34:15.968  INFO [46e6cce3-da4d-422b-a58d-9271b9d6edc6] 7968 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:34:18.450 DEBUG [9960a9e7-bed3-45ee-a688-422a18254e03] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:34:18.522 DEBUG [9960a9e7-bed3-45ee-a688-422a18254e03] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:34:18.523  INFO [9960a9e7-bed3-45ee-a688-422a18254e03] 7968 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:34:18.586  INFO [9960a9e7-bed3-45ee-a688-422a18254e03] 7968 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:34:18.602 DEBUG [6724a0d4-0d1a-4344-893f-5ab74f56bfa9] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:34:18.728 DEBUG [6724a0d4-0d1a-4344-893f-5ab74f56bfa9] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:34:18.921  WARN [6724a0d4-0d1a-4344-893f-5ab74f56bfa9] 7968 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:34:18.923 DEBUG [e99a2f40-065c-44b9-a1e9-60637fd299ac] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:34:18.923  WARN [6724a0d4-0d1a-4344-893f-5ab74f56bfa9] 7968 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:34:19.035 DEBUG [e99a2f40-065c-44b9-a1e9-60637fd299ac] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:34:19.036  INFO [e99a2f40-065c-44b9-a1e9-60637fd299ac] 7968 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:34:19.131  INFO [e99a2f40-065c-44b9-a1e9-60637fd299ac] 7968 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:34:19.142 DEBUG [b05b5d3a-3f43-463e-bfd2-e8e8fe9632ad] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:34:19.224 DEBUG [b05b5d3a-3f43-463e-bfd2-e8e8fe9632ad] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:34:19.293  WARN [b05b5d3a-3f43-463e-bfd2-e8e8fe9632ad] 7968 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:34:19.294  WARN [b05b5d3a-3f43-463e-bfd2-e8e8fe9632ad] 7968 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:34:27.544 DEBUG [2039bf57-fedf-41a1-acf1-5041a40ad3eb] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:34:27.545 DEBUG [2039bf57-fedf-41a1-acf1-5041a40ad3eb] 7968 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:34:27.546 DEBUG [2039bf57-fedf-41a1-acf1-5041a40ad3eb] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:34:27.546  INFO [2039bf57-fedf-41a1-acf1-5041a40ad3eb] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:34:27.547  INFO [2039bf57-fedf-41a1-acf1-5041a40ad3eb] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:34:27.547  INFO [2039bf57-fedf-41a1-acf1-5041a40ad3eb] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:34:27.547  INFO [2039bf57-fedf-41a1-acf1-5041a40ad3eb] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:36:00.295 DEBUG [519e0fd4-5191-49f7-85a5-a560776e967a] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:36:00.376 DEBUG [519e0fd4-5191-49f7-85a5-a560776e967a] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:36:00.377  INFO [519e0fd4-5191-49f7-85a5-a560776e967a] 7968 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:36:00.467  INFO [519e0fd4-5191-49f7-85a5-a560776e967a] 7968 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:36:00.564 DEBUG [1af95839-9873-4b8c-9737-7176d89c3050] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:36:00.568 DEBUG [05d84abc-ace0-4923-a4c5-8815015119de] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:36:00.690 DEBUG [5e9aacdf-ec8b-4375-a2d1-b192108742f9] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:36:00.694 DEBUG [5e9aacdf-ec8b-4375-a2d1-b192108742f9] 7968 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:36:00.696 DEBUG [5e9aacdf-ec8b-4375-a2d1-b192108742f9] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:36:00.698  INFO [5e9aacdf-ec8b-4375-a2d1-b192108742f9] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:36:00.698  INFO [5e9aacdf-ec8b-4375-a2d1-b192108742f9] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:36:00.698  INFO [5e9aacdf-ec8b-4375-a2d1-b192108742f9] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:36:00.699  INFO [5e9aacdf-ec8b-4375-a2d1-b192108742f9] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:36:00.704 DEBUG [1af95839-9873-4b8c-9737-7176d89c3050] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:36:00.711 DEBUG [05d84abc-ace0-4923-a4c5-8815015119de] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:36:00.712  INFO [05d84abc-ace0-4923-a4c5-8815015119de] 7968 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:36:00.816  WARN [1af95839-9873-4b8c-9737-7176d89c3050] 7968 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:36:00.817  WARN [1af95839-9873-4b8c-9737-7176d89c3050] 7968 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:36:00.825 DEBUG [0e2ee94d-99a4-45b0-a456-3c4e42d09aef] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:36:00.843  INFO [05d84abc-ace0-4923-a4c5-8815015119de] 7968 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:36:00.911 DEBUG [0e2ee94d-99a4-45b0-a456-3c4e42d09aef] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:36:00.982  WARN [0e2ee94d-99a4-45b0-a456-3c4e42d09aef] 7968 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:36:00.983  WARN [0e2ee94d-99a4-45b0-a456-3c4e42d09aef] 7968 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:36:48.298 DEBUG [5a71712d-cf63-48da-a131-bd99702e3fb2] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:36:48.387 DEBUG [5a71712d-cf63-48da-a131-bd99702e3fb2] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:36:48.387  INFO [5a71712d-cf63-48da-a131-bd99702e3fb2] 7968 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:36:48.462  INFO [5a71712d-cf63-48da-a131-bd99702e3fb2] 7968 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:36:48.519 DEBUG [8ee50c3b-7169-42f1-8405-09ad50261123] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:36:48.519 DEBUG [ba07c3a4-f18b-4bdd-98da-8919c8f55259] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:36:48.628 DEBUG [4bf818b1-6e8a-4c45-8f70-ddaca9f71bfe] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:36:48.630 DEBUG [ba07c3a4-f18b-4bdd-98da-8919c8f55259] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:36:48.631 DEBUG [8ee50c3b-7169-42f1-8405-09ad50261123] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:36:48.631 DEBUG [4bf818b1-6e8a-4c45-8f70-ddaca9f71bfe] 7968 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:36:48.633  INFO [8ee50c3b-7169-42f1-8405-09ad50261123] 7968 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:36:48.633 DEBUG [4bf818b1-6e8a-4c45-8f70-ddaca9f71bfe] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:36:48.634  INFO [4bf818b1-6e8a-4c45-8f70-ddaca9f71bfe] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:36:48.635  INFO [4bf818b1-6e8a-4c45-8f70-ddaca9f71bfe] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:36:48.635  INFO [4bf818b1-6e8a-4c45-8f70-ddaca9f71bfe] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:36:48.635  INFO [4bf818b1-6e8a-4c45-8f70-ddaca9f71bfe] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:36:48.719  WARN [ba07c3a4-f18b-4bdd-98da-8919c8f55259] 7968 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:36:48.720  WARN [ba07c3a4-f18b-4bdd-98da-8919c8f55259] 7968 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:36:48.727 DEBUG [6654db54-e60c-4398-bb96-4e85a730b188] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:36:48.728  INFO [8ee50c3b-7169-42f1-8405-09ad50261123] 7968 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:36:48.829 DEBUG [6654db54-e60c-4398-bb96-4e85a730b188] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:36:48.994  WARN [6654db54-e60c-4398-bb96-4e85a730b188] 7968 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:36:48.995  WARN [6654db54-e60c-4398-bb96-4e85a730b188] 7968 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:37:03.330 DEBUG [73e9fd66-449c-4bc0-bf15-6c634c7b81dd] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:37:03.409 DEBUG [73e9fd66-449c-4bc0-bf15-6c634c7b81dd] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:37:03.409  INFO [73e9fd66-449c-4bc0-bf15-6c634c7b81dd] 7968 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:37:03.481  INFO [73e9fd66-449c-4bc0-bf15-6c634c7b81dd] 7968 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:37:03.565 DEBUG [96abe13f-9ede-4b47-80a9-cb57492c1bc7] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:37:03.566 DEBUG [635f993a-3b16-4a3b-abc8-4420951c738b] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:37:03.672 DEBUG [ad57a93d-9cac-4123-b2db-3e4f3d851607] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:37:03.679 DEBUG [ad57a93d-9cac-4123-b2db-3e4f3d851607] 7968 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:37:03.683 DEBUG [ad57a93d-9cac-4123-b2db-3e4f3d851607] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:37:03.686  INFO [ad57a93d-9cac-4123-b2db-3e4f3d851607] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:37:03.686  INFO [ad57a93d-9cac-4123-b2db-3e4f3d851607] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:37:03.686  INFO [ad57a93d-9cac-4123-b2db-3e4f3d851607] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:37:03.687  INFO [ad57a93d-9cac-4123-b2db-3e4f3d851607] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:37:03.692 DEBUG [96abe13f-9ede-4b47-80a9-cb57492c1bc7] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:37:03.693  INFO [96abe13f-9ede-4b47-80a9-cb57492c1bc7] 7968 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:37:03.694 DEBUG [635f993a-3b16-4a3b-abc8-4420951c738b] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:37:03.779  WARN [635f993a-3b16-4a3b-abc8-4420951c738b] 7968 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:37:03.782  WARN [635f993a-3b16-4a3b-abc8-4420951c738b] 7968 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:37:03.789 DEBUG [36fcf48a-a637-41f5-a22a-9bb2da80ed12] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:37:03.793  INFO [96abe13f-9ede-4b47-80a9-cb57492c1bc7] 7968 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:37:03.877 DEBUG [36fcf48a-a637-41f5-a22a-9bb2da80ed12] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:37:03.942  WARN [36fcf48a-a637-41f5-a22a-9bb2da80ed12] 7968 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:37:03.943  WARN [36fcf48a-a637-41f5-a22a-9bb2da80ed12] 7968 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:38:26.851 DEBUG [09b50f02-909a-4ffc-aec4-c6259619076d] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:38:26.945 DEBUG [09b50f02-909a-4ffc-aec4-c6259619076d] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:38:26.946  INFO [09b50f02-909a-4ffc-aec4-c6259619076d] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:38:27.019  INFO [09b50f02-909a-4ffc-aec4-c6259619076d] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:38:27.027 DEBUG [1fb9a97d-24bc-49e1-b8db-7b59b80b3f6c] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:38:27.102 DEBUG [1fb9a97d-24bc-49e1-b8db-7b59b80b3f6c] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:38:27.103  INFO [1fb9a97d-24bc-49e1-b8db-7b59b80b3f6c] 7968 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:38:27.179  INFO [1fb9a97d-24bc-49e1-b8db-7b59b80b3f6c] 7968 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:43:06.535 DEBUG [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:43:06.536 DEBUG [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:43:06.537 DEBUG [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:43:06.538  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:43:06.538  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:43:06.539  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:43:06.539  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 01:43:06.539  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 01:43:06.590  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 01:43:06.590  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 01:43:06.591  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 01:43:06.591  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 01:43:06.591  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 01:43:06.591  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 01:43:06.591  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 01:43:06.591  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 01:43:06.591  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 01:43:06.592  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 01:43:06.592  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 01:43:06.592  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 01:43:06.592  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 01:43:06.592  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 01:43:06.592  INFO [6a84d016-5b80-47eb-8b77-f71ba3d62ed9] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 01:43:21.254 DEBUG [d2eb336f-c5c8-4616-82fb-43b626437404] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:43:21.348 DEBUG [d2eb336f-c5c8-4616-82fb-43b626437404] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:43:21.349  INFO [d2eb336f-c5c8-4616-82fb-43b626437404] 7968 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:43:21.469  INFO [d2eb336f-c5c8-4616-82fb-43b626437404] 7968 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:43:23.413 DEBUG [d0e96b01-fd3f-41b6-bd59-2bb33a74929b] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:43:23.413 DEBUG [ecca0e3e-5675-4e5f-9a55-7223679f9f45] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:43:23.507 DEBUG [ecca0e3e-5675-4e5f-9a55-7223679f9f45] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:43:23.507 DEBUG [d0e96b01-fd3f-41b6-bd59-2bb33a74929b] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:43:23.508  INFO [ecca0e3e-5675-4e5f-9a55-7223679f9f45] 7968 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:43:23.587  WARN [d0e96b01-fd3f-41b6-bd59-2bb33a74929b] 7968 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:43:23.588  WARN [d0e96b01-fd3f-41b6-bd59-2bb33a74929b] 7968 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:43:23.595 DEBUG [dbb55b0f-f693-42b6-85da-569e0a60ddaa] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:43:23.596  INFO [ecca0e3e-5675-4e5f-9a55-7223679f9f45] 7968 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:43:23.669 DEBUG [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 01:43:23.670 DEBUG [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:43:23.672 DEBUG [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 01:43:23.672  INFO [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 01:43:23.672  INFO [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:43:23.673  INFO [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 01:43:23.673  INFO [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 01:43:23.674  INFO [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 01:43:23.680  INFO [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 01:43:23.681  WARN [8022479f-3b9e-49fc-94f6-d59225731ac4] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 01:43:23.690 DEBUG [dbb55b0f-f693-42b6-85da-569e0a60ddaa] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:43:23.777  WARN [dbb55b0f-f693-42b6-85da-569e0a60ddaa] 7968 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:43:23.778  WARN [dbb55b0f-f693-42b6-85da-569e0a60ddaa] 7968 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:43:25.920 DEBUG [30b1775c-50e3-4778-b4a4-fa10e3955884] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:43:25.998 DEBUG [30b1775c-50e3-4778-b4a4-fa10e3955884] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:43:25.998  INFO [30b1775c-50e3-4778-b4a4-fa10e3955884] 7968 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:43:26.069  INFO [30b1775c-50e3-4778-b4a4-fa10e3955884] 7968 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:43:26.127 DEBUG [0f9b55f7-98f5-4a94-bb88-1c22345858b3] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:43:26.127 DEBUG [9e1a705f-fc4e-4ecc-818c-a31f8f06fc45] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:43:26.220 DEBUG [9e1a705f-fc4e-4ecc-818c-a31f8f06fc45] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:43:26.220 DEBUG [0f9b55f7-98f5-4a94-bb88-1c22345858b3] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:43:26.220  INFO [9e1a705f-fc4e-4ecc-818c-a31f8f06fc45] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:43:26.289  WARN [0f9b55f7-98f5-4a94-bb88-1c22345858b3] 7968 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:43:26.290  WARN [0f9b55f7-98f5-4a94-bb88-1c22345858b3] 7968 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:43:26.296 DEBUG [41174b50-5ee1-4844-aaee-668e43c38007] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:43:26.296  INFO [9e1a705f-fc4e-4ecc-818c-a31f8f06fc45] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:43:26.374 DEBUG [41174b50-5ee1-4844-aaee-668e43c38007] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:43:26.440  WARN [41174b50-5ee1-4844-aaee-668e43c38007] 7968 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:43:26.442  WARN [41174b50-5ee1-4844-aaee-668e43c38007] 7968 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:43:28.586 DEBUG [6bb1c3e3-cfdd-48b6-bfa0-0bd9bd7c4d82] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:43:28.586 DEBUG [cdf45e4a-3282-4836-99d2-66374b966c0a] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:43:28.676 DEBUG [cdf45e4a-3282-4836-99d2-66374b966c0a] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:43:28.677 DEBUG [6bb1c3e3-cfdd-48b6-bfa0-0bd9bd7c4d82] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:43:28.677  INFO [cdf45e4a-3282-4836-99d2-66374b966c0a] 7968 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:43:28.699 DEBUG [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 01:43:28.701 DEBUG [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:43:28.701 DEBUG [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 01:43:28.703  INFO [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 01:43:28.704  INFO [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:43:28.704  INFO [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 01:43:28.704  INFO [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 01:43:28.705  INFO [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 01:43:28.714  INFO [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 01:43:28.714  WARN [b09b22fd-0928-47d8-9ba8-388cb8fe7023] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 01:43:28.775  WARN [6bb1c3e3-cfdd-48b6-bfa0-0bd9bd7c4d82] 7968 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:43:28.776  WARN [6bb1c3e3-cfdd-48b6-bfa0-0bd9bd7c4d82] 7968 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:43:28.783 DEBUG [0244d9a5-a2e8-4ae5-a54b-3ed1713e7625] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:43:28.784  INFO [cdf45e4a-3282-4836-99d2-66374b966c0a] 7968 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:43:28.865 DEBUG [0244d9a5-a2e8-4ae5-a54b-3ed1713e7625] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:43:28.937  WARN [0244d9a5-a2e8-4ae5-a54b-3ed1713e7625] 7968 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:43:28.938  WARN [0244d9a5-a2e8-4ae5-a54b-3ed1713e7625] 7968 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:44:18.211 DEBUG [9bd37fcd-bfe1-4815-bc85-68910d10ec4d] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:44:18.295 DEBUG [9bd37fcd-bfe1-4815-bc85-68910d10ec4d] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:44:18.295  INFO [9bd37fcd-bfe1-4815-bc85-68910d10ec4d] 7968 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:44:18.377  INFO [9bd37fcd-bfe1-4815-bc85-68910d10ec4d] 7968 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:44:18.441 DEBUG [66a52b0e-6a6c-4457-8a33-47c2b86ca7fc] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:44:18.441 DEBUG [44dc1057-83e2-4b68-971b-f1a21eb9e360] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:44:18.550 DEBUG [66a52b0e-6a6c-4457-8a33-47c2b86ca7fc] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:44:18.550 DEBUG [44dc1057-83e2-4b68-971b-f1a21eb9e360] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:44:18.550  INFO [66a52b0e-6a6c-4457-8a33-47c2b86ca7fc] 7968 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:44:18.634  WARN [44dc1057-83e2-4b68-971b-f1a21eb9e360] 7968 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:44:18.635  WARN [44dc1057-83e2-4b68-971b-f1a21eb9e360] 7968 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:44:18.647 DEBUG [7f96b14a-ac39-4f47-b976-8c1570c88c61] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:44:18.654  INFO [66a52b0e-6a6c-4457-8a33-47c2b86ca7fc] 7968 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:44:18.744 DEBUG [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=LHR
2025-05-27 01:44:18.746 DEBUG [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:44:18.748 DEBUG [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=LHR
2025-05-27 01:44:18.750  INFO [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: LHR, departureDate: null
2025-05-27 01:44:18.750  INFO [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:44:18.750  INFO [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: LHR-2025-05-27
2025-05-27 01:44:18.750  INFO [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: LHR, after date: 2025-05-27
2025-05-27 01:44:18.751  INFO [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: LHR, date: 2025-05-27
2025-05-27 01:44:18.760  INFO [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 01:44:18.767  WARN [898b1a77-9b02-4349-974e-e7222035a8c9] 7968 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No nearby flights found from: LHR after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 01:44:18.827 DEBUG [7f96b14a-ac39-4f47-b976-8c1570c88c61] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:44:18.945  WARN [7f96b14a-ac39-4f47-b976-8c1570c88c61] 7968 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:44:18.946  WARN [7f96b14a-ac39-4f47-b976-8c1570c88c61] 7968 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:44:22.768 DEBUG [6527a392-c217-4f3e-8d6b-288dc0bd7924] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:44:22.883 DEBUG [6527a392-c217-4f3e-8d6b-288dc0bd7924] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:44:22.885  INFO [6527a392-c217-4f3e-8d6b-288dc0bd7924] 7968 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:44:22.969  INFO [6527a392-c217-4f3e-8d6b-288dc0bd7924] 7968 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:44:23.030 DEBUG [4a46bd52-ee64-49e8-810c-15bdbc3bb72e] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:44:23.041 DEBUG [591f3eb5-72a6-41e0-88e3-2eea121734ed] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:44:23.175 DEBUG [4a46bd52-ee64-49e8-810c-15bdbc3bb72e] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:44:23.178 DEBUG [591f3eb5-72a6-41e0-88e3-2eea121734ed] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:44:23.179  INFO [591f3eb5-72a6-41e0-88e3-2eea121734ed] 7968 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:44:23.269  WARN [4a46bd52-ee64-49e8-810c-15bdbc3bb72e] 7968 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:44:23.272  WARN [4a46bd52-ee64-49e8-810c-15bdbc3bb72e] 7968 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:44:23.282 DEBUG [52ce4dd9-302c-4ab3-93cb-dd3794ba8619] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:44:23.285  INFO [591f3eb5-72a6-41e0-88e3-2eea121734ed] 7968 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:44:23.375 DEBUG [52ce4dd9-302c-4ab3-93cb-dd3794ba8619] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:44:23.447  WARN [52ce4dd9-302c-4ab3-93cb-dd3794ba8619] 7968 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:44:23.447  WARN [52ce4dd9-302c-4ab3-93cb-dd3794ba8619] 7968 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:44:28.603 DEBUG [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=LHR
2025-05-27 01:44:28.604 DEBUG [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:44:28.605 DEBUG [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=LHR
2025-05-27 01:44:28.606  INFO [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: LHR, departureDate: null
2025-05-27 01:44:28.606  INFO [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:44:28.606  INFO [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: LHR-2025-05-27
2025-05-27 01:44:28.606  INFO [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: LHR, after date: 2025-05-27
2025-05-27 01:44:28.607  INFO [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: LHR, date: 2025-05-27
2025-05-27 01:44:28.614  INFO [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 01:44:28.614  WARN [59151d9a-2df9-43ac-af68-5cf11b806575] 7968 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No nearby flights found from: LHR after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 01:45:13.926 DEBUG [1db63981-57bf-489c-8b7f-aef014278e69] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:45:13.994 DEBUG [1db63981-57bf-489c-8b7f-aef014278e69] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:45:13.994  INFO [1db63981-57bf-489c-8b7f-aef014278e69] 7968 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:45:14.055  INFO [1db63981-57bf-489c-8b7f-aef014278e69] 7968 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:45:14.169 DEBUG [903ce4ab-81bc-4318-ac1b-34998a373f51] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:45:14.169 DEBUG [e6f832c4-81ce-4425-8a14-e5f89e1e5975] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:45:14.315 DEBUG [e6f832c4-81ce-4425-8a14-e5f89e1e5975] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:45:14.315 DEBUG [903ce4ab-81bc-4318-ac1b-34998a373f51] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:45:14.316  INFO [903ce4ab-81bc-4318-ac1b-34998a373f51] 7968 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:45:14.366 DEBUG [e1bb600b-d97d-496a-b521-a0369601778e] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:45:14.423  WARN [e6f832c4-81ce-4425-8a14-e5f89e1e5975] 7968 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:45:14.424  WARN [e6f832c4-81ce-4425-8a14-e5f89e1e5975] 7968 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:45:14.434 DEBUG [14323c6a-351c-4b74-8052-96e249058a64] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:45:14.434  INFO [903ce4ab-81bc-4318-ac1b-34998a373f51] 7968 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:45:14.476 DEBUG [e1bb600b-d97d-496a-b521-a0369601778e] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:45:14.477  INFO [e1bb600b-d97d-496a-b521-a0369601778e] 7968 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:45:14.540 DEBUG [14323c6a-351c-4b74-8052-96e249058a64] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:45:14.567  INFO [e1bb600b-d97d-496a-b521-a0369601778e] 7968 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:45:14.622  WARN [14323c6a-351c-4b74-8052-96e249058a64] 7968 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:45:14.623  WARN [14323c6a-351c-4b74-8052-96e249058a64] 7968 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:45:23.329 DEBUG [a80f2d77-e6f5-4ef5-ba10-0edfbc32f6d8] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:45:23.329 DEBUG [a80f2d77-e6f5-4ef5-ba10-0edfbc32f6d8] 7968 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:45:23.330 DEBUG [a80f2d77-e6f5-4ef5-ba10-0edfbc32f6d8] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:45:23.330  INFO [a80f2d77-e6f5-4ef5-ba10-0edfbc32f6d8] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:45:23.331  INFO [a80f2d77-e6f5-4ef5-ba10-0edfbc32f6d8] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:45:23.331  INFO [a80f2d77-e6f5-4ef5-ba10-0edfbc32f6d8] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:45:23.331  INFO [a80f2d77-e6f5-4ef5-ba10-0edfbc32f6d8] 7968 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:45:33.464 DEBUG [947958d5-4774-4482-90b5-01a1b43eb7d6] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:45:33.534 DEBUG [947958d5-4774-4482-90b5-01a1b43eb7d6] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:45:33.534  INFO [947958d5-4774-4482-90b5-01a1b43eb7d6] 7968 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:45:33.600  INFO [947958d5-4774-4482-90b5-01a1b43eb7d6] 7968 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:45:33.658 DEBUG [7cf6c510-dea2-439e-9e18-7ac093cd9541] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:45:33.658 DEBUG [3ee85269-46db-4d98-98aa-390342c04f11] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:45:33.755 DEBUG [3ee85269-46db-4d98-98aa-390342c04f11] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:45:33.755 DEBUG [7cf6c510-dea2-439e-9e18-7ac093cd9541] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:45:33.755  INFO [7cf6c510-dea2-439e-9e18-7ac093cd9541] 7968 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:45:33.830  WARN [3ee85269-46db-4d98-98aa-390342c04f11] 7968 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:45:33.830  WARN [3ee85269-46db-4d98-98aa-390342c04f11] 7968 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:45:33.837 DEBUG [644ecad3-af58-4625-bb22-76187c83a78d] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:45:33.838  INFO [7cf6c510-dea2-439e-9e18-7ac093cd9541] 7968 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:45:33.923 DEBUG [644ecad3-af58-4625-bb22-76187c83a78d] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:45:33.995  WARN [644ecad3-af58-4625-bb22-76187c83a78d] 7968 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:45:33.996  WARN [644ecad3-af58-4625-bb22-76187c83a78d] 7968 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:45:34.538 DEBUG [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=BCN
2025-05-27 01:45:34.539 DEBUG [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:45:34.539 DEBUG [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=BCN
2025-05-27 01:45:34.540  INFO [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: BCN, departureDate: null
2025-05-27 01:45:34.540  INFO [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:45:34.540  INFO [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: BCN-2025-05-27
2025-05-27 01:45:34.540  INFO [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: BCN, after date: 2025-05-27
2025-05-27 01:45:34.541  INFO [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: BCN, date: 2025-05-27
2025-05-27 01:45:34.548  INFO [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 01:45:34.548  WARN [ff040748-0c72-4844-934e-1cf245a7e53d] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No nearby flights found from: BCN after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 01:45:47.548 DEBUG [1e8c432a-4616-4e2d-94a0-78824a5c5b40] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:45:47.650 DEBUG [1e8c432a-4616-4e2d-94a0-78824a5c5b40] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:45:47.652  INFO [1e8c432a-4616-4e2d-94a0-78824a5c5b40] 7968 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:45:47.722  INFO [1e8c432a-4616-4e2d-94a0-78824a5c5b40] 7968 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:45:47.779 DEBUG [ccb6833f-b542-411f-aadb-1108af33d4c3] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:45:47.779 DEBUG [55e21937-96c0-4909-ab73-1c6cf257ee16] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:45:47.926 DEBUG [ccb6833f-b542-411f-aadb-1108af33d4c3] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:45:47.927 DEBUG [55e21937-96c0-4909-ab73-1c6cf257ee16] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:45:47.927  INFO [ccb6833f-b542-411f-aadb-1108af33d4c3] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:45:47.991 DEBUG [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 01:45:47.993 DEBUG [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:45:47.994 DEBUG [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 01:45:47.996  INFO [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 01:45:47.996  INFO [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:45:47.996  INFO [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 01:45:47.996  INFO [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 01:45:47.997  INFO [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 01:45:48.003  INFO [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 01:45:48.003  WARN [5b2d8d36-d475-441f-93e7-ce1b635a7ad0] 7968 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 01:45:48.037  WARN [55e21937-96c0-4909-ab73-1c6cf257ee16] 7968 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:45:48.038  WARN [55e21937-96c0-4909-ab73-1c6cf257ee16] 7968 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:45:48.044 DEBUG [dd90352b-8b0a-4940-8768-15c86377f634] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:45:48.047  INFO [ccb6833f-b542-411f-aadb-1108af33d4c3] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:45:48.175 DEBUG [dd90352b-8b0a-4940-8768-15c86377f634] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:45:48.322  WARN [dd90352b-8b0a-4940-8768-15c86377f634] 7968 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:45:48.323  WARN [dd90352b-8b0a-4940-8768-15c86377f634] 7968 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:46:01.071 DEBUG [72fe6270-1953-469e-b1aa-2c5858d1902d] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:46:01.169 DEBUG [72fe6270-1953-469e-b1aa-2c5858d1902d] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:46:01.170  INFO [72fe6270-1953-469e-b1aa-2c5858d1902d] 7968 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:46:01.241  INFO [72fe6270-1953-469e-b1aa-2c5858d1902d] 7968 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:46:01.249 DEBUG [f24cdb5f-2a08-4a1e-a3ab-6d98d64e3468] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:46:01.317 DEBUG [f24cdb5f-2a08-4a1e-a3ab-6d98d64e3468] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:46:01.318  INFO [f24cdb5f-2a08-4a1e-a3ab-6d98d64e3468] 7968 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:46:01.389  INFO [f24cdb5f-2a08-4a1e-a3ab-6d98d64e3468] 7968 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 01:46:02.893 DEBUG [8bbfe3a0-edbd-4919-8c1e-c19832c7b867] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:02.894 DEBUG [8bbfe3a0-edbd-4919-8c1e-c19832c7b867] 7968 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:46:02.894 DEBUG [8bbfe3a0-edbd-4919-8c1e-c19832c7b867] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:02.895  INFO [8bbfe3a0-edbd-4919-8c1e-c19832c7b867] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:46:02.895  INFO [8bbfe3a0-edbd-4919-8c1e-c19832c7b867] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:46:02.895  INFO [8bbfe3a0-edbd-4919-8c1e-c19832c7b867] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:46:02.895  INFO [8bbfe3a0-edbd-4919-8c1e-c19832c7b867] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:46:03.728 DEBUG [156f8432-47bf-4a44-867b-b608d11a11a6] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:03.796 DEBUG [156f8432-47bf-4a44-867b-b608d11a11a6] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:03.796  INFO [156f8432-47bf-4a44-867b-b608d11a11a6] 7968 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:46:03.855  INFO [156f8432-47bf-4a44-867b-b608d11a11a6] 7968 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:46:03.867 DEBUG [aad89f22-e3a8-45ca-b2e4-f05a756fc24d] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:46:03.945 DEBUG [aad89f22-e3a8-45ca-b2e4-f05a756fc24d] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:46:04.015  WARN [aad89f22-e3a8-45ca-b2e4-f05a756fc24d] 7968 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:46:04.016  WARN [aad89f22-e3a8-45ca-b2e4-f05a756fc24d] 7968 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:46:04.061 DEBUG [050542c0-45f7-4811-9255-79460a00efaa] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:04.130 DEBUG [050542c0-45f7-4811-9255-79460a00efaa] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:04.131  INFO [050542c0-45f7-4811-9255-79460a00efaa] 7968 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:46:04.194  INFO [050542c0-45f7-4811-9255-79460a00efaa] 7968 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:46:04.203 DEBUG [b07c8925-8e4f-4b3d-aa6d-45960824faad] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:46:04.272 DEBUG [b07c8925-8e4f-4b3d-aa6d-45960824faad] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:46:04.334  WARN [b07c8925-8e4f-4b3d-aa6d-45960824faad] 7968 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:46:04.335  WARN [b07c8925-8e4f-4b3d-aa6d-45960824faad] 7968 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:46:05.610 DEBUG [dfc1589e-ab85-4e03-9e4e-52729eeee741] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:05.611 DEBUG [dfc1589e-ab85-4e03-9e4e-52729eeee741] 7968 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:46:05.612 DEBUG [dfc1589e-ab85-4e03-9e4e-52729eeee741] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:05.613  INFO [dfc1589e-ab85-4e03-9e4e-52729eeee741] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:46:05.613  INFO [dfc1589e-ab85-4e03-9e4e-52729eeee741] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:46:05.613  INFO [dfc1589e-ab85-4e03-9e4e-52729eeee741] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:46:05.613  INFO [dfc1589e-ab85-4e03-9e4e-52729eeee741] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:46:06.323 DEBUG [bdf6a039-0baf-4127-a59a-56d5bf62cd2b] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:06.389 DEBUG [bdf6a039-0baf-4127-a59a-56d5bf62cd2b] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:06.390  INFO [bdf6a039-0baf-4127-a59a-56d5bf62cd2b] 7968 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 01:46:06.453  INFO [bdf6a039-0baf-4127-a59a-56d5bf62cd2b] 7968 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 01:46:06.467 DEBUG [922081e7-45e4-4478-b71b-2e55411f167e] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:46:06.586 DEBUG [922081e7-45e4-4478-b71b-2e55411f167e] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:46:06.657  WARN [922081e7-45e4-4478-b71b-2e55411f167e] 7968 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:46:06.658  WARN [922081e7-45e4-4478-b71b-2e55411f167e] 7968 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:46:06.687 DEBUG [ccd15151-7495-4eeb-9556-bdea51be2d7b] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:06.759 DEBUG [ccd15151-7495-4eeb-9556-bdea51be2d7b] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:06.759  WARN [ccd15151-7495-4eeb-9556-bdea51be2d7b] 7968 --- [nio-8080-exec-9] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 01:46:08.031 DEBUG [060374e6-613d-4c9d-baeb-ac9c5e6baa8f] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:08.031 DEBUG [060374e6-613d-4c9d-baeb-ac9c5e6baa8f] 7968 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:46:08.032 DEBUG [060374e6-613d-4c9d-baeb-ac9c5e6baa8f] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:08.033  INFO [060374e6-613d-4c9d-baeb-ac9c5e6baa8f] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:46:08.033  INFO [060374e6-613d-4c9d-baeb-ac9c5e6baa8f] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:46:08.033  INFO [060374e6-613d-4c9d-baeb-ac9c5e6baa8f] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:46:08.033  INFO [060374e6-613d-4c9d-baeb-ac9c5e6baa8f] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:46:08.750 DEBUG [25cf9fd5-0530-4ec9-9dd5-44dab65a1442] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:08.827 DEBUG [25cf9fd5-0530-4ec9-9dd5-44dab65a1442] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:08.827  WARN [25cf9fd5-0530-4ec9-9dd5-44dab65a1442] 7968 --- [nio-8080-exec-8] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 01:46:09.027 DEBUG [c60e5c49-e2ee-49df-ad0f-c2bccf74f11b] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:09.110 DEBUG [c60e5c49-e2ee-49df-ad0f-c2bccf74f11b] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:09.110  WARN [c60e5c49-e2ee-49df-ad0f-c2bccf74f11b] 7968 --- [nio-8080-exec-1] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 01:46:13.087 DEBUG [f4710d65-00d3-4a38-8b3e-528d7eac4b0b] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:13.088 DEBUG [f4710d65-00d3-4a38-8b3e-528d7eac4b0b] 7968 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:46:13.088 DEBUG [f4710d65-00d3-4a38-8b3e-528d7eac4b0b] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:13.089  INFO [f4710d65-00d3-4a38-8b3e-528d7eac4b0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:46:13.089  INFO [f4710d65-00d3-4a38-8b3e-528d7eac4b0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:46:13.089  INFO [f4710d65-00d3-4a38-8b3e-528d7eac4b0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:46:13.090  INFO [f4710d65-00d3-4a38-8b3e-528d7eac4b0b] 7968 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:46:14.392 DEBUG [c4732a1f-a869-43bf-8553-a77f161a0a90] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:14.467 DEBUG [c4732a1f-a869-43bf-8553-a77f161a0a90] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:14.467  WARN [c4732a1f-a869-43bf-8553-a77f161a0a90] 7968 --- [nio-8080-exec-2] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 01:46:14.654 DEBUG [4c422ed7-1a41-4e71-b059-705bd5def718] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:14.725 DEBUG [4c422ed7-1a41-4e71-b059-705bd5def718] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:14.725  WARN [4c422ed7-1a41-4e71-b059-705bd5def718] 7968 --- [nio-8080-exec-4] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 01:46:15.300 DEBUG [58f8bb4f-9285-4c25-a412-5182bcd71b63] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:15.300 DEBUG [58f8bb4f-9285-4c25-a412-5182bcd71b63] 7968 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:46:15.301 DEBUG [58f8bb4f-9285-4c25-a412-5182bcd71b63] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:15.301  INFO [58f8bb4f-9285-4c25-a412-5182bcd71b63] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:46:15.301  INFO [58f8bb4f-9285-4c25-a412-5182bcd71b63] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:46:15.301  INFO [58f8bb4f-9285-4c25-a412-5182bcd71b63] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:46:15.302  INFO [58f8bb4f-9285-4c25-a412-5182bcd71b63] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:46:21.245 DEBUG [4fbb9e1c-7f1f-4d41-afce-ca347fbb9168] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 01:46:21.245 DEBUG [4fbb9e1c-7f1f-4d41-afce-ca347fbb9168] 7968 --- [nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 01:46:23.652 DEBUG [7d1dcd6c-950c-4f29-8e35-e7df593c2127] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 01:46:23.676 DEBUG [7d1dcd6c-950c-4f29-8e35-e7df593c2127] 7968 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=TuOBVDZtjTl2Gw4eYJPfh7kQA_9e4V5wP0KrBOQ5vgI%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 01:46:25.444 DEBUG [d61ac6ff-7ce0-49fe-a1e0-c82d50960bd3] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=TuOBVDZtjTl2Gw4eYJPfh7kQA_9e4V5wP0KrBOQ5vgI%3D&code=4%2F0AUJR-x7TJMxFOdvAHP72CeYnY8CW92V7In8kipmS32YKCg1jyy8LAKqH5gbIKXZjaEFTuA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 01:46:25.741  INFO [d61ac6ff-7ce0-49fe-a1e0-c82d50960bd3] 7968 --- [nio-8080-exec-9] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 01:46:25.820  INFO [d61ac6ff-7ce0-49fe-a1e0-c82d50960bd3] 7968 --- [nio-8080-exec-9] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 01:46:25.821 DEBUG [d61ac6ff-7ce0-49fe-a1e0-c82d50960bd3] 7968 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1EF448336451A20D081C65B5411DB45D
2025-05-27 01:46:25.822 DEBUG [d61ac6ff-7ce0-49fe-a1e0-c82d50960bd3] 7968 --- [nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1EF448336451A20D081C65B5411DB45D], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 01:46:25.823 DEBUG [d61ac6ff-7ce0-49fe-a1e0-c82d50960bd3] 7968 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/login?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4Mjk5NTg1LCJleHAiOjE3NDgzODU5ODV9.avznZN20awb9RJVnVLJPZoMGU_JI-amKrGi81bN7Fp3Fi1S1e-O1Prs-mr5CE4U5Yxa2Snw6vpeekJsyyCNL-A&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgyOTk1ODUsImV4cCI6MTc0ODkwNDM4NX0.7bm1-1szKelDR-hqGjS2QLqRiSXcPRJn9_UriI9t8If4Hz_bvS90fqMAZ_w-cWTjJ9_YVfEDIAEhukoeaWu-4A
2025-05-27 01:46:26.560 DEBUG [ba03b7a8-6b5c-4c79-9305-ee1e45d6d81c] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:46:26.570 DEBUG [ba03b7a8-6b5c-4c79-9305-ee1e45d6d81c] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:46:26.571  WARN [ba03b7a8-6b5c-4c79-9305-ee1e45d6d81c] 7968 --- [nio-8080-exec-6] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 01:46:31.160 DEBUG [0b45d9f6-5bb1-42d5-b581-20074b481d3a] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:31.160 DEBUG [0b45d9f6-5bb1-42d5-b581-20074b481d3a] 7968 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:46:31.161 DEBUG [0b45d9f6-5bb1-42d5-b581-20074b481d3a] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:46:31.161  INFO [0b45d9f6-5bb1-42d5-b581-20074b481d3a] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:46:31.162  INFO [0b45d9f6-5bb1-42d5-b581-20074b481d3a] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:46:31.162  INFO [0b45d9f6-5bb1-42d5-b581-20074b481d3a] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:46:31.162  INFO [0b45d9f6-5bb1-42d5-b581-20074b481d3a] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:50:04.557 DEBUG [eb05d448-f4be-45b9-980e-a2bc6f0c299b] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:50:04.566 DEBUG [eb05d448-f4be-45b9-980e-a2bc6f0c299b] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:50:04.567  INFO [eb05d448-f4be-45b9-980e-a2bc6f0c299b] 7968 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 01:50:04.572  INFO [eb05d448-f4be-45b9-980e-a2bc6f0c299b] 7968 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 01:50:04.619 DEBUG [4298c674-eed8-4739-81ed-c5827eb64a8b] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:50:04.625 DEBUG [a85bca86-fa15-41e1-9112-8757da100561] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:50:04.626 DEBUG [0472722d-2bb6-4c61-910d-97fe81a39dee] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:50:04.626 DEBUG [a85bca86-fa15-41e1-9112-8757da100561] 7968 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:50:04.627 DEBUG [a85bca86-fa15-41e1-9112-8757da100561] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:50:04.631  INFO [a85bca86-fa15-41e1-9112-8757da100561] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 01:50:04.635  INFO [a85bca86-fa15-41e1-9112-8757da100561] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 01:50:04.644 DEBUG [4298c674-eed8-4739-81ed-c5827eb64a8b] 7968 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A074D5BA3B9DC3926BB7A2812EDAF291
2025-05-27 01:50:04.646 DEBUG [4298c674-eed8-4739-81ed-c5827eb64a8b] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:50:04.649 DEBUG [0472722d-2bb6-4c61-910d-97fe81a39dee] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:50:04.650  INFO [0472722d-2bb6-4c61-910d-97fe81a39dee] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:50:04.659  WARN [4298c674-eed8-4739-81ed-c5827eb64a8b] 7968 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:50:04.661  WARN [4298c674-eed8-4739-81ed-c5827eb64a8b] 7968 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:50:04.665  INFO [0472722d-2bb6-4c61-910d-97fe81a39dee] 7968 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 01:50:04.671 DEBUG [76ed5535-0931-485a-a130-6950e13b0232] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:50:04.684 DEBUG [76ed5535-0931-485a-a130-6950e13b0232] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:50:04.688  INFO [0472722d-2bb6-4c61-910d-97fe81a39dee] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 01:50:04.695  WARN [76ed5535-0931-485a-a130-6950e13b0232] 7968 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:50:04.697  WARN [76ed5535-0931-485a-a130-6950e13b0232] 7968 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:50:04.715  INFO [a85bca86-fa15-41e1-9112-8757da100561] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 01:50:04.724 DEBUG [0e2cf5da-776b-4b67-8e5d-706cedf5304e] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:50:04.725 DEBUG [0e2cf5da-776b-4b67-8e5d-706cedf5304e] 7968 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:50:04.725 DEBUG [0e2cf5da-776b-4b67-8e5d-706cedf5304e] 7968 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A074D5BA3B9DC3926BB7A2812EDAF291
2025-05-27 01:50:04.726 DEBUG [0e2cf5da-776b-4b67-8e5d-706cedf5304e] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 01:50:04.727  INFO [0e2cf5da-776b-4b67-8e5d-706cedf5304e] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 01:50:04.727  INFO [0e2cf5da-776b-4b67-8e5d-706cedf5304e] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 01:50:04.784  INFO [0e2cf5da-776b-4b67-8e5d-706cedf5304e] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 01:50:26.548 DEBUG [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:50:26.548 DEBUG [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:50:26.550 DEBUG [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:50:26.550  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:50:26.550  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:50:26.550  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:50:26.551  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 01:50:26.551  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 01:50:26.592  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 01:50:26.593  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 01:50:26.593  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 01:50:26.593  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 01:50:26.593  INFO [75f759fb-92e4-4d64-9936-ade9bace2044] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 01:51:25.082 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 01:51:25.085 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:51:25.085 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 01:51:25.090  INFO [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Trip to france for a familly with 2 kids
2025-05-27 01:51:25.092  INFO [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 01:51:25.092  INFO [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 01:51:25.094 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Trip to france for a familly with 2 kids";
2025-05-27 01:51:25.096  INFO [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 01:51:27.518 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-06-03",
  "returnDate": "2025-06-06",
  "tripType": "roundTrip",
  "adults": 2,
  "children": 2,
  "infants": 0
}
```
2025-05-27 01:51:27.519 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 01:51:27.520 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 01:51:27.521 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 01:51:27.521 DEBUG [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 01:51:27.521  INFO [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 01:51:27.521  INFO [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-06-03, returnDate=2025-06-06, tripType=roundTrip, adults=2, children=2, infants=0
2025-05-27 01:51:27.521  INFO [0c1c45fc-715c-41cf-b7fb-7cbc62d2ed24] 7968 --- [nio-8080-exec-1] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 01:51:29.174 DEBUG [3b30ba8e-7e8b-438d-aca1-fb630c723d7e] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 01:51:29.183 DEBUG [3b30ba8e-7e8b-438d-aca1-fb630c723d7e] 7968 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 01:51:29.184  INFO [3b30ba8e-7e8b-438d-aca1-fb630c723d7e] 7968 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 01:51:29.190  INFO [3b30ba8e-7e8b-438d-aca1-fb630c723d7e] 7968 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 01:51:29.271 DEBUG [36c2acec-3927-440a-98e2-7476b6942797] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 01:51:29.271 DEBUG [226094ff-9fb1-4497-b5b3-59c58123fcd2] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:51:29.271 DEBUG [14d73b79-2e24-4ee3-80a0-7e71e6dce190] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 01:51:29.271 DEBUG [36c2acec-3927-440a-98e2-7476b6942797] 7968 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:51:29.272 DEBUG [36c2acec-3927-440a-98e2-7476b6942797] 7968 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 01:51:29.274  INFO [36c2acec-3927-440a-98e2-7476b6942797] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 01:51:29.274  INFO [36c2acec-3927-440a-98e2-7476b6942797] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-06-03
2025-05-27 01:51:29.284 DEBUG [14d73b79-2e24-4ee3-80a0-7e71e6dce190] 7968 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 54E482C718A7E24C0754C8CD3D027FCD
2025-05-27 01:51:29.284 DEBUG [226094ff-9fb1-4497-b5b3-59c58123fcd2] 7968 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D17AC72DD3B5F90ED685A9CA942A9B7D
2025-05-27 01:51:29.285 DEBUG [14d73b79-2e24-4ee3-80a0-7e71e6dce190] 7968 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 01:51:29.286 DEBUG [226094ff-9fb1-4497-b5b3-59c58123fcd2] 7968 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:51:29.286  INFO [14d73b79-2e24-4ee3-80a0-7e71e6dce190] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 01:51:29.294  WARN [226094ff-9fb1-4497-b5b3-59c58123fcd2] 7968 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:51:29.295  WARN [226094ff-9fb1-4497-b5b3-59c58123fcd2] 7968 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:51:29.301  INFO [14d73b79-2e24-4ee3-80a0-7e71e6dce190] 7968 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 01:51:29.304 DEBUG [c3eda43f-ee28-4d08-948d-cd3fa2c3286f] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 01:51:29.317 DEBUG [c3eda43f-ee28-4d08-948d-cd3fa2c3286f] 7968 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 01:51:29.324  WARN [c3eda43f-ee28-4d08-948d-cd3fa2c3286f] 7968 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 01:51:29.325  WARN [c3eda43f-ee28-4d08-948d-cd3fa2c3286f] 7968 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 01:51:29.337  INFO [36c2acec-3927-440a-98e2-7476b6942797] 7968 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 01:51:29.346 DEBUG [f4f11134-b365-42ac-9261-cefa2bfcc2c2] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 01:51:29.346 DEBUG [f4f11134-b365-42ac-9261-cefa2bfcc2c2] 7968 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:51:29.346 DEBUG [f4f11134-b365-42ac-9261-cefa2bfcc2c2] 7968 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 54E482C718A7E24C0754C8CD3D027FCD
2025-05-27 01:51:29.347 DEBUG [f4f11134-b365-42ac-9261-cefa2bfcc2c2] 7968 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 01:51:29.348  INFO [f4f11134-b365-42ac-9261-cefa2bfcc2c2] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 01:51:29.348  INFO [f4f11134-b365-42ac-9261-cefa2bfcc2c2] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-06-03
2025-05-27 01:51:29.356 DEBUG [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 01:51:29.357 DEBUG [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:51:29.357 DEBUG [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id D17AC72DD3B5F90ED685A9CA942A9B7D
2025-05-27 01:51:29.357 DEBUG [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 01:51:29.358  INFO [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-06, Return=null, Pax=1/0/0
2025-05-27 01:51:29.358  INFO [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-06
2025-05-27 01:51:29.363  WARN [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-06
2025-05-27 01:51:29.364  INFO [3f575006-3bb3-4fb7-ab6a-de3677b6801c] 7968 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 01:51:29.390  INFO [f4f11134-b365-42ac-9261-cefa2bfcc2c2] 7968 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 01:51:29.400 DEBUG [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 01:51:29.400 DEBUG [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:51:29.401 DEBUG [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id D17AC72DD3B5F90ED685A9CA942A9B7D
2025-05-27 01:51:29.402 DEBUG [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 01:51:29.403  INFO [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-06, Return=null, Pax=1/0/0
2025-05-27 01:51:29.403  INFO [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-06
2025-05-27 01:51:29.408  WARN [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-06
2025-05-27 01:51:29.409  INFO [7b3eaac9-974e-44dd-ae2e-2e96b6323a3c] 7968 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 01:51:32.993 DEBUG [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 01:51:32.994 DEBUG [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 01:51:32.994 DEBUG [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id D17AC72DD3B5F90ED685A9CA942A9B7D
2025-05-27 01:51:32.995 DEBUG [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 01:51:32.996  INFO [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 01:51:32.996  INFO [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 01:51:32.996  INFO [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 01:51:32.996  INFO [628954ff-416f-47ed-9d87-05fc8f6a46be] 7968 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 01:53:28.085  INFO [NONE] 7968 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 01:53:28.089  INFO [NONE] 7968 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 01:53:28.098  INFO [NONE] 7968 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 10:52:52.463  INFO [NONE] 27204 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 27204 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 10:52:52.471 DEBUG [NONE] 27204 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 10:52:52.471  INFO [NONE] 27204 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 10:52:52.508  INFO [NONE] 27204 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 10:52:52.509  INFO [NONE] 27204 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 10:52:53.486  INFO [NONE] 27204 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 10:52:53.570  INFO [NONE] 27204 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 9 JPA repository interfaces.
2025-05-27 10:52:54.596  INFO [NONE] 27204 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 10:52:54.617  INFO [NONE] 27204 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 10:52:54.618  INFO [NONE] 27204 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 10:52:54.703  INFO [NONE] 27204 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 10:52:54.704  INFO [NONE] 27204 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2194 ms
2025-05-27 10:52:54.998  INFO [NONE] 27204 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 10:52:55.073  INFO [NONE] 27204 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 10:52:55.112  INFO [NONE] 27204 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 10:52:55.358  INFO [NONE] 27204 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 10:52:55.386  INFO [NONE] 27204 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 10:52:56.484 ERROR [NONE] 27204 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 137 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 140 common frames omitted

2025-05-27 10:52:56.495  WARN [NONE] 27204 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)

2025-05-27 10:52:56.531  WARN [NONE] 27204 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 10:52:57.881  INFO [NONE] 27204 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 10:52:57.900  INFO [NONE] 27204 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 10:52:58.915 ERROR [NONE] 27204 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.

com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:112)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 144 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 147 common frames omitted

2025-05-27 10:52:58.922  WARN [NONE] 27204 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2025-05-27 10:52:58.923 ERROR [NONE] 27204 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2025-05-27 10:52:58.929 ERROR [NONE] 27204 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
2025-05-27 10:52:58.931 ERROR [NONE] 27204 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'userRepoUserDetailsService' defined in file [C:\Users\razvi\Desktop\Licenta\backend\target\classes\org\example\xlr8travel\security\UserRepoUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-05-27 10:52:58.984  INFO [NONE] 27204 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-27 10:52:58.993  WARN [NONE] 27204 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-05-27 10:52:59.004  INFO [NONE] 27204 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-27 10:52:59.025 ERROR [NONE] 27204 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'userRepoUserDetailsService' defined in file [C:\Users\razvi\Desktop\Licenta\backend\target\classes\org\example\xlr8travel\security\UserRepoUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 16 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRepoUserDetailsService' defined in file [C:\Users\razvi\Desktop\Licenta\backend\target\classes\org\example\xlr8travel\security\UserRepoUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 58 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in org.example.xlr8travel.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 71 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 85 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 97 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 104 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:112)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 108 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 131 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 144 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 147 common frames omitted

2025-05-27 10:54:28.744  INFO [NONE] 3964 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 3964 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 10:54:28.750 DEBUG [NONE] 3964 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 10:54:28.751  INFO [NONE] 3964 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 10:54:28.794  INFO [NONE] 3964 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 10:54:28.795  INFO [NONE] 3964 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 10:54:29.801  INFO [NONE] 3964 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 10:54:29.889  INFO [NONE] 3964 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 9 JPA repository interfaces.
2025-05-27 10:54:30.640  INFO [NONE] 3964 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 10:54:30.653  INFO [NONE] 3964 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 10:54:30.653  INFO [NONE] 3964 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 10:54:30.727  INFO [NONE] 3964 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 10:54:30.728  INFO [NONE] 3964 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1932 ms
2025-05-27 10:54:31.058  INFO [NONE] 3964 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 10:54:31.117  INFO [NONE] 3964 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 10:54:31.156  INFO [NONE] 3964 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 10:54:31.375  INFO [NONE] 3964 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 10:54:31.404  INFO [NONE] 3964 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 10:54:31.607  INFO [NONE] 3964 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@609d2bb
2025-05-27 10:54:31.609  INFO [NONE] 3964 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 10:54:31.660  WARN [NONE] 3964 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 10:54:32.942  INFO [NONE] 3964 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 10:54:40.252  INFO [NONE] 3964 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 10:54:40.582  INFO [NONE] 3964 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 10:54:41.038 DEBUG [NONE] 3964 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 10:54:41.040 DEBUG [NONE] 3964 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 10:54:41.264  INFO [NONE] 3964 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 10:54:41.903  INFO [NONE] 3964 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 10:54:41.904  WARN [NONE] 3964 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 10:54:41.904  WARN [NONE] 3964 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 10:54:41.904  WARN [NONE] 3964 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 10:54:41.904  WARN [NONE] 3964 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 10:54:41.988  WARN [NONE] 3964 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 10:54:42.214  INFO [NONE] 3964 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 10:54:42.766  INFO [NONE] 3964 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 10:54:42.909  INFO [NONE] 3964 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70dabb98, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f635d5e, org.springframework.security.web.context.SecurityContextHolderFilter@fab961, org.springframework.security.web.header.HeaderWriterFilter@761acfd4, org.springframework.web.filter.CorsFilter@4bb8f926, org.springframework.security.web.authentication.logout.LogoutFilter@66881d0d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4c370c1e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@228216b5, org.example.xlr8travel.security.JwtAuthenticationFilter@4ff6efcc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2916c603, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@35289f91, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1161e640, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7c2f8b2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@588cd26d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@de2ea85, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3442998f, org.springframework.security.web.session.SessionManagementFilter@1a1451a8, org.springframework.security.web.access.ExceptionTranslationFilter@7a710bb9, org.springframework.security.web.access.intercept.AuthorizationFilter@d3151be]
2025-05-27 10:54:43.580  INFO [NONE] 3964 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 10:54:43.666  INFO [NONE] 3964 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 10:54:43.679  INFO [NONE] 3964 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 15.376 seconds (process running for 15.946)
2025-05-27 10:54:48.754  INFO [NONE] 3964 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 10:54:48.755  INFO [NONE] 3964 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 10:54:48.757  INFO [NONE] 3964 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 10:54:48.775 DEBUG [5fa4ae68-70eb-4247-b51a-bbe9c4b27cc2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 10:54:48.817 DEBUG [5fa4ae68-70eb-4247-b51a-bbe9c4b27cc2] 3964 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=bIYg_vAJ96IS5y5IwTj-y9ROlINtsHUyifG4PX9R06E%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 10:54:51.006 DEBUG [a38771f6-f901-42c3-b772-4ed09bd3495c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=bIYg_vAJ96IS5y5IwTj-y9ROlINtsHUyifG4PX9R06E%3D&code=4%2F0AUJR-x503APq6QYdxtpQ46uLcXhKe1iZsiMCgn3eSpQZOoYMQj5SiJtKP9YHoXji-ea96Q&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=1&prompt=none
2025-05-27 10:54:51.657  INFO [a38771f6-f901-42c3-b772-4ed09bd3495c] 3964 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 10:54:51.735  INFO [a38771f6-f901-42c3-b772-4ed09bd3495c] 3964 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 10:54:51.738 DEBUG [a38771f6-f901-42c3-b772-4ed09bd3495c] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E1A38D9F23ACB645C115E0B5EDEF1E1A
2025-05-27 10:54:51.739 DEBUG [a38771f6-f901-42c3-b772-4ed09bd3495c] 3964 --- [nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E1A38D9F23ACB645C115E0B5EDEF1E1A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 10:54:51.790 DEBUG [a38771f6-f901-42c3-b772-4ed09bd3495c] 3964 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/login?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzMyNDkxLCJleHAiOjE3NDg0MTg4OTF9.EKxdLQIrsS6ditimIMjeZSw7kcf3DIWUsJFf_Sv0N3-TVpvNtmNY_eustDJWfMNe7-QbGzJC02t1hq9It7wMGA&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzMzI0OTEsImV4cCI6MTc0ODkzNzI5MX0.wQojBt9VG4bvR6ixiX15zSHM3n35CFOUHnyPBAmUeJsiFN5UEHDdgN1thIfBIZjphgLjeu3bCsxQAmTXh5FWtQ
2025-05-27 10:54:53.183 DEBUG [f15f965f-8157-483b-b3f3-ea37a620770a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 10:54:53.240  WARN [f15f965f-8157-483b-b3f3-ea37a620770a] 3964 --- [nio-8080-exec-3] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 10:54:53.255 DEBUG [f15f965f-8157-483b-b3f3-ea37a620770a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 10:54:53.276  INFO [f15f965f-8157-483b-b3f3-ea37a620770a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 10:54:53.288  INFO [f15f965f-8157-483b-b3f3-ea37a620770a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 10:54:53.366 DEBUG [a34db7bc-aeb5-4f23-820a-7670d141f6ea] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 10:54:53.367 DEBUG [821e0873-df62-4e2b-bf53-5bbafa51ab1b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 10:54:53.384 DEBUG [821e0873-df62-4e2b-bf53-5bbafa51ab1b] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D20AB30E94A8CA72220BE5E986363006
2025-05-27 10:54:53.389 DEBUG [a34db7bc-aeb5-4f23-820a-7670d141f6ea] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 10:54:53.392 DEBUG [821e0873-df62-4e2b-bf53-5bbafa51ab1b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 10:54:53.392  INFO [a34db7bc-aeb5-4f23-820a-7670d141f6ea] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 10:54:53.407  WARN [821e0873-df62-4e2b-bf53-5bbafa51ab1b] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 10:54:53.412  INFO [a34db7bc-aeb5-4f23-820a-7670d141f6ea] 3964 --- [nio-8080-exec-5] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 10:54:53.422  WARN [821e0873-df62-4e2b-bf53-5bbafa51ab1b] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 10:54:53.436  INFO [a34db7bc-aeb5-4f23-820a-7670d141f6ea] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 10:54:54.324 DEBUG [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 10:54:54.325 DEBUG [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 10:54:54.327 DEBUG [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 10:54:54.342  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 10:54:54.343  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 10:54:54.343  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 10:54:54.343  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 10:54:54.343  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 10:54:54.404  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 10:54:54.404  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 10:54:54.404  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 10:54:54.405  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 10:54:54.406  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 10:54:54.406  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 10:54:54.406  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 10:54:54.406  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 10:54:54.406  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 10:54:54.407  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 10:54:54.407  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 10:54:54.407  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 10:54:54.407  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 10:54:54.407  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 10:54:54.408  INFO [fca020b8-8147-4a0b-9e42-dd04e00b9fa5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 10:54:56.938 DEBUG [65d92cf7-67da-4495-bbde-c1324b107f46] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 10:54:56.954 DEBUG [65d92cf7-67da-4495-bbde-c1324b107f46] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 10:54:56.957  INFO [65d92cf7-67da-4495-bbde-c1324b107f46] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 10:54:56.966  INFO [65d92cf7-67da-4495-bbde-c1324b107f46] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 10:54:56.990 DEBUG [2849f1fa-3f49-42ff-9e41-b42b7a8052a1] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 10:54:57.005 DEBUG [2849f1fa-3f49-42ff-9e41-b42b7a8052a1] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A7F7B9A1FFA9B6DBE3F1F3BDDDFCE314
2025-05-27 10:54:57.009 DEBUG [2849f1fa-3f49-42ff-9e41-b42b7a8052a1] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 10:54:57.018  WARN [2849f1fa-3f49-42ff-9e41-b42b7a8052a1] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 10:54:57.019  WARN [2849f1fa-3f49-42ff-9e41-b42b7a8052a1] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 10:54:57.178 DEBUG [c77935ae-2059-4dbf-8328-a006e34023a7] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 10:54:57.191 DEBUG [c77935ae-2059-4dbf-8328-a006e34023a7] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 10:54:57.192  INFO [c77935ae-2059-4dbf-8328-a006e34023a7] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 10:54:57.199  INFO [c77935ae-2059-4dbf-8328-a006e34023a7] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 10:54:57.214 DEBUG [f7ac6efa-d158-45cd-b843-49d47d6d9495] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 10:54:57.230 DEBUG [f7ac6efa-d158-45cd-b843-49d47d6d9495] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A3CD0A0782286E78C277B029BCC071AD
2025-05-27 10:54:57.236 DEBUG [f7ac6efa-d158-45cd-b843-49d47d6d9495] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 10:54:57.249  WARN [f7ac6efa-d158-45cd-b843-49d47d6d9495] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 10:54:57.251  WARN [f7ac6efa-d158-45cd-b843-49d47d6d9495] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 10:55:07.954 DEBUG [b1a33c0e-a5ac-4689-aac2-f266140ca0b2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 10:55:07.955 DEBUG [b1a33c0e-a5ac-4689-aac2-f266140ca0b2] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 10:55:07.956 DEBUG [b1a33c0e-a5ac-4689-aac2-f266140ca0b2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 10:55:07.957  INFO [b1a33c0e-a5ac-4689-aac2-f266140ca0b2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 10:55:07.958  INFO [b1a33c0e-a5ac-4689-aac2-f266140ca0b2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 10:55:07.958  INFO [b1a33c0e-a5ac-4689-aac2-f266140ca0b2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 10:55:07.958  INFO [b1a33c0e-a5ac-4689-aac2-f266140ca0b2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 10:55:09.352 DEBUG [86bb67a2-d7cc-4e57-a8b9-874e9c3b4bd6] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 10:55:09.372 DEBUG [86bb67a2-d7cc-4e57-a8b9-874e9c3b4bd6] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E3DCA5D64DAF8782BA4033CAE82E806E
2025-05-27 10:55:09.375 DEBUG [86bb67a2-d7cc-4e57-a8b9-874e9c3b4bd6] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 10:55:09.376  INFO [86bb67a2-d7cc-4e57-a8b9-874e9c3b4bd6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 10:55:09.390  INFO [86bb67a2-d7cc-4e57-a8b9-874e9c3b4bd6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 10:55:09.400 DEBUG [5ae7411e-da2f-4e87-b2e5-b7a704b8dc2b] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 10:55:09.414 DEBUG [5ae7411e-da2f-4e87-b2e5-b7a704b8dc2b] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 10:55:09.414  INFO [5ae7411e-da2f-4e87-b2e5-b7a704b8dc2b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 10:55:09.429  INFO [5ae7411e-da2f-4e87-b2e5-b7a704b8dc2b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 10:55:10.087 DEBUG [12b52dd9-fc4f-4453-8821-65d7703692a9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 10:55:10.088 DEBUG [12b52dd9-fc4f-4453-8821-65d7703692a9] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 10:55:10.089 DEBUG [12b52dd9-fc4f-4453-8821-65d7703692a9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 10:55:10.090  INFO [12b52dd9-fc4f-4453-8821-65d7703692a9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 10:55:10.090  INFO [12b52dd9-fc4f-4453-8821-65d7703692a9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 10:55:10.090  INFO [12b52dd9-fc4f-4453-8821-65d7703692a9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 10:55:10.091  INFO [12b52dd9-fc4f-4453-8821-65d7703692a9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 10:55:14.078 DEBUG [381dbe7d-88c6-4d58-945d-9d6f63e93f73] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 10:55:14.091 DEBUG [381dbe7d-88c6-4d58-945d-9d6f63e93f73] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 10:55:14.092  INFO [381dbe7d-88c6-4d58-945d-9d6f63e93f73] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 10:55:14.099  INFO [381dbe7d-88c6-4d58-945d-9d6f63e93f73] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 10:55:14.140 DEBUG [44acc6d6-92a4-4f0e-931c-6fedd835336d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 10:55:14.144 DEBUG [0947bc75-425c-4f9a-823c-4ce31c2b61cb] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 10:55:14.145 DEBUG [48be164c-ecce-4841-ba0a-7f2c1fa00af4] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 10:55:14.145 DEBUG [48be164c-ecce-4841-ba0a-7f2c1fa00af4] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 10:55:14.147 DEBUG [48be164c-ecce-4841-ba0a-7f2c1fa00af4] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 10:55:14.159  INFO [48be164c-ecce-4841-ba0a-7f2c1fa00af4] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 10:55:14.159  INFO [48be164c-ecce-4841-ba0a-7f2c1fa00af4] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 10:55:14.159 DEBUG [44acc6d6-92a4-4f0e-931c-6fedd835336d] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 13FB9C6DF1BDAB8D3BD263EC90B944E3
2025-05-27 10:55:14.161 DEBUG [0947bc75-425c-4f9a-823c-4ce31c2b61cb] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 10:55:14.162 DEBUG [44acc6d6-92a4-4f0e-931c-6fedd835336d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 10:55:14.162  INFO [0947bc75-425c-4f9a-823c-4ce31c2b61cb] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 10:55:14.173  WARN [44acc6d6-92a4-4f0e-931c-6fedd835336d] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 10:55:14.175  WARN [44acc6d6-92a4-4f0e-931c-6fedd835336d] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 10:55:14.177  INFO [0947bc75-425c-4f9a-823c-4ce31c2b61cb] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 10:55:14.181 DEBUG [e7c8890d-69d1-46e6-89f0-05bcf71168cd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 10:55:14.194 DEBUG [e7c8890d-69d1-46e6-89f0-05bcf71168cd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 10:55:14.207  WARN [e7c8890d-69d1-46e6-89f0-05bcf71168cd] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 10:55:14.208  WARN [e7c8890d-69d1-46e6-89f0-05bcf71168cd] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 10:55:14.235  INFO [48be164c-ecce-4841-ba0a-7f2c1fa00af4] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 10:55:14.243 DEBUG [48cc3c0f-5841-483d-8494-a0057ae1985a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 10:55:14.244 DEBUG [48cc3c0f-5841-483d-8494-a0057ae1985a] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 10:55:14.244 DEBUG [48cc3c0f-5841-483d-8494-a0057ae1985a] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 13FB9C6DF1BDAB8D3BD263EC90B944E3
2025-05-27 10:55:14.246 DEBUG [48cc3c0f-5841-483d-8494-a0057ae1985a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 10:55:14.247  INFO [48cc3c0f-5841-483d-8494-a0057ae1985a] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 10:55:14.248  INFO [48cc3c0f-5841-483d-8494-a0057ae1985a] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 10:55:14.304  INFO [48cc3c0f-5841-483d-8494-a0057ae1985a] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:01:11.387 DEBUG [ea0829ca-ad81-473a-a44a-3ad8b7ac34bf] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:01:11.400 DEBUG [ea0829ca-ad81-473a-a44a-3ad8b7ac34bf] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:01:11.402  INFO [ea0829ca-ad81-473a-a44a-3ad8b7ac34bf] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:01:11.410  INFO [ea0829ca-ad81-473a-a44a-3ad8b7ac34bf] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:01:11.484 DEBUG [69ee20b2-ba23-4107-8315-0d261e3b0d3a] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:01:11.484 DEBUG [659b7eae-9a8b-4b3b-9cc1-f2c48f11ad61] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:01:11.499 DEBUG [659b7eae-9a8b-4b3b-9cc1-f2c48f11ad61] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EBB88654F029545326AF3577A1FB91A3
2025-05-27 11:01:11.502 DEBUG [659b7eae-9a8b-4b3b-9cc1-f2c48f11ad61] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:01:11.503 DEBUG [69ee20b2-ba23-4107-8315-0d261e3b0d3a] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:01:11.504  INFO [69ee20b2-ba23-4107-8315-0d261e3b0d3a] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:01:11.531  WARN [659b7eae-9a8b-4b3b-9cc1-f2c48f11ad61] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:01:11.532  WARN [659b7eae-9a8b-4b3b-9cc1-f2c48f11ad61] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:01:11.543 DEBUG [e365180d-a37a-44cc-a896-bcc78ead801e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:01:11.545  INFO [69ee20b2-ba23-4107-8315-0d261e3b0d3a] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:01:11.560 DEBUG [e365180d-a37a-44cc-a896-bcc78ead801e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:01:11.571  WARN [e365180d-a37a-44cc-a896-bcc78ead801e] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:01:11.572  WARN [e365180d-a37a-44cc-a896-bcc78ead801e] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:01:22.754 DEBUG [5529c040-4523-4608-a41c-810cb23c91c7] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:01:22.768 DEBUG [5529c040-4523-4608-a41c-810cb23c91c7] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:01:22.769  INFO [5529c040-4523-4608-a41c-810cb23c91c7] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:01:22.777  INFO [5529c040-4523-4608-a41c-810cb23c91c7] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:01:22.830 DEBUG [9011217d-742d-4d24-a1c7-d4ed19b12589] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:01:22.830 DEBUG [ad12b8aa-0903-4d67-bcd9-3d1006bbceef] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:01:22.830 DEBUG [64636355-e27c-4a69-91a4-b2914964a3a6] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:01:22.842 DEBUG [ad12b8aa-0903-4d67-bcd9-3d1006bbceef] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:01:22.844 DEBUG [ad12b8aa-0903-4d67-bcd9-3d1006bbceef] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:01:22.856  INFO [ad12b8aa-0903-4d67-bcd9-3d1006bbceef] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:01:22.858  INFO [ad12b8aa-0903-4d67-bcd9-3d1006bbceef] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:01:22.867 DEBUG [9011217d-742d-4d24-a1c7-d4ed19b12589] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F33199E57288BD8BEA4D61CE9E9B073E
2025-05-27 11:01:22.871 DEBUG [64636355-e27c-4a69-91a4-b2914964a3a6] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:01:22.871 DEBUG [9011217d-742d-4d24-a1c7-d4ed19b12589] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:01:22.872  INFO [64636355-e27c-4a69-91a4-b2914964a3a6] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:01:22.889  WARN [9011217d-742d-4d24-a1c7-d4ed19b12589] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:01:22.890  WARN [9011217d-742d-4d24-a1c7-d4ed19b12589] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:01:22.917  INFO [64636355-e27c-4a69-91a4-b2914964a3a6] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:01:22.943 DEBUG [51cdfdfe-f5f6-4eff-886b-a11abc124eb4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:01:22.964 DEBUG [51cdfdfe-f5f6-4eff-886b-a11abc124eb4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:01:22.972  WARN [51cdfdfe-f5f6-4eff-886b-a11abc124eb4] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:01:22.974  WARN [51cdfdfe-f5f6-4eff-886b-a11abc124eb4] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:01:22.995  INFO [ad12b8aa-0903-4d67-bcd9-3d1006bbceef] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:01:23.006 DEBUG [b389a359-7db2-482d-a91e-c0f246c838fc] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:01:23.007 DEBUG [b389a359-7db2-482d-a91e-c0f246c838fc] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:01:23.009 DEBUG [b389a359-7db2-482d-a91e-c0f246c838fc] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id F33199E57288BD8BEA4D61CE9E9B073E
2025-05-27 11:01:23.010 DEBUG [b389a359-7db2-482d-a91e-c0f246c838fc] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:01:23.014  INFO [b389a359-7db2-482d-a91e-c0f246c838fc] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:01:23.015  INFO [b389a359-7db2-482d-a91e-c0f246c838fc] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:01:23.087  INFO [b389a359-7db2-482d-a91e-c0f246c838fc] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:13:25.334 DEBUG [9d4f750f-2f8d-4a82-850f-6948cc4afff5] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:25.335 DEBUG [9d4f750f-2f8d-4a82-850f-6948cc4afff5] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:25.337 DEBUG [9d4f750f-2f8d-4a82-850f-6948cc4afff5] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:25.338  INFO [9d4f750f-2f8d-4a82-850f-6948cc4afff5] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=roundTrip, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:25.338  WARN [9d4f750f-2f8d-4a82-850f-6948cc4afff5] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Round trip search requested without arrival date
2025-05-27 11:13:30.860 DEBUG [219f05fe-b451-4144-b3f2-6f99f17dd321] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:13:30.876 DEBUG [219f05fe-b451-4144-b3f2-6f99f17dd321] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:13:30.876  INFO [219f05fe-b451-4144-b3f2-6f99f17dd321] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:13:30.881  INFO [219f05fe-b451-4144-b3f2-6f99f17dd321] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:13:30.965 DEBUG [dffebdf4-0961-4289-ab22-42ea4b7da04f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:13:30.976 DEBUG [aecc2526-d8c6-4d65-b809-cc209ab7c220] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:30.977 DEBUG [aecc2526-d8c6-4d65-b809-cc209ab7c220] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:30.977 DEBUG [038f427b-6e8b-4e98-a484-2f63f6158fd5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:13:30.979 DEBUG [aecc2526-d8c6-4d65-b809-cc209ab7c220] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:30.981  INFO [aecc2526-d8c6-4d65-b809-cc209ab7c220] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=roundTrip, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:30.981  WARN [aecc2526-d8c6-4d65-b809-cc209ab7c220] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Round trip search requested without arrival date
2025-05-27 11:13:30.987 DEBUG [dffebdf4-0961-4289-ab22-42ea4b7da04f] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A9D154310A1530B4E5E950BB15DD4966
2025-05-27 11:13:30.989 DEBUG [dffebdf4-0961-4289-ab22-42ea4b7da04f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:13:30.995 DEBUG [83638932-1732-46ac-a817-562997d84cd7] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:30.996 DEBUG [038f427b-6e8b-4e98-a484-2f63f6158fd5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:13:30.997 DEBUG [83638932-1732-46ac-a817-562997d84cd7] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:30.997  INFO [038f427b-6e8b-4e98-a484-2f63f6158fd5] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:13:30.997 DEBUG [83638932-1732-46ac-a817-562997d84cd7] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A9D154310A1530B4E5E950BB15DD4966
2025-05-27 11:13:30.999 DEBUG [83638932-1732-46ac-a817-562997d84cd7] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:31.002  INFO [83638932-1732-46ac-a817-562997d84cd7] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=roundTrip, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:31.002  WARN [dffebdf4-0961-4289-ab22-42ea4b7da04f] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:13:31.003  WARN [83638932-1732-46ac-a817-562997d84cd7] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Round trip search requested without arrival date
2025-05-27 11:13:31.004  WARN [dffebdf4-0961-4289-ab22-42ea4b7da04f] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:13:31.013 DEBUG [f26df765-163a-47db-b313-407c8d0ce057] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:13:31.019  INFO [038f427b-6e8b-4e98-a484-2f63f6158fd5] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:13:31.035 DEBUG [f26df765-163a-47db-b313-407c8d0ce057] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:13:31.043  WARN [f26df765-163a-47db-b313-407c8d0ce057] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:13:31.045  WARN [f26df765-163a-47db-b313-407c8d0ce057] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:13:32.104 DEBUG [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:13:32.105 DEBUG [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:32.106 DEBUG [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:13:32.106  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:13:32.107  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:13:32.107  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:13:32.107  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 11:13:32.108  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 11:13:32.159  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 11:13:32.159  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 11:13:32.159  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 11:13:32.160  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 11:13:32.160  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 11:13:32.160  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 11:13:32.160  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 11:13:32.160  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 11:13:32.161  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 11:13:32.161  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 11:13:32.161  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 11:13:32.161  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 11:13:32.161  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 11:13:32.161  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 11:13:32.162  INFO [f780fcdc-780d-4515-9445-79b5c7da87ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 11:13:34.872 DEBUG [8e239c59-091c-4475-bf17-0ee6bfdc2aaa] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:13:34.885 DEBUG [8e239c59-091c-4475-bf17-0ee6bfdc2aaa] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:13:34.885  INFO [8e239c59-091c-4475-bf17-0ee6bfdc2aaa] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:13:34.891  INFO [8e239c59-091c-4475-bf17-0ee6bfdc2aaa] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:13:34.933 DEBUG [c785b55f-4960-440f-982e-cf5e6252d927] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:13:34.933 DEBUG [724c2275-9584-4265-a389-73b924992333] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:13:34.933 DEBUG [873f947c-f852-464e-a059-37f508550162] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:34.934 DEBUG [873f947c-f852-464e-a059-37f508550162] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:34.936 DEBUG [873f947c-f852-464e-a059-37f508550162] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:34.937  INFO [873f947c-f852-464e-a059-37f508550162] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=roundTrip, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:34.937  WARN [873f947c-f852-464e-a059-37f508550162] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Round trip search requested without arrival date
2025-05-27 11:13:34.944 DEBUG [c610f1bb-3a0a-4afb-b52a-a20395e36aa5] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:34.944 DEBUG [724c2275-9584-4265-a389-73b924992333] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 91CB1E0FCC650E37D3BF56727D1535D9
2025-05-27 11:13:34.945 DEBUG [c610f1bb-3a0a-4afb-b52a-a20395e36aa5] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:34.945 DEBUG [c610f1bb-3a0a-4afb-b52a-a20395e36aa5] 3964 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 91CB1E0FCC650E37D3BF56727D1535D9
2025-05-27 11:13:34.945 DEBUG [c785b55f-4960-440f-982e-cf5e6252d927] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:13:34.946 DEBUG [724c2275-9584-4265-a389-73b924992333] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:13:34.947  INFO [c785b55f-4960-440f-982e-cf5e6252d927] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:13:34.947 DEBUG [c610f1bb-3a0a-4afb-b52a-a20395e36aa5] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:34.948  INFO [c610f1bb-3a0a-4afb-b52a-a20395e36aa5] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=roundTrip, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:34.948  WARN [c610f1bb-3a0a-4afb-b52a-a20395e36aa5] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Round trip search requested without arrival date
2025-05-27 11:13:34.952  WARN [724c2275-9584-4265-a389-73b924992333] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:13:34.953  WARN [724c2275-9584-4265-a389-73b924992333] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:13:34.958  INFO [c785b55f-4960-440f-982e-cf5e6252d927] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:13:34.959 DEBUG [a6e6fedb-30f2-49ff-8455-33609895f7ec] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:13:34.970 DEBUG [a6e6fedb-30f2-49ff-8455-33609895f7ec] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:13:34.979  WARN [a6e6fedb-30f2-49ff-8455-33609895f7ec] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:13:34.979  WARN [a6e6fedb-30f2-49ff-8455-33609895f7ec] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:13:38.938 DEBUG [4ba17b86-f522-4d51-8a52-cb7cf058c27b] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:13:38.939 DEBUG [4ba17b86-f522-4d51-8a52-cb7cf058c27b] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:38.940 DEBUG [4ba17b86-f522-4d51-8a52-cb7cf058c27b] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:13:38.941  INFO [4ba17b86-f522-4d51-8a52-cb7cf058c27b] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:13:38.941  INFO [4ba17b86-f522-4d51-8a52-cb7cf058c27b] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:13:38.941  INFO [4ba17b86-f522-4d51-8a52-cb7cf058c27b] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:13:38.941  INFO [4ba17b86-f522-4d51-8a52-cb7cf058c27b] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:13:40.034 DEBUG [10202828-298a-414d-a466-da646e13b18f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:40.035 DEBUG [10202828-298a-414d-a466-da646e13b18f] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:40.036 DEBUG [10202828-298a-414d-a466-da646e13b18f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:40.037  INFO [10202828-298a-414d-a466-da646e13b18f] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=roundTrip, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:40.037  WARN [10202828-298a-414d-a466-da646e13b18f] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Round trip search requested without arrival date
2025-05-27 11:13:40.046 DEBUG [1f3106ba-9ba1-4f7e-b62f-81cdf039cd00] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:40.047 DEBUG [1f3106ba-9ba1-4f7e-b62f-81cdf039cd00] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:40.047 DEBUG [1f3106ba-9ba1-4f7e-b62f-81cdf039cd00] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28
2025-05-27 11:13:40.048  INFO [1f3106ba-9ba1-4f7e-b62f-81cdf039cd00] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=roundTrip, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:40.049  WARN [1f3106ba-9ba1-4f7e-b62f-81cdf039cd00] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Round trip search requested without arrival date
2025-05-27 11:13:46.451 DEBUG [afae733a-ed78-47d1-aadf-7f62f0ffa71f] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:13:46.452 DEBUG [afae733a-ed78-47d1-aadf-7f62f0ffa71f] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:13:46.452 DEBUG [afae733a-ed78-47d1-aadf-7f62f0ffa71f] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:13:46.453  INFO [afae733a-ed78-47d1-aadf-7f62f0ffa71f] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:13:46.454  INFO [afae733a-ed78-47d1-aadf-7f62f0ffa71f] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:13:46.513  INFO [afae733a-ed78-47d1-aadf-7f62f0ffa71f] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:18:17.638 DEBUG [631a3fb7-be72-4689-acf4-952594ba2c5f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:18:17.638 DEBUG [631a3fb7-be72-4689-acf4-952594ba2c5f] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:18:17.639 DEBUG [631a3fb7-be72-4689-acf4-952594ba2c5f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:18:17.640  INFO [631a3fb7-be72-4689-acf4-952594ba2c5f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:18:17.640  INFO [631a3fb7-be72-4689-acf4-952594ba2c5f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:18:17.712  INFO [631a3fb7-be72-4689-acf4-952594ba2c5f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:18:48.467 DEBUG [56b03e60-5be7-4f6e-8db4-70067f9d0ac4] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 11:18:48.478 DEBUG [56b03e60-5be7-4f6e-8db4-70067f9d0ac4] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4BECB8F1E9FE15466A39730A99E4E3A4
2025-05-27 11:18:48.479 DEBUG [56b03e60-5be7-4f6e-8db4-70067f9d0ac4] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 11:18:48.547  INFO [56b03e60-5be7-4f6e-8db4-70067f9d0ac4] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 17 to persistent cart
2025-05-27 11:18:48.594  INFO [56b03e60-5be7-4f6e-8db4-70067f9d0ac4] 3964 --- [nio-8080-exec-8] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 17 to cart for user ****@****.***
2025-05-27 11:18:48.626  INFO [56b03e60-5be7-4f6e-8db4-70067f9d0ac4] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Flight ID 17 added/incremented in persistent cart for user ****@****.***.
2025-05-27 11:18:48.640 DEBUG [2a7a1605-c516-457b-b03f-ca6a6dc7b20e] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:18:48.650 DEBUG [2a7a1605-c516-457b-b03f-ca6a6dc7b20e] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3A2CA13BBF90E7A9249799AD697452E9
2025-05-27 11:18:48.652 DEBUG [2a7a1605-c516-457b-b03f-ca6a6dc7b20e] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:18:48.653  INFO [2a7a1605-c516-457b-b03f-ca6a6dc7b20e] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:18:48.711  INFO [2a7a1605-c516-457b-b03f-ca6a6dc7b20e] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:18:48.897 DEBUG [1e7ab7da-1594-4037-bf43-e4ec360cc782] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:18:48.915 DEBUG [1e7ab7da-1594-4037-bf43-e4ec360cc782] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F9AAE9679415BC33D82F039E93B50E43
2025-05-27 11:18:48.916 DEBUG [1e7ab7da-1594-4037-bf43-e4ec360cc782] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:18:48.916  INFO [1e7ab7da-1594-4037-bf43-e4ec360cc782] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:18:48.969  INFO [1e7ab7da-1594-4037-bf43-e4ec360cc782] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:18:48.976 DEBUG [fb5562d9-4ec7-4e9e-a27b-9b1d6f5ac228] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:18:48.988 DEBUG [fb5562d9-4ec7-4e9e-a27b-9b1d6f5ac228] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:18:48.988  INFO [fb5562d9-4ec7-4e9e-a27b-9b1d6f5ac228] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:18:49.041  INFO [fb5562d9-4ec7-4e9e-a27b-9b1d6f5ac228] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:18:52.902 DEBUG [1bc2c4db-296c-498f-9704-c70ca9a16a60] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:18:52.902 DEBUG [1bc2c4db-296c-498f-9704-c70ca9a16a60] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:18:52.904 DEBUG [1bc2c4db-296c-498f-9704-c70ca9a16a60] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:18:52.905  INFO [1bc2c4db-296c-498f-9704-c70ca9a16a60] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:18:52.905  INFO [1bc2c4db-296c-498f-9704-c70ca9a16a60] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:18:52.950  INFO [1bc2c4db-296c-498f-9704-c70ca9a16a60] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:18:52.957 DEBUG [c035c576-cf4b-4fbe-931c-324366f207cd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:18:52.957 DEBUG [c035c576-cf4b-4fbe-931c-324366f207cd] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:18:52.958 DEBUG [c035c576-cf4b-4fbe-931c-324366f207cd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:18:52.959  INFO [c035c576-cf4b-4fbe-931c-324366f207cd] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:18:52.960  INFO [c035c576-cf4b-4fbe-931c-324366f207cd] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:18:53.009  INFO [c035c576-cf4b-4fbe-931c-324366f207cd] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:18:54.465 DEBUG [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:18:54.466 DEBUG [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:18:54.467 DEBUG [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:18:54.467  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:18:54.467  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:18:54.467  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:18:54.468  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 11:18:54.468  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 11:18:54.514  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 11:18:54.515  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 11:18:54.515  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 11:18:54.515  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 11:18:54.515  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 11:18:54.515  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 11:18:54.515  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 11:18:54.515  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 11:18:54.516  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 11:18:54.516  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 11:18:54.516  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 11:18:54.516  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 11:18:54.516  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 11:18:54.516  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 11:18:54.517  INFO [20290761-ddd6-44e2-8725-bb28542c93cb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 11:18:57.840 DEBUG [bbbed7d7-5595-4f7c-a838-27f32b7cdd7c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:18:57.855 DEBUG [bbbed7d7-5595-4f7c-a838-27f32b7cdd7c] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F31302D811B769108969E0ABE33E54F9
2025-05-27 11:18:57.856 DEBUG [bbbed7d7-5595-4f7c-a838-27f32b7cdd7c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:18:57.856  INFO [bbbed7d7-5595-4f7c-a838-27f32b7cdd7c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:18:57.906  INFO [bbbed7d7-5595-4f7c-a838-27f32b7cdd7c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:18:57.915 DEBUG [68f3797b-9b32-4ed5-8ada-ee09f6ae4306] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:18:57.928 DEBUG [68f3797b-9b32-4ed5-8ada-ee09f6ae4306] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:18:57.929  INFO [68f3797b-9b32-4ed5-8ada-ee09f6ae4306] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:18:57.976  INFO [68f3797b-9b32-4ed5-8ada-ee09f6ae4306] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:18:59.836 DEBUG [7663bce1-a869-4bf5-ac2e-3bc19b17203c] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:18:59.849 DEBUG [7663bce1-a869-4bf5-ac2e-3bc19b17203c] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 17B16A1DCCF853095B6C0AAB0643E269
2025-05-27 11:18:59.850 DEBUG [7663bce1-a869-4bf5-ac2e-3bc19b17203c] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:18:59.857  INFO [7663bce1-a869-4bf5-ac2e-3bc19b17203c] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:18:59.857  INFO [7663bce1-a869-4bf5-ac2e-3bc19b17203c] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:18:59.899  INFO [7663bce1-a869-4bf5-ac2e-3bc19b17203c] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 11:18:59.906 DEBUG [0814ba4d-3417-4dd1-b228-c1f5cc064d04] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:18:59.918 DEBUG [0814ba4d-3417-4dd1-b228-c1f5cc064d04] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:18:59.924  INFO [0814ba4d-3417-4dd1-b228-c1f5cc064d04] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:18:59.924  INFO [0814ba4d-3417-4dd1-b228-c1f5cc064d04] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:18:59.965  INFO [0814ba4d-3417-4dd1-b228-c1f5cc064d04] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 11:19:01.048 DEBUG [a1532c3d-95ea-4ac4-a23f-00c1e6ee2cbb] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:19:01.049 DEBUG [a1532c3d-95ea-4ac4-a23f-00c1e6ee2cbb] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:01.050 DEBUG [a1532c3d-95ea-4ac4-a23f-00c1e6ee2cbb] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:19:01.050  INFO [a1532c3d-95ea-4ac4-a23f-00c1e6ee2cbb] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:19:01.050  INFO [a1532c3d-95ea-4ac4-a23f-00c1e6ee2cbb] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:19:01.051  INFO [a1532c3d-95ea-4ac4-a23f-00c1e6ee2cbb] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:19:01.051  INFO [a1532c3d-95ea-4ac4-a23f-00c1e6ee2cbb] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:19:01.907 DEBUG [1f338bc3-f1dd-4f76-935f-3f9e21747b76] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:19:01.918 DEBUG [1f338bc3-f1dd-4f76-935f-3f9e21747b76] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 36C447BEC61AB19F006D968B77610A8B
2025-05-27 11:19:01.919 DEBUG [1f338bc3-f1dd-4f76-935f-3f9e21747b76] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:19:01.924  INFO [1f338bc3-f1dd-4f76-935f-3f9e21747b76] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:19:01.924  INFO [1f338bc3-f1dd-4f76-935f-3f9e21747b76] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:19:01.962  INFO [1f338bc3-f1dd-4f76-935f-3f9e21747b76] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 11:19:01.969 DEBUG [13eee371-3627-49b9-86b7-4727bbfdd99a] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:19:01.980 DEBUG [13eee371-3627-49b9-86b7-4727bbfdd99a] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:19:01.987  INFO [13eee371-3627-49b9-86b7-4727bbfdd99a] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:19:01.987  INFO [13eee371-3627-49b9-86b7-4727bbfdd99a] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:19:02.026  INFO [13eee371-3627-49b9-86b7-4727bbfdd99a] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 11:19:02.532 DEBUG [150fb735-af9f-4cd2-b6b4-ee7fde496025] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:19:02.542 DEBUG [150fb735-af9f-4cd2-b6b4-ee7fde496025] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 51351CD7B6755CF85943B9B86C40A295
2025-05-27 11:19:02.544 DEBUG [150fb735-af9f-4cd2-b6b4-ee7fde496025] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:19:02.544  INFO [150fb735-af9f-4cd2-b6b4-ee7fde496025] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:19:02.583  INFO [150fb735-af9f-4cd2-b6b4-ee7fde496025] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:19:02.589 DEBUG [779964ca-fefc-4afc-9a21-f5610c28db62] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:19:02.600 DEBUG [779964ca-fefc-4afc-9a21-f5610c28db62] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:19:02.601  INFO [779964ca-fefc-4afc-9a21-f5610c28db62] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:19:02.641  INFO [779964ca-fefc-4afc-9a21-f5610c28db62] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:19:03.072 DEBUG [efbf2ad3-6b8b-4ab9-8d7c-2314a3c84a96] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:19:03.073 DEBUG [efbf2ad3-6b8b-4ab9-8d7c-2314a3c84a96] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:03.074 DEBUG [efbf2ad3-6b8b-4ab9-8d7c-2314a3c84a96] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:19:03.074  INFO [efbf2ad3-6b8b-4ab9-8d7c-2314a3c84a96] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:19:03.074  INFO [efbf2ad3-6b8b-4ab9-8d7c-2314a3c84a96] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:19:03.075  INFO [efbf2ad3-6b8b-4ab9-8d7c-2314a3c84a96] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:19:03.075  INFO [efbf2ad3-6b8b-4ab9-8d7c-2314a3c84a96] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:19:05.740 DEBUG [249c72af-aa6b-4c61-aa7a-e178a1cb114b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:19:05.753 DEBUG [249c72af-aa6b-4c61-aa7a-e178a1cb114b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:19:05.754  INFO [249c72af-aa6b-4c61-aa7a-e178a1cb114b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:19:05.758  INFO [249c72af-aa6b-4c61-aa7a-e178a1cb114b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:19:05.829 DEBUG [f0a080c6-e568-4f15-9e5d-4c54d4753d86] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:19:05.829 DEBUG [bf3b9860-adaf-4092-972d-fe8eba205a71] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:19:05.829 DEBUG [ee53348f-1504-4118-bd94-3a0eea08847f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:19:05.830 DEBUG [ee53348f-1504-4118-bd94-3a0eea08847f] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:05.832 DEBUG [ee53348f-1504-4118-bd94-3a0eea08847f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:19:05.833  INFO [ee53348f-1504-4118-bd94-3a0eea08847f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:19:05.836  INFO [ee53348f-1504-4118-bd94-3a0eea08847f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:19:05.846 DEBUG [f0a080c6-e568-4f15-9e5d-4c54d4753d86] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 15379E65DE7C520137C9BC2FD517C109
2025-05-27 11:19:05.847 DEBUG [f0a080c6-e568-4f15-9e5d-4c54d4753d86] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:19:05.848 DEBUG [bf3b9860-adaf-4092-972d-fe8eba205a71] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:19:05.848  INFO [f0a080c6-e568-4f15-9e5d-4c54d4753d86] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:19:05.854  WARN [bf3b9860-adaf-4092-972d-fe8eba205a71] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:19:05.855  WARN [bf3b9860-adaf-4092-972d-fe8eba205a71] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:19:05.862 DEBUG [695cc10b-7af8-4e06-a36f-fd910014114a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:19:05.874 DEBUG [695cc10b-7af8-4e06-a36f-fd910014114a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:19:05.883  WARN [695cc10b-7af8-4e06-a36f-fd910014114a] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:19:05.884  WARN [695cc10b-7af8-4e06-a36f-fd910014114a] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:19:05.904  INFO [ee53348f-1504-4118-bd94-3a0eea08847f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:19:05.907  INFO [f0a080c6-e568-4f15-9e5d-4c54d4753d86] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:19:05.913 DEBUG [30b1befa-fc56-4d18-a0c6-2ee038992dc1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:19:05.915 DEBUG [30b1befa-fc56-4d18-a0c6-2ee038992dc1] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:05.916 DEBUG [30b1befa-fc56-4d18-a0c6-2ee038992dc1] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 15379E65DE7C520137C9BC2FD517C109
2025-05-27 11:19:05.916 DEBUG [30b1befa-fc56-4d18-a0c6-2ee038992dc1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:19:05.917  INFO [30b1befa-fc56-4d18-a0c6-2ee038992dc1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:19:05.918  INFO [30b1befa-fc56-4d18-a0c6-2ee038992dc1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:19:05.972  INFO [30b1befa-fc56-4d18-a0c6-2ee038992dc1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:19:17.557 DEBUG [0bb9d882-1091-4e89-9d90-577ccfc90fea] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:19:17.558 DEBUG [0bb9d882-1091-4e89-9d90-577ccfc90fea] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:17.559 DEBUG [0bb9d882-1091-4e89-9d90-577ccfc90fea] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:19:17.559  INFO [0bb9d882-1091-4e89-9d90-577ccfc90fea] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:19:17.560  INFO [0bb9d882-1091-4e89-9d90-577ccfc90fea] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:19:17.560  INFO [0bb9d882-1091-4e89-9d90-577ccfc90fea] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:19:17.560  INFO [0bb9d882-1091-4e89-9d90-577ccfc90fea] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:19:20.691 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 11:19:20.692 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:20.693 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 11:19:20.696  INFO [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: One way to London next month
2025-05-27 11:19:20.697  INFO [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 11:19:20.697  INFO [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 11:19:20.701 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "One way to London next month";
2025-05-27 11:19:20.705  INFO [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 11:19:23.164 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "LHR",
  "departureDate": "2025-06-27",
  "returnDate": null,
  "tripType": "oneWay",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 11:19:23.165 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 11:19:23.170 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 11:19:23.170 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 11:19:23.170 DEBUG [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 11:19:23.171  INFO [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 11:19:23.171  INFO [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=LHR, departureDate=2025-06-27, returnDate=null, tripType=oneWay, adults=1, children=0, infants=0
2025-05-27 11:19:23.171  INFO [8761ab23-58e8-4f91-a621-b3d6889f6d16] 3964 --- [io-8080-exec-10] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: LHR
2025-05-27 11:19:24.276 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 11:19:24.277 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:24.277 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 11:19:24.278  INFO [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: One way to London next month
2025-05-27 11:19:24.278  INFO [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 11:19:24.278  INFO [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 11:19:24.279 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "One way to London next month";
2025-05-27 11:19:24.281  INFO [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 11:19:25.815 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "LHR",
  "departureDate": "2025-06-27",
  "returnDate": null,
  "tripType": "oneWay",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 11:19:25.816 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 11:19:25.816 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 11:19:25.816 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 11:19:25.816 DEBUG [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 11:19:25.817  INFO [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 11:19:25.817  INFO [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=LHR, departureDate=2025-06-27, returnDate=null, tripType=oneWay, adults=1, children=0, infants=0
2025-05-27 11:19:25.817  INFO [833b170d-ae06-4c8a-8b5d-37e0fbd76751] 3964 --- [nio-8080-exec-9] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: LHR
2025-05-27 11:19:27.478 DEBUG [df210cd2-27bb-429e-8b48-735f9155613b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:19:27.488 DEBUG [df210cd2-27bb-429e-8b48-735f9155613b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:19:27.489  INFO [df210cd2-27bb-429e-8b48-735f9155613b] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:19:27.495  INFO [df210cd2-27bb-429e-8b48-735f9155613b] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:19:27.544 DEBUG [d3da184e-dfde-4a79-9f11-c8d51a6e03ed] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:19:27.550 DEBUG [f4e5d5b6-9687-4333-95ca-d42616a94872] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:19:27.550 DEBUG [686d03ce-1a3b-49b5-9f2f-09fda4ca8f0a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 11:19:27.551 DEBUG [686d03ce-1a3b-49b5-9f2f-09fda4ca8f0a] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:27.552 DEBUG [686d03ce-1a3b-49b5-9f2f-09fda4ca8f0a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 11:19:27.555  INFO [686d03ce-1a3b-49b5-9f2f-09fda4ca8f0a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=LHR, Depart=2025-06-27, Return=null, Pax=1/0/0
2025-05-27 11:19:27.555  INFO [686d03ce-1a3b-49b5-9f2f-09fda4ca8f0a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to LHR on 2025-06-27
2025-05-27 11:19:27.567 DEBUG [d3da184e-dfde-4a79-9f11-c8d51a6e03ed] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DE86F1DDC658675D2ECBBACF48DE48DA
2025-05-27 11:19:27.569 DEBUG [d3da184e-dfde-4a79-9f11-c8d51a6e03ed] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:19:27.570 DEBUG [f4e5d5b6-9687-4333-95ca-d42616a94872] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:19:27.570  WARN [686d03ce-1a3b-49b5-9f2f-09fda4ca8f0a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No flights found for search: OTP to LHR on 2025-06-27
2025-05-27 11:19:27.571  INFO [686d03ce-1a3b-49b5-9f2f-09fda4ca8f0a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 11:19:27.572  INFO [f4e5d5b6-9687-4333-95ca-d42616a94872] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:19:27.578  WARN [d3da184e-dfde-4a79-9f11-c8d51a6e03ed] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:19:27.579  WARN [d3da184e-dfde-4a79-9f11-c8d51a6e03ed] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:19:27.584 DEBUG [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 11:19:27.585 DEBUG [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:19:27.586 DEBUG [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id DE86F1DDC658675D2ECBBACF48DE48DA
2025-05-27 11:19:27.586 DEBUG [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 11:19:27.590 DEBUG [9360b4a9-1ce9-46ab-a16b-6cce4b0378ca] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:19:27.590  INFO [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=LHR, Depart=2025-06-27, Return=null, Pax=1/0/0
2025-05-27 11:19:27.590  INFO [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to LHR on 2025-06-27
2025-05-27 11:19:27.597  WARN [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No flights found for search: OTP to LHR on 2025-06-27
2025-05-27 11:19:27.597  INFO [916b6739-ab34-4587-b67d-2aaf2513818e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 11:19:27.603 DEBUG [9360b4a9-1ce9-46ab-a16b-6cce4b0378ca] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:19:27.611  WARN [9360b4a9-1ce9-46ab-a16b-6cce4b0378ca] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:19:27.613  WARN [9360b4a9-1ce9-46ab-a16b-6cce4b0378ca] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:19:27.639  INFO [f4e5d5b6-9687-4333-95ca-d42616a94872] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:21:16.225 DEBUG [ab5cb0ca-c746-44a4-a6da-abbda729e495] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:21:16.226 DEBUG [ab5cb0ca-c746-44a4-a6da-abbda729e495] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:16.227 DEBUG [ab5cb0ca-c746-44a4-a6da-abbda729e495] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:21:16.228  INFO [ab5cb0ca-c746-44a4-a6da-abbda729e495] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:21:16.228  INFO [ab5cb0ca-c746-44a4-a6da-abbda729e495] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:21:16.228  INFO [ab5cb0ca-c746-44a4-a6da-abbda729e495] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:21:16.228  INFO [ab5cb0ca-c746-44a4-a6da-abbda729e495] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:21:23.097 DEBUG [d5f4e6be-6bd8-4f86-a4ae-a92b6ffd94e9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:21:23.114 DEBUG [d5f4e6be-6bd8-4f86-a4ae-a92b6ffd94e9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:21:23.114  INFO [d5f4e6be-6bd8-4f86-a4ae-a92b6ffd94e9] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:21:23.122  INFO [d5f4e6be-6bd8-4f86-a4ae-a92b6ffd94e9] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:21:23.202 DEBUG [a5d8a5b9-023b-4034-8a7a-5db46b2185cc] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:23.203 DEBUG [a5d8a5b9-023b-4034-8a7a-5db46b2185cc] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:23.203 DEBUG [78cbf299-1009-482e-86c8-2de6e80af260] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:23.203 DEBUG [e2cd6ff6-c0c1-49f2-8ba0-11c3c4685f63] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:21:23.204 DEBUG [a5d8a5b9-023b-4034-8a7a-5db46b2185cc] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:23.205  INFO [a5d8a5b9-023b-4034-8a7a-5db46b2185cc] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:23.206  INFO [a5d8a5b9-023b-4034-8a7a-5db46b2185cc] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:23.223 DEBUG [e2cd6ff6-c0c1-49f2-8ba0-11c3c4685f63] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F28B7F7BA9BA6598A7F9C6915C0E8CA6
2025-05-27 11:21:23.223 DEBUG [78cbf299-1009-482e-86c8-2de6e80af260] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 16995C8D71123842CE779D3932781E1E
2025-05-27 11:21:23.225 DEBUG [e2cd6ff6-c0c1-49f2-8ba0-11c3c4685f63] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:21:23.228  INFO [e2cd6ff6-c0c1-49f2-8ba0-11c3c4685f63] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:21:23.228 DEBUG [78cbf299-1009-482e-86c8-2de6e80af260] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:23.239  WARN [78cbf299-1009-482e-86c8-2de6e80af260] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:23.243  WARN [78cbf299-1009-482e-86c8-2de6e80af260] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:23.253 DEBUG [8628cd9d-c2de-4cbd-87f2-77a6a7f89eac] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:23.268 DEBUG [8628cd9d-c2de-4cbd-87f2-77a6a7f89eac] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:23.277  WARN [8628cd9d-c2de-4cbd-87f2-77a6a7f89eac] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:23.278  WARN [8628cd9d-c2de-4cbd-87f2-77a6a7f89eac] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:23.289  INFO [a5d8a5b9-023b-4034-8a7a-5db46b2185cc] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:21:23.298 DEBUG [55e18525-ed1e-422b-b0fb-32d16032f39d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:23.299 DEBUG [55e18525-ed1e-422b-b0fb-32d16032f39d] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:23.300 DEBUG [55e18525-ed1e-422b-b0fb-32d16032f39d] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 16995C8D71123842CE779D3932781E1E
2025-05-27 11:21:23.300 DEBUG [55e18525-ed1e-422b-b0fb-32d16032f39d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:23.302  INFO [55e18525-ed1e-422b-b0fb-32d16032f39d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:23.304  INFO [55e18525-ed1e-422b-b0fb-32d16032f39d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:23.306  INFO [e2cd6ff6-c0c1-49f2-8ba0-11c3c4685f63] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:21:23.364  INFO [55e18525-ed1e-422b-b0fb-32d16032f39d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:21:40.486 DEBUG [7c089d1a-b4a0-4d64-88fe-ddfc8c07ff29] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:21:40.500 DEBUG [7c089d1a-b4a0-4d64-88fe-ddfc8c07ff29] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:21:40.501  INFO [7c089d1a-b4a0-4d64-88fe-ddfc8c07ff29] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:21:40.509  INFO [7c089d1a-b4a0-4d64-88fe-ddfc8c07ff29] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:21:40.568 DEBUG [4b3cf93d-01d1-450f-a35e-0a549ff6ef7d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:40.569 DEBUG [577f8fbd-1971-48a8-a423-076a5377a9ea] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:40.569 DEBUG [cb14da2d-3983-41f4-88c4-83b3860754ef] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:21:40.570 DEBUG [577f8fbd-1971-48a8-a423-076a5377a9ea] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:40.572 DEBUG [577f8fbd-1971-48a8-a423-076a5377a9ea] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:40.573  INFO [577f8fbd-1971-48a8-a423-076a5377a9ea] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:40.573  INFO [577f8fbd-1971-48a8-a423-076a5377a9ea] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:40.598 DEBUG [cb14da2d-3983-41f4-88c4-83b3860754ef] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 374343E0FDBB9E37F38CD04189262889
2025-05-27 11:21:40.600 DEBUG [cb14da2d-3983-41f4-88c4-83b3860754ef] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:21:40.601  INFO [cb14da2d-3983-41f4-88c4-83b3860754ef] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:21:40.601 DEBUG [4b3cf93d-01d1-450f-a35e-0a549ff6ef7d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:40.611  WARN [4b3cf93d-01d1-450f-a35e-0a549ff6ef7d] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:40.614  WARN [4b3cf93d-01d1-450f-a35e-0a549ff6ef7d] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:40.627 DEBUG [8a31dd60-c098-468a-867a-75dc29f2dd41] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:40.640 DEBUG [8a31dd60-c098-468a-867a-75dc29f2dd41] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:40.648  WARN [8a31dd60-c098-468a-867a-75dc29f2dd41] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:40.649  WARN [8a31dd60-c098-468a-867a-75dc29f2dd41] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:40.661  INFO [577f8fbd-1971-48a8-a423-076a5377a9ea] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:21:40.666  INFO [cb14da2d-3983-41f4-88c4-83b3860754ef] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:21:40.672 DEBUG [d9233d5a-1e8a-43ce-8463-f5e8cf4bfdbe] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:40.673 DEBUG [d9233d5a-1e8a-43ce-8463-f5e8cf4bfdbe] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:40.674 DEBUG [d9233d5a-1e8a-43ce-8463-f5e8cf4bfdbe] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 374343E0FDBB9E37F38CD04189262889
2025-05-27 11:21:40.676 DEBUG [d9233d5a-1e8a-43ce-8463-f5e8cf4bfdbe] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:40.678  INFO [d9233d5a-1e8a-43ce-8463-f5e8cf4bfdbe] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:40.678  INFO [d9233d5a-1e8a-43ce-8463-f5e8cf4bfdbe] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:40.741  INFO [d9233d5a-1e8a-43ce-8463-f5e8cf4bfdbe] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:21:46.661 DEBUG [a6540ab8-7565-47b9-b5b5-a418ea08ae7d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:21:46.675 DEBUG [a6540ab8-7565-47b9-b5b5-a418ea08ae7d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:21:46.675  INFO [a6540ab8-7565-47b9-b5b5-a418ea08ae7d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:21:46.681  INFO [a6540ab8-7565-47b9-b5b5-a418ea08ae7d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:21:46.739 DEBUG [aba600fe-5159-4e65-b020-b09d075d5cb9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:46.739 DEBUG [fb720299-03bf-4e30-97a3-cbfc8de36c28] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:46.739 DEBUG [bca5d049-1001-4752-bd4a-e7c867de556a] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:21:46.740 DEBUG [fb720299-03bf-4e30-97a3-cbfc8de36c28] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:46.742 DEBUG [fb720299-03bf-4e30-97a3-cbfc8de36c28] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:46.750  INFO [fb720299-03bf-4e30-97a3-cbfc8de36c28] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:46.753  INFO [fb720299-03bf-4e30-97a3-cbfc8de36c28] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:46.756 DEBUG [bca5d049-1001-4752-bd4a-e7c867de556a] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1EC935D0416A3F1F2E19D652C04022D8
2025-05-27 11:21:46.759 DEBUG [bca5d049-1001-4752-bd4a-e7c867de556a] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:21:46.757 DEBUG [aba600fe-5159-4e65-b020-b09d075d5cb9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:46.760  INFO [bca5d049-1001-4752-bd4a-e7c867de556a] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:21:46.772  WARN [aba600fe-5159-4e65-b020-b09d075d5cb9] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:46.773  WARN [aba600fe-5159-4e65-b020-b09d075d5cb9] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:46.786 DEBUG [fbfb4d09-8301-4bd5-871d-54ce6c04fe39] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:46.809 DEBUG [fbfb4d09-8301-4bd5-871d-54ce6c04fe39] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:46.819  WARN [fbfb4d09-8301-4bd5-871d-54ce6c04fe39] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:46.820  WARN [fbfb4d09-8301-4bd5-871d-54ce6c04fe39] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:46.865  INFO [fb720299-03bf-4e30-97a3-cbfc8de36c28] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:21:46.870  INFO [bca5d049-1001-4752-bd4a-e7c867de556a] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:21:46.878 DEBUG [b66f4feb-daf3-47fa-a7b6-5f18713c70ab] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:46.878 DEBUG [b66f4feb-daf3-47fa-a7b6-5f18713c70ab] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:46.878 DEBUG [b66f4feb-daf3-47fa-a7b6-5f18713c70ab] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 1EC935D0416A3F1F2E19D652C04022D8
2025-05-27 11:21:46.880 DEBUG [b66f4feb-daf3-47fa-a7b6-5f18713c70ab] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:46.882  INFO [b66f4feb-daf3-47fa-a7b6-5f18713c70ab] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:46.883  INFO [b66f4feb-daf3-47fa-a7b6-5f18713c70ab] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:46.964  INFO [b66f4feb-daf3-47fa-a7b6-5f18713c70ab] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:21:53.870 DEBUG [5663ff9b-cfc1-45d5-a126-e5269ec60681] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:21:53.881 DEBUG [5663ff9b-cfc1-45d5-a126-e5269ec60681] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:21:53.882  INFO [5663ff9b-cfc1-45d5-a126-e5269ec60681] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:21:53.886  INFO [5663ff9b-cfc1-45d5-a126-e5269ec60681] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:21:53.933 DEBUG [585dc248-f999-49f7-9dbd-6a35a639b503] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:53.935 DEBUG [504dedd5-4099-451c-a5c3-e3364ddf189b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:53.935 DEBUG [504dedd5-4099-451c-a5c3-e3364ddf189b] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:53.936 DEBUG [9a14fccd-5b04-4ce6-bec9-a67e22158244] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:21:53.937 DEBUG [504dedd5-4099-451c-a5c3-e3364ddf189b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:53.940  INFO [504dedd5-4099-451c-a5c3-e3364ddf189b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:53.940  INFO [504dedd5-4099-451c-a5c3-e3364ddf189b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:53.948 DEBUG [585dc248-f999-49f7-9dbd-6a35a639b503] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B4C1B4551D2FA9ED8AFFC82E53394871
2025-05-27 11:21:53.950 DEBUG [9a14fccd-5b04-4ce6-bec9-a67e22158244] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:21:53.951  INFO [9a14fccd-5b04-4ce6-bec9-a67e22158244] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:21:53.952 DEBUG [585dc248-f999-49f7-9dbd-6a35a639b503] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:53.962  WARN [585dc248-f999-49f7-9dbd-6a35a639b503] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:53.963  WARN [585dc248-f999-49f7-9dbd-6a35a639b503] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:53.973 DEBUG [e379d180-a0e0-4ec4-9e21-2f604f81024f] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:21:53.992 DEBUG [e379d180-a0e0-4ec4-9e21-2f604f81024f] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:21:53.998  WARN [e379d180-a0e0-4ec4-9e21-2f604f81024f] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:21:53.999  WARN [e379d180-a0e0-4ec4-9e21-2f604f81024f] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:21:54.018  INFO [504dedd5-4099-451c-a5c3-e3364ddf189b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:21:54.027 DEBUG [1f12a11d-3168-4a6c-b016-b211cda310cc] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:54.028 DEBUG [1f12a11d-3168-4a6c-b016-b211cda310cc] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:21:54.028  INFO [9a14fccd-5b04-4ce6-bec9-a67e22158244] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:21:54.028 DEBUG [1f12a11d-3168-4a6c-b016-b211cda310cc] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B4C1B4551D2FA9ED8AFFC82E53394871
2025-05-27 11:21:54.029 DEBUG [1f12a11d-3168-4a6c-b016-b211cda310cc] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:21:54.030  INFO [1f12a11d-3168-4a6c-b016-b211cda310cc] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:21:54.030  INFO [1f12a11d-3168-4a6c-b016-b211cda310cc] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:21:54.087  INFO [1f12a11d-3168-4a6c-b016-b211cda310cc] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:24:49.201 DEBUG [e37f3929-9484-45ed-9f97-714567cce705] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:24:49.212 DEBUG [e37f3929-9484-45ed-9f97-714567cce705] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:24:49.213  INFO [e37f3929-9484-45ed-9f97-714567cce705] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:24:49.218  INFO [e37f3929-9484-45ed-9f97-714567cce705] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:24:49.300 DEBUG [d86a8247-75ce-4bba-9847-d27bee9f04e7] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:24:49.301 DEBUG [c494c740-7c72-4fc9-a4ff-fd304e9763df] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:24:49.301 DEBUG [378e6cb7-90cc-4ed0-970e-3f953dacc074] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:24:49.313 DEBUG [c494c740-7c72-4fc9-a4ff-fd304e9763df] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:24:49.314 DEBUG [c494c740-7c72-4fc9-a4ff-fd304e9763df] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:24:49.325  INFO [c494c740-7c72-4fc9-a4ff-fd304e9763df] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:24:49.325  INFO [c494c740-7c72-4fc9-a4ff-fd304e9763df] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:24:49.335 DEBUG [d86a8247-75ce-4bba-9847-d27bee9f04e7] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0080060C3C3D7ECFC3009B97E457B9F0
2025-05-27 11:24:49.337 DEBUG [d86a8247-75ce-4bba-9847-d27bee9f04e7] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:24:49.338 DEBUG [378e6cb7-90cc-4ed0-970e-3f953dacc074] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:24:49.338  INFO [378e6cb7-90cc-4ed0-970e-3f953dacc074] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:24:49.368  WARN [d86a8247-75ce-4bba-9847-d27bee9f04e7] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:24:49.369  WARN [d86a8247-75ce-4bba-9847-d27bee9f04e7] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:24:49.382 DEBUG [bd99ca31-43f3-4452-98a2-4a2353e1ead7] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:24:49.399 DEBUG [bd99ca31-43f3-4452-98a2-4a2353e1ead7] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:24:49.413  WARN [bd99ca31-43f3-4452-98a2-4a2353e1ead7] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:24:49.415  WARN [bd99ca31-43f3-4452-98a2-4a2353e1ead7] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:24:49.427  INFO [c494c740-7c72-4fc9-a4ff-fd304e9763df] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:24:49.437  INFO [378e6cb7-90cc-4ed0-970e-3f953dacc074] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:24:49.440 DEBUG [3c94bed1-29b0-47c8-9559-20def56f2aaf] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:24:49.441 DEBUG [3c94bed1-29b0-47c8-9559-20def56f2aaf] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:24:49.441 DEBUG [3c94bed1-29b0-47c8-9559-20def56f2aaf] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0080060C3C3D7ECFC3009B97E457B9F0
2025-05-27 11:24:49.443 DEBUG [3c94bed1-29b0-47c8-9559-20def56f2aaf] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:24:49.444  INFO [3c94bed1-29b0-47c8-9559-20def56f2aaf] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:24:49.445  INFO [3c94bed1-29b0-47c8-9559-20def56f2aaf] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:24:49.513  INFO [3c94bed1-29b0-47c8-9559-20def56f2aaf] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:25:28.341 DEBUG [06921d16-e7eb-4c37-b5ba-24898416a613] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:25:28.353 DEBUG [06921d16-e7eb-4c37-b5ba-24898416a613] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:25:28.354  INFO [06921d16-e7eb-4c37-b5ba-24898416a613] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:25:28.359  INFO [06921d16-e7eb-4c37-b5ba-24898416a613] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:25:28.431 DEBUG [ce909938-bbc1-4b6f-99f3-e57c923e2c9f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:25:28.431 DEBUG [b54d9a1e-33c6-4fd3-83a0-44000a0a5d35] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:25:28.432 DEBUG [b54d9a1e-33c6-4fd3-83a0-44000a0a5d35] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:25:28.433 DEBUG [b54d9a1e-33c6-4fd3-83a0-44000a0a5d35] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:25:28.447 DEBUG [4f17d707-77a9-4902-9cfe-ffe1fa5c49ae] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:25:28.453  INFO [b54d9a1e-33c6-4fd3-83a0-44000a0a5d35] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:25:28.453  INFO [b54d9a1e-33c6-4fd3-83a0-44000a0a5d35] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:25:28.469 DEBUG [ce909938-bbc1-4b6f-99f3-e57c923e2c9f] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A3399B02AE0453F686C4F1E190BE8E37
2025-05-27 11:25:28.472 DEBUG [ce909938-bbc1-4b6f-99f3-e57c923e2c9f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:25:28.494 DEBUG [4f17d707-77a9-4902-9cfe-ffe1fa5c49ae] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:25:28.498  INFO [4f17d707-77a9-4902-9cfe-ffe1fa5c49ae] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:25:28.503  WARN [ce909938-bbc1-4b6f-99f3-e57c923e2c9f] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:25:28.504  WARN [ce909938-bbc1-4b6f-99f3-e57c923e2c9f] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:25:28.514 DEBUG [0a06a888-1779-4643-af56-8ca121662333] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:25:28.539 DEBUG [0a06a888-1779-4643-af56-8ca121662333] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:25:28.548  WARN [0a06a888-1779-4643-af56-8ca121662333] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:25:28.549  WARN [0a06a888-1779-4643-af56-8ca121662333] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:25:28.584  INFO [b54d9a1e-33c6-4fd3-83a0-44000a0a5d35] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:25:28.592 DEBUG [308c1102-65bb-4e8c-ba05-ea53a821ae70] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:25:28.593 DEBUG [308c1102-65bb-4e8c-ba05-ea53a821ae70] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:25:28.593 DEBUG [308c1102-65bb-4e8c-ba05-ea53a821ae70] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A3399B02AE0453F686C4F1E190BE8E37
2025-05-27 11:25:28.594 DEBUG [308c1102-65bb-4e8c-ba05-ea53a821ae70] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:25:28.596  INFO [308c1102-65bb-4e8c-ba05-ea53a821ae70] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:25:28.597  INFO [308c1102-65bb-4e8c-ba05-ea53a821ae70] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:25:28.602  INFO [4f17d707-77a9-4902-9cfe-ffe1fa5c49ae] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:25:28.678  INFO [308c1102-65bb-4e8c-ba05-ea53a821ae70] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:26:58.453 DEBUG [bcddcf1e-0f8b-41bd-b53d-7623a7f932c0] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:26:58.471 DEBUG [bcddcf1e-0f8b-41bd-b53d-7623a7f932c0] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:26:58.472  INFO [bcddcf1e-0f8b-41bd-b53d-7623a7f932c0] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:26:58.480  INFO [bcddcf1e-0f8b-41bd-b53d-7623a7f932c0] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:26:58.558 DEBUG [ef154d07-1099-4a1d-853c-b136948c2da5] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:26:58.560 DEBUG [e2ed4266-9f40-4a1c-9472-abfefe030571] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:26:58.560 DEBUG [8386f136-56be-44eb-93b2-d2354eadf377] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:26:58.563 DEBUG [8386f136-56be-44eb-93b2-d2354eadf377] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:26:58.566 DEBUG [8386f136-56be-44eb-93b2-d2354eadf377] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:26:58.575  INFO [8386f136-56be-44eb-93b2-d2354eadf377] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:26:58.577  INFO [8386f136-56be-44eb-93b2-d2354eadf377] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:26:58.602 DEBUG [e2ed4266-9f40-4a1c-9472-abfefe030571] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CCECB7DA6ACB464482E7F77BD726C39D
2025-05-27 11:26:58.603 DEBUG [e2ed4266-9f40-4a1c-9472-abfefe030571] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:26:58.604 DEBUG [ef154d07-1099-4a1d-853c-b136948c2da5] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:26:58.605  INFO [e2ed4266-9f40-4a1c-9472-abfefe030571] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:26:58.615  WARN [ef154d07-1099-4a1d-853c-b136948c2da5] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:26:58.617  WARN [ef154d07-1099-4a1d-853c-b136948c2da5] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:26:58.634 DEBUG [10fcfdd6-3d2f-425b-9c8e-3aa338fa332e] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:26:58.664 DEBUG [10fcfdd6-3d2f-425b-9c8e-3aa338fa332e] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:26:58.678  WARN [10fcfdd6-3d2f-425b-9c8e-3aa338fa332e] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:26:58.681  WARN [10fcfdd6-3d2f-425b-9c8e-3aa338fa332e] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:26:58.717  INFO [8386f136-56be-44eb-93b2-d2354eadf377] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:26:58.725  INFO [e2ed4266-9f40-4a1c-9472-abfefe030571] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:26:58.738 DEBUG [5a10b633-8c58-41b9-98c7-f16d7f5dcfe6] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:26:58.740 DEBUG [5a10b633-8c58-41b9-98c7-f16d7f5dcfe6] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:26:58.741 DEBUG [5a10b633-8c58-41b9-98c7-f16d7f5dcfe6] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id CCECB7DA6ACB464482E7F77BD726C39D
2025-05-27 11:26:58.741 DEBUG [5a10b633-8c58-41b9-98c7-f16d7f5dcfe6] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:26:58.743  INFO [5a10b633-8c58-41b9-98c7-f16d7f5dcfe6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:26:58.744  INFO [5a10b633-8c58-41b9-98c7-f16d7f5dcfe6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:26:58.830  INFO [5a10b633-8c58-41b9-98c7-f16d7f5dcfe6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:27:09.231 DEBUG [5cb4cef1-4511-4352-8641-27aafbf45077] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:27:09.243 DEBUG [5cb4cef1-4511-4352-8641-27aafbf45077] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:27:09.244  INFO [5cb4cef1-4511-4352-8641-27aafbf45077] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:27:09.251  INFO [5cb4cef1-4511-4352-8641-27aafbf45077] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:27:09.311 DEBUG [957ad51d-4852-49f4-be13-2296de8860a2] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:27:09.312 DEBUG [978fa88e-696f-4546-8b38-8bd06f6be55d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:09.312 DEBUG [be6c06f6-89a0-4dd7-8762-17062b684486] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:27:09.321 DEBUG [978fa88e-696f-4546-8b38-8bd06f6be55d] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:27:09.326 DEBUG [978fa88e-696f-4546-8b38-8bd06f6be55d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:09.382  INFO [978fa88e-696f-4546-8b38-8bd06f6be55d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:27:09.385  INFO [978fa88e-696f-4546-8b38-8bd06f6be55d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:27:09.391 DEBUG [957ad51d-4852-49f4-be13-2296de8860a2] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 26D42B7AAF7DC204B38A07751F5E4547
2025-05-27 11:27:09.397 DEBUG [957ad51d-4852-49f4-be13-2296de8860a2] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:27:09.409 DEBUG [be6c06f6-89a0-4dd7-8762-17062b684486] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:27:09.410  INFO [be6c06f6-89a0-4dd7-8762-17062b684486] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:27:09.418  WARN [957ad51d-4852-49f4-be13-2296de8860a2] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:27:09.422  WARN [957ad51d-4852-49f4-be13-2296de8860a2] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:27:09.434 DEBUG [6870c32d-cad7-4e36-8c20-6cfea2a136fa] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:27:09.452 DEBUG [6870c32d-cad7-4e36-8c20-6cfea2a136fa] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:27:09.460  WARN [6870c32d-cad7-4e36-8c20-6cfea2a136fa] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:27:09.461  WARN [6870c32d-cad7-4e36-8c20-6cfea2a136fa] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:27:09.479  INFO [978fa88e-696f-4546-8b38-8bd06f6be55d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:27:09.492  INFO [be6c06f6-89a0-4dd7-8762-17062b684486] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:27:09.499 DEBUG [067dc019-bb6d-4ea0-a33e-1102387deacf] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:09.501 DEBUG [067dc019-bb6d-4ea0-a33e-1102387deacf] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:27:09.501 DEBUG [067dc019-bb6d-4ea0-a33e-1102387deacf] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 26D42B7AAF7DC204B38A07751F5E4547
2025-05-27 11:27:09.502 DEBUG [067dc019-bb6d-4ea0-a33e-1102387deacf] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:09.503  INFO [067dc019-bb6d-4ea0-a33e-1102387deacf] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:27:09.504  INFO [067dc019-bb6d-4ea0-a33e-1102387deacf] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:27:09.557  INFO [067dc019-bb6d-4ea0-a33e-1102387deacf] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:27:29.966 DEBUG [b438c798-657f-4b72-8a94-28db82c5a83f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:27:29.978 DEBUG [b438c798-657f-4b72-8a94-28db82c5a83f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:27:29.979  INFO [b438c798-657f-4b72-8a94-28db82c5a83f] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:27:29.986  INFO [b438c798-657f-4b72-8a94-28db82c5a83f] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:27:30.080 DEBUG [68cc86f6-975b-48f8-9bb0-3286d16f5d88] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:27:30.083 DEBUG [15c703d8-b51e-4252-a291-52503d1c617b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:30.084 DEBUG [15c703d8-b51e-4252-a291-52503d1c617b] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:27:30.085 DEBUG [0bd54cb2-0422-4307-accd-1407236270c9] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:27:30.085 DEBUG [15c703d8-b51e-4252-a291-52503d1c617b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:30.087  INFO [15c703d8-b51e-4252-a291-52503d1c617b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:27:30.089  INFO [15c703d8-b51e-4252-a291-52503d1c617b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:27:30.113 DEBUG [68cc86f6-975b-48f8-9bb0-3286d16f5d88] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BDFA84EB8F8619A3475637FA8C153CBF
2025-05-27 11:27:30.115 DEBUG [0bd54cb2-0422-4307-accd-1407236270c9] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:27:30.116 DEBUG [68cc86f6-975b-48f8-9bb0-3286d16f5d88] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:27:30.116  INFO [0bd54cb2-0422-4307-accd-1407236270c9] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:27:30.124  WARN [68cc86f6-975b-48f8-9bb0-3286d16f5d88] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:27:30.125  WARN [68cc86f6-975b-48f8-9bb0-3286d16f5d88] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:27:30.136 DEBUG [0bba6c56-025b-442b-9bfa-c164f9ba99ea] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:27:30.152 DEBUG [0bba6c56-025b-442b-9bfa-c164f9ba99ea] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:27:30.160  WARN [0bba6c56-025b-442b-9bfa-c164f9ba99ea] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:27:30.162  WARN [0bba6c56-025b-442b-9bfa-c164f9ba99ea] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:27:30.181  INFO [15c703d8-b51e-4252-a291-52503d1c617b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:27:30.191  INFO [0bd54cb2-0422-4307-accd-1407236270c9] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:27:30.198 DEBUG [7e838d6f-3a9b-4dc6-b500-1487b407cd37] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:30.198 DEBUG [7e838d6f-3a9b-4dc6-b500-1487b407cd37] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:27:30.199 DEBUG [7e838d6f-3a9b-4dc6-b500-1487b407cd37] 3964 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id BDFA84EB8F8619A3475637FA8C153CBF
2025-05-27 11:27:30.200 DEBUG [7e838d6f-3a9b-4dc6-b500-1487b407cd37] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:30.201  INFO [7e838d6f-3a9b-4dc6-b500-1487b407cd37] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:27:30.202  INFO [7e838d6f-3a9b-4dc6-b500-1487b407cd37] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:27:30.263  INFO [7e838d6f-3a9b-4dc6-b500-1487b407cd37] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:27:34.466 DEBUG [dbbb1511-47c8-4747-af2a-6ab1611f2330] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:27:34.475 DEBUG [dbbb1511-47c8-4747-af2a-6ab1611f2330] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:27:34.476  INFO [dbbb1511-47c8-4747-af2a-6ab1611f2330] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:27:34.481  INFO [dbbb1511-47c8-4747-af2a-6ab1611f2330] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:27:34.534 DEBUG [b50fb382-e126-4bda-aa6c-9bcb59a89598] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:27:34.534 DEBUG [815c541d-4660-42b7-8d54-3466a5a23e84] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:34.535 DEBUG [815c541d-4660-42b7-8d54-3466a5a23e84] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:27:34.535 DEBUG [815c541d-4660-42b7-8d54-3466a5a23e84] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:34.537  INFO [815c541d-4660-42b7-8d54-3466a5a23e84] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:27:34.542 DEBUG [328dcb53-b540-40c6-b22b-002359bc5666] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:27:34.547  INFO [815c541d-4660-42b7-8d54-3466a5a23e84] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:27:34.556 DEBUG [b50fb382-e126-4bda-aa6c-9bcb59a89598] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 98332A1FB0890CA4BA7203D41ED228B8
2025-05-27 11:27:34.558 DEBUG [b50fb382-e126-4bda-aa6c-9bcb59a89598] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:27:34.559 DEBUG [328dcb53-b540-40c6-b22b-002359bc5666] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:27:34.560  INFO [328dcb53-b540-40c6-b22b-002359bc5666] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:27:34.565  WARN [b50fb382-e126-4bda-aa6c-9bcb59a89598] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:27:34.565  WARN [b50fb382-e126-4bda-aa6c-9bcb59a89598] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:27:34.578 DEBUG [dcde3a91-becf-478d-93e2-bfcdb6ab4714] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:27:34.591 DEBUG [dcde3a91-becf-478d-93e2-bfcdb6ab4714] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:27:34.598  WARN [dcde3a91-becf-478d-93e2-bfcdb6ab4714] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:27:34.599  WARN [dcde3a91-becf-478d-93e2-bfcdb6ab4714] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:27:34.607  INFO [815c541d-4660-42b7-8d54-3466a5a23e84] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:27:34.614  INFO [328dcb53-b540-40c6-b22b-002359bc5666] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:27:34.617 DEBUG [e0973984-fb7f-42f4-93bc-287dbe8e42ce] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:34.617 DEBUG [e0973984-fb7f-42f4-93bc-287dbe8e42ce] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:27:34.618 DEBUG [e0973984-fb7f-42f4-93bc-287dbe8e42ce] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 98332A1FB0890CA4BA7203D41ED228B8
2025-05-27 11:27:34.618 DEBUG [e0973984-fb7f-42f4-93bc-287dbe8e42ce] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:27:34.619  INFO [e0973984-fb7f-42f4-93bc-287dbe8e42ce] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:27:34.620  INFO [e0973984-fb7f-42f4-93bc-287dbe8e42ce] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:27:34.667  INFO [e0973984-fb7f-42f4-93bc-287dbe8e42ce] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:28:21.893 DEBUG [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:28:21.893 DEBUG [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:28:21.894 DEBUG [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:28:21.895  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:28:21.895  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:28:21.895  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:28:21.895  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 11:28:21.895  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 11:28:21.944  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 11:28:21.944  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 11:28:21.944  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 11:28:21.944  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 11:28:21.944  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 11:28:21.944  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 11:28:21.944  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 11:28:21.945  INFO [ddf3ff15-df25-4754-9655-7cb8370394d9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 11:28:24.832 DEBUG [8580f284-7837-4180-b118-fac7a29b04fb] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:28:24.846 DEBUG [8580f284-7837-4180-b118-fac7a29b04fb] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:28:24.846  INFO [8580f284-7837-4180-b118-fac7a29b04fb] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:28:24.852  INFO [8580f284-7837-4180-b118-fac7a29b04fb] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:28:24.924 DEBUG [7c18da59-be40-4515-9657-fde00ffef52c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:28:24.924 DEBUG [eec941d0-a889-4a41-b472-04c33914b8a6] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:28:24.924 DEBUG [263bbd84-8e86-46e1-b6d2-644e389c5c86] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:28:24.925 DEBUG [263bbd84-8e86-46e1-b6d2-644e389c5c86] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:28:24.929 DEBUG [263bbd84-8e86-46e1-b6d2-644e389c5c86] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:28:24.940  INFO [263bbd84-8e86-46e1-b6d2-644e389c5c86] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:28:24.941  INFO [263bbd84-8e86-46e1-b6d2-644e389c5c86] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:28:24.951 DEBUG [eec941d0-a889-4a41-b472-04c33914b8a6] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8ABF6AE6CAEA80291B48801EEBCA3DFD
2025-05-27 11:28:24.952 DEBUG [eec941d0-a889-4a41-b472-04c33914b8a6] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:28:24.953  INFO [eec941d0-a889-4a41-b472-04c33914b8a6] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:28:24.953 DEBUG [7c18da59-be40-4515-9657-fde00ffef52c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:28:24.963  WARN [7c18da59-be40-4515-9657-fde00ffef52c] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:28:24.964  WARN [7c18da59-be40-4515-9657-fde00ffef52c] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:28:24.978 DEBUG [f3c96d96-f83f-4464-9ccc-8ce313191a17] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:28:24.993 DEBUG [f3c96d96-f83f-4464-9ccc-8ce313191a17] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:28:24.999  WARN [f3c96d96-f83f-4464-9ccc-8ce313191a17] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:28:25.000  WARN [f3c96d96-f83f-4464-9ccc-8ce313191a17] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:28:25.015  INFO [263bbd84-8e86-46e1-b6d2-644e389c5c86] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:28:25.020  INFO [eec941d0-a889-4a41-b472-04c33914b8a6] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:28:25.025 DEBUG [4b0c17c0-a983-41d2-b5c8-23834722ad9a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:28:25.026 DEBUG [4b0c17c0-a983-41d2-b5c8-23834722ad9a] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:28:25.027 DEBUG [4b0c17c0-a983-41d2-b5c8-23834722ad9a] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 8ABF6AE6CAEA80291B48801EEBCA3DFD
2025-05-27 11:28:25.028 DEBUG [4b0c17c0-a983-41d2-b5c8-23834722ad9a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:28:25.029  INFO [4b0c17c0-a983-41d2-b5c8-23834722ad9a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:28:25.029  INFO [4b0c17c0-a983-41d2-b5c8-23834722ad9a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:28:25.089  INFO [4b0c17c0-a983-41d2-b5c8-23834722ad9a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:31:11.357 DEBUG [fbf6c45a-7908-4d97-af12-d131c8632779] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 11:31:11.367 DEBUG [fbf6c45a-7908-4d97-af12-d131c8632779] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3CA3CD450BE95DDEF8E5D713CB9ED656
2025-05-27 11:31:11.367 DEBUG [fbf6c45a-7908-4d97-af12-d131c8632779] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 11:31:11.377  INFO [fbf6c45a-7908-4d97-af12-d131c8632779] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 15 to persistent cart
2025-05-27 11:31:11.417  INFO [fbf6c45a-7908-4d97-af12-d131c8632779] 3964 --- [io-8080-exec-10] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 15 to cart for user ****@****.***
2025-05-27 11:31:11.434  INFO [fbf6c45a-7908-4d97-af12-d131c8632779] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Flight ID 15 added/incremented in persistent cart for user ****@****.***.
2025-05-27 11:31:11.447 DEBUG [b7075821-a65c-4768-bd6a-d4bdd3cbeac1] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:31:11.457 DEBUG [b7075821-a65c-4768-bd6a-d4bdd3cbeac1] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FD876E96D577E1CA25EA5FDD722BEF95
2025-05-27 11:31:11.458 DEBUG [b7075821-a65c-4768-bd6a-d4bdd3cbeac1] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:31:11.459  INFO [b7075821-a65c-4768-bd6a-d4bdd3cbeac1] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:31:11.506  INFO [b7075821-a65c-4768-bd6a-d4bdd3cbeac1] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:31:11.718 DEBUG [e4a10afb-b1c4-4068-97e2-271387999ca5] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:31:11.731 DEBUG [e4a10afb-b1c4-4068-97e2-271387999ca5] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 03B3CAD6EE0E0674F24C9C5AEE823696
2025-05-27 11:31:11.732 DEBUG [e4a10afb-b1c4-4068-97e2-271387999ca5] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:31:11.732  INFO [e4a10afb-b1c4-4068-97e2-271387999ca5] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:31:11.779  INFO [e4a10afb-b1c4-4068-97e2-271387999ca5] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:31:11.787 DEBUG [c35e9982-a3ef-4991-a1ff-e5f3824de5a8] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:31:11.797 DEBUG [c35e9982-a3ef-4991-a1ff-e5f3824de5a8] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:31:11.797  INFO [c35e9982-a3ef-4991-a1ff-e5f3824de5a8] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:31:11.837  INFO [c35e9982-a3ef-4991-a1ff-e5f3824de5a8] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:31:17.790 DEBUG [7ca0e11b-1092-4628-a499-279afa5ef426] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:31:17.791 DEBUG [7ca0e11b-1092-4628-a499-279afa5ef426] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:31:17.792 DEBUG [7ca0e11b-1092-4628-a499-279afa5ef426] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:31:17.794  INFO [7ca0e11b-1092-4628-a499-279afa5ef426] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:31:17.794  INFO [7ca0e11b-1092-4628-a499-279afa5ef426] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:31:17.794  INFO [7ca0e11b-1092-4628-a499-279afa5ef426] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:31:17.794  INFO [7ca0e11b-1092-4628-a499-279afa5ef426] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:31:20.449 DEBUG [dc7969a8-a5ba-4fe7-8b9d-edec8c9bbfd7] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:31:20.461 DEBUG [dc7969a8-a5ba-4fe7-8b9d-edec8c9bbfd7] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:31:20.462  INFO [dc7969a8-a5ba-4fe7-8b9d-edec8c9bbfd7] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:31:20.469  INFO [dc7969a8-a5ba-4fe7-8b9d-edec8c9bbfd7] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:31:20.525 DEBUG [9be60fd3-15d7-4b48-9d7f-7fae117bb09e] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:31:20.528 DEBUG [4596ae9c-c328-4192-b4eb-710838a33455] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:31:20.528 DEBUG [3eb2b24e-d3bd-4e6b-96a9-0db1ca407d45] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:31:20.529 DEBUG [3eb2b24e-d3bd-4e6b-96a9-0db1ca407d45] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:31:20.530 DEBUG [3eb2b24e-d3bd-4e6b-96a9-0db1ca407d45] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:31:20.532  INFO [3eb2b24e-d3bd-4e6b-96a9-0db1ca407d45] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:31:20.532  INFO [3eb2b24e-d3bd-4e6b-96a9-0db1ca407d45] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:31:20.536 DEBUG [9be60fd3-15d7-4b48-9d7f-7fae117bb09e] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8ACDB2631CDE94F8650FE5DD3E2A1A38
2025-05-27 11:31:20.537 DEBUG [9be60fd3-15d7-4b48-9d7f-7fae117bb09e] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:31:20.537 DEBUG [4596ae9c-c328-4192-b4eb-710838a33455] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:31:20.538  INFO [4596ae9c-c328-4192-b4eb-710838a33455] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:31:20.553  WARN [9be60fd3-15d7-4b48-9d7f-7fae117bb09e] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:31:20.554  WARN [9be60fd3-15d7-4b48-9d7f-7fae117bb09e] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:31:20.562 DEBUG [1c274c6f-960a-4ba4-b1b4-2b8f88d112ae] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:31:20.573 DEBUG [1c274c6f-960a-4ba4-b1b4-2b8f88d112ae] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:31:20.580  WARN [1c274c6f-960a-4ba4-b1b4-2b8f88d112ae] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:31:20.581  WARN [1c274c6f-960a-4ba4-b1b4-2b8f88d112ae] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:31:20.594  INFO [3eb2b24e-d3bd-4e6b-96a9-0db1ca407d45] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:31:20.599  INFO [4596ae9c-c328-4192-b4eb-710838a33455] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:31:20.605 DEBUG [1384a3a9-fced-4e0b-b7d8-b9c903bae5fb] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:31:20.606 DEBUG [1384a3a9-fced-4e0b-b7d8-b9c903bae5fb] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:31:20.606 DEBUG [1384a3a9-fced-4e0b-b7d8-b9c903bae5fb] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 8ACDB2631CDE94F8650FE5DD3E2A1A38
2025-05-27 11:31:20.606 DEBUG [1384a3a9-fced-4e0b-b7d8-b9c903bae5fb] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:31:20.607  INFO [1384a3a9-fced-4e0b-b7d8-b9c903bae5fb] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:31:20.608  INFO [1384a3a9-fced-4e0b-b7d8-b9c903bae5fb] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:31:20.659  INFO [1384a3a9-fced-4e0b-b7d8-b9c903bae5fb] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:32:26.521 DEBUG [71ac871d-ff2d-43d1-8aa8-e0e129f7032b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:32:26.530 DEBUG [71ac871d-ff2d-43d1-8aa8-e0e129f7032b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:32:26.531  INFO [71ac871d-ff2d-43d1-8aa8-e0e129f7032b] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:32:26.534  INFO [71ac871d-ff2d-43d1-8aa8-e0e129f7032b] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:32:26.652 DEBUG [e919b35c-8f0f-448e-a941-cc39468896c9] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:32:26.652 DEBUG [6ed27bd8-a8be-4f43-8608-d94ea1f74cdd] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:26.652 DEBUG [9921cffb-486b-4e76-b3b5-ed9a289d0077] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:32:26.653 DEBUG [6ed27bd8-a8be-4f43-8608-d94ea1f74cdd] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:32:26.653 DEBUG [6ed27bd8-a8be-4f43-8608-d94ea1f74cdd] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:26.654  INFO [6ed27bd8-a8be-4f43-8608-d94ea1f74cdd] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:32:26.654  INFO [6ed27bd8-a8be-4f43-8608-d94ea1f74cdd] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:32:26.662 DEBUG [9921cffb-486b-4e76-b3b5-ed9a289d0077] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EA41F0DCA5077042F86E6B128AF3E060
2025-05-27 11:32:26.663 DEBUG [9921cffb-486b-4e76-b3b5-ed9a289d0077] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:32:26.664 DEBUG [e919b35c-8f0f-448e-a941-cc39468896c9] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:32:26.664  INFO [9921cffb-486b-4e76-b3b5-ed9a289d0077] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:32:26.670  WARN [e919b35c-8f0f-448e-a941-cc39468896c9] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:32:26.670  WARN [e919b35c-8f0f-448e-a941-cc39468896c9] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:32:26.678 DEBUG [7a02f7b2-f288-4096-bb72-6d26035b8b6e] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:32:26.690 DEBUG [7a02f7b2-f288-4096-bb72-6d26035b8b6e] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:32:26.697  WARN [7a02f7b2-f288-4096-bb72-6d26035b8b6e] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:32:26.699  WARN [7a02f7b2-f288-4096-bb72-6d26035b8b6e] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:32:26.716  INFO [6ed27bd8-a8be-4f43-8608-d94ea1f74cdd] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:32:26.719  INFO [9921cffb-486b-4e76-b3b5-ed9a289d0077] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:32:26.732 DEBUG [aab7c28f-0a30-4f37-8c5b-4c3b006363a2] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:26.733 DEBUG [aab7c28f-0a30-4f37-8c5b-4c3b006363a2] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:32:26.733 DEBUG [aab7c28f-0a30-4f37-8c5b-4c3b006363a2] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA41F0DCA5077042F86E6B128AF3E060
2025-05-27 11:32:26.734 DEBUG [aab7c28f-0a30-4f37-8c5b-4c3b006363a2] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:26.736  INFO [aab7c28f-0a30-4f37-8c5b-4c3b006363a2] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:32:26.737  INFO [aab7c28f-0a30-4f37-8c5b-4c3b006363a2] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:32:26.786  INFO [aab7c28f-0a30-4f37-8c5b-4c3b006363a2] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:32:32.942 DEBUG [a6ca0210-e0a4-4d9e-8bcf-3be31b8f251a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:32:32.952 DEBUG [a6ca0210-e0a4-4d9e-8bcf-3be31b8f251a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:32:32.953  INFO [a6ca0210-e0a4-4d9e-8bcf-3be31b8f251a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:32:32.959  INFO [a6ca0210-e0a4-4d9e-8bcf-3be31b8f251a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:32:33.016 DEBUG [bbebca2c-e694-43ce-af86-be9a66423cfb] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:33.016 DEBUG [684ca7bc-b69b-4d8b-955b-f45d7b94c5c3] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:32:33.017 DEBUG [bbebca2c-e694-43ce-af86-be9a66423cfb] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:32:33.025 DEBUG [bbebca2c-e694-43ce-af86-be9a66423cfb] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:33.030 DEBUG [e85edc87-1551-4373-ac8c-9ebf5a02feab] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:32:33.033  INFO [bbebca2c-e694-43ce-af86-be9a66423cfb] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:32:33.034  INFO [bbebca2c-e694-43ce-af86-be9a66423cfb] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:32:33.041 DEBUG [684ca7bc-b69b-4d8b-955b-f45d7b94c5c3] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 084C958379DBDF4035BCA19F13B66046
2025-05-27 11:32:33.042 DEBUG [684ca7bc-b69b-4d8b-955b-f45d7b94c5c3] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:32:33.047 DEBUG [e85edc87-1551-4373-ac8c-9ebf5a02feab] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:32:33.048  INFO [e85edc87-1551-4373-ac8c-9ebf5a02feab] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:32:33.049  WARN [684ca7bc-b69b-4d8b-955b-f45d7b94c5c3] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:32:33.049  WARN [684ca7bc-b69b-4d8b-955b-f45d7b94c5c3] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:32:33.065 DEBUG [68b3faeb-5ae8-43fe-bbd3-1219ad2dd26f] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:32:33.084 DEBUG [68b3faeb-5ae8-43fe-bbd3-1219ad2dd26f] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:32:33.091  WARN [68b3faeb-5ae8-43fe-bbd3-1219ad2dd26f] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:32:33.092  WARN [68b3faeb-5ae8-43fe-bbd3-1219ad2dd26f] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:32:33.101  INFO [bbebca2c-e694-43ce-af86-be9a66423cfb] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:32:33.110  INFO [e85edc87-1551-4373-ac8c-9ebf5a02feab] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:32:33.120 DEBUG [8e064629-375f-4eb4-bc50-1c143a41a348] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:33.122 DEBUG [8e064629-375f-4eb4-bc50-1c143a41a348] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:32:33.122 DEBUG [8e064629-375f-4eb4-bc50-1c143a41a348] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 084C958379DBDF4035BCA19F13B66046
2025-05-27 11:32:33.123 DEBUG [8e064629-375f-4eb4-bc50-1c143a41a348] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:33.125  INFO [8e064629-375f-4eb4-bc50-1c143a41a348] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:32:33.126  INFO [8e064629-375f-4eb4-bc50-1c143a41a348] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:32:33.174  INFO [8e064629-375f-4eb4-bc50-1c143a41a348] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:32:55.092 DEBUG [49760458-1a70-449c-99e5-3486cbb56bf4] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:32:55.102 DEBUG [49760458-1a70-449c-99e5-3486cbb56bf4] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:32:55.103  INFO [49760458-1a70-449c-99e5-3486cbb56bf4] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:32:55.109  INFO [49760458-1a70-449c-99e5-3486cbb56bf4] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:32:55.157 DEBUG [9630c29d-f3fa-4dfd-8ce3-4c30b04e8ec4] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:32:55.163 DEBUG [3bc4a4fc-3f4f-4d00-978f-aa02e5aed75e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:55.164 DEBUG [3bc4a4fc-3f4f-4d00-978f-aa02e5aed75e] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:32:55.165 DEBUG [3bc4a4fc-3f4f-4d00-978f-aa02e5aed75e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:55.166  INFO [3bc4a4fc-3f4f-4d00-978f-aa02e5aed75e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:32:55.166  INFO [3bc4a4fc-3f4f-4d00-978f-aa02e5aed75e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:32:55.168 DEBUG [c03d22e0-ae22-4ff1-9891-41ae12e4124c] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:32:55.183 DEBUG [9630c29d-f3fa-4dfd-8ce3-4c30b04e8ec4] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FE088E050494A77204E06E57D7CFF36D
2025-05-27 11:32:55.186 DEBUG [9630c29d-f3fa-4dfd-8ce3-4c30b04e8ec4] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:32:55.194 DEBUG [c03d22e0-ae22-4ff1-9891-41ae12e4124c] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:32:55.195  INFO [c03d22e0-ae22-4ff1-9891-41ae12e4124c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:32:55.198  WARN [9630c29d-f3fa-4dfd-8ce3-4c30b04e8ec4] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:32:55.199  WARN [9630c29d-f3fa-4dfd-8ce3-4c30b04e8ec4] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:32:55.215 DEBUG [6d571b82-f611-4b4e-bfab-6cda1e73bc36] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:32:55.226 DEBUG [6d571b82-f611-4b4e-bfab-6cda1e73bc36] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:32:55.235  WARN [6d571b82-f611-4b4e-bfab-6cda1e73bc36] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:32:55.236  WARN [6d571b82-f611-4b4e-bfab-6cda1e73bc36] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:32:55.248  INFO [3bc4a4fc-3f4f-4d00-978f-aa02e5aed75e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:32:55.258  INFO [c03d22e0-ae22-4ff1-9891-41ae12e4124c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:32:55.261 DEBUG [9ef22ebd-5168-4bd9-9a66-0d6b455a0530] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:55.261 DEBUG [9ef22ebd-5168-4bd9-9a66-0d6b455a0530] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:32:55.262 DEBUG [9ef22ebd-5168-4bd9-9a66-0d6b455a0530] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id FE088E050494A77204E06E57D7CFF36D
2025-05-27 11:32:55.262 DEBUG [9ef22ebd-5168-4bd9-9a66-0d6b455a0530] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:32:55.264  INFO [9ef22ebd-5168-4bd9-9a66-0d6b455a0530] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:32:55.264  INFO [9ef22ebd-5168-4bd9-9a66-0d6b455a0530] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:32:55.321  INFO [9ef22ebd-5168-4bd9-9a66-0d6b455a0530] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:34:13.546 DEBUG [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:34:13.546 DEBUG [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:34:13.547 DEBUG [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:34:13.547  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:34:13.548  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:34:13.548  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:34:13.548  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 11:34:13.548  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 11:34:13.601  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 11:34:13.601  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 11:34:13.602  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 11:34:13.603  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 11:34:13.603  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 11:34:13.603  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 11:34:13.603  INFO [e908e78a-bd64-4241-91cf-db1a8c07f494] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 11:34:17.099 DEBUG [599da457-f605-4a3e-a429-a34928b3744d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:34:17.108 DEBUG [599da457-f605-4a3e-a429-a34928b3744d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:34:17.109  INFO [599da457-f605-4a3e-a429-a34928b3744d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:34:17.113  INFO [599da457-f605-4a3e-a429-a34928b3744d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:34:17.178 DEBUG [e71094b1-4ada-4df5-9a05-702454668907] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:34:17.178 DEBUG [d9548347-d7d9-4dfb-8b67-04a81f0d8ecc] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:34:17.178 DEBUG [bc7bca09-0eb3-4977-9aec-e3d19c8f2e5d] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:34:17.178 DEBUG [d9548347-d7d9-4dfb-8b67-04a81f0d8ecc] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:34:17.179 DEBUG [d9548347-d7d9-4dfb-8b67-04a81f0d8ecc] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:34:17.180  INFO [d9548347-d7d9-4dfb-8b67-04a81f0d8ecc] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:34:17.180  INFO [d9548347-d7d9-4dfb-8b67-04a81f0d8ecc] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:34:17.187 DEBUG [e71094b1-4ada-4df5-9a05-702454668907] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FB5A5CB89047FB545A3A1B669FC78851
2025-05-27 11:34:17.187 DEBUG [bc7bca09-0eb3-4977-9aec-e3d19c8f2e5d] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E4CA0CB8D0C0E2F2A3BC8523FADA73C2
2025-05-27 11:34:17.188 DEBUG [bc7bca09-0eb3-4977-9aec-e3d19c8f2e5d] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:34:17.189 DEBUG [e71094b1-4ada-4df5-9a05-702454668907] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:34:17.189  INFO [bc7bca09-0eb3-4977-9aec-e3d19c8f2e5d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:34:17.196  WARN [e71094b1-4ada-4df5-9a05-702454668907] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:34:17.198  WARN [e71094b1-4ada-4df5-9a05-702454668907] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:34:17.223 DEBUG [5046ca46-83db-4219-9951-f1048e462f93] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:34:17.235 DEBUG [5046ca46-83db-4219-9951-f1048e462f93] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:34:17.243  WARN [5046ca46-83db-4219-9951-f1048e462f93] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:34:17.244  WARN [5046ca46-83db-4219-9951-f1048e462f93] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:34:17.248  INFO [d9548347-d7d9-4dfb-8b67-04a81f0d8ecc] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:34:17.252  INFO [bc7bca09-0eb3-4977-9aec-e3d19c8f2e5d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:34:17.257 DEBUG [31be5c54-c9dc-4461-a375-d1d3b2f07664] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:34:17.258 DEBUG [31be5c54-c9dc-4461-a375-d1d3b2f07664] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:34:17.258 DEBUG [31be5c54-c9dc-4461-a375-d1d3b2f07664] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id E4CA0CB8D0C0E2F2A3BC8523FADA73C2
2025-05-27 11:34:17.259 DEBUG [31be5c54-c9dc-4461-a375-d1d3b2f07664] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:34:17.260  INFO [31be5c54-c9dc-4461-a375-d1d3b2f07664] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:34:17.260  INFO [31be5c54-c9dc-4461-a375-d1d3b2f07664] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:34:17.310  INFO [31be5c54-c9dc-4461-a375-d1d3b2f07664] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:37:11.579 DEBUG [0be93547-223a-4f52-960e-579e4f97f99a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 11:37:11.588 DEBUG [0be93547-223a-4f52-960e-579e4f97f99a] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3142ACE09DA640FF0C143C6501920A5F
2025-05-27 11:37:11.588 DEBUG [0be93547-223a-4f52-960e-579e4f97f99a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 11:37:11.594  INFO [0be93547-223a-4f52-960e-579e4f97f99a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 15 to persistent cart
2025-05-27 11:37:11.632  INFO [0be93547-223a-4f52-960e-579e4f97f99a] 3964 --- [nio-8080-exec-9] o.e.xlr8travel.services.CartServiceImpl  : Incremented quantity for flight ID 15 in cart for user ****@****.***
2025-05-27 11:37:11.651  INFO [0be93547-223a-4f52-960e-579e4f97f99a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Flight ID 15 added/incremented in persistent cart for user ****@****.***.
2025-05-27 11:37:11.663 DEBUG [6db6ac23-2e08-4bc8-8a42-c9d257038576] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:11.672 DEBUG [6db6ac23-2e08-4bc8-8a42-c9d257038576] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9216BBCA9223D542B57A4B84A08BDB9F
2025-05-27 11:37:11.673 DEBUG [6db6ac23-2e08-4bc8-8a42-c9d257038576] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:11.674  INFO [6db6ac23-2e08-4bc8-8a42-c9d257038576] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:11.720  INFO [6db6ac23-2e08-4bc8-8a42-c9d257038576] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 3 total quantity.
2025-05-27 11:37:11.947 DEBUG [57d3058d-1b1b-420e-a3a9-0e840f6703b6] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:11.958 DEBUG [57d3058d-1b1b-420e-a3a9-0e840f6703b6] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 77459C8B24DCCF3DE6204222BE9CCB42
2025-05-27 11:37:11.960 DEBUG [57d3058d-1b1b-420e-a3a9-0e840f6703b6] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:11.961  INFO [57d3058d-1b1b-420e-a3a9-0e840f6703b6] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:12.007  INFO [57d3058d-1b1b-420e-a3a9-0e840f6703b6] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 3 total quantity.
2025-05-27 11:37:12.014 DEBUG [0418332a-383d-45d6-87b9-6853dd8c4f59] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:12.023 DEBUG [0418332a-383d-45d6-87b9-6853dd8c4f59] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:12.024  INFO [0418332a-383d-45d6-87b9-6853dd8c4f59] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:12.068  INFO [0418332a-383d-45d6-87b9-6853dd8c4f59] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 3 total quantity.
2025-05-27 11:37:15.278 DEBUG [45fe9ad5-6e16-4591-8e19-3ff3d57c0c6d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:37:15.278 DEBUG [45fe9ad5-6e16-4591-8e19-3ff3d57c0c6d] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:37:15.279 DEBUG [45fe9ad5-6e16-4591-8e19-3ff3d57c0c6d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:37:15.279  INFO [45fe9ad5-6e16-4591-8e19-3ff3d57c0c6d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:37:15.280  INFO [45fe9ad5-6e16-4591-8e19-3ff3d57c0c6d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:37:15.280  INFO [45fe9ad5-6e16-4591-8e19-3ff3d57c0c6d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:37:15.280  INFO [45fe9ad5-6e16-4591-8e19-3ff3d57c0c6d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:37:18.755 DEBUG [cc91d40a-0ac9-4f7f-958a-9e494c1e6f1c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:37:18.766 DEBUG [cc91d40a-0ac9-4f7f-958a-9e494c1e6f1c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:37:18.766  INFO [cc91d40a-0ac9-4f7f-958a-9e494c1e6f1c] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:37:18.772  INFO [cc91d40a-0ac9-4f7f-958a-9e494c1e6f1c] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:37:18.845 DEBUG [d58a1902-3583-47f7-bd27-cfaab5c62c18] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:37:18.846 DEBUG [8605f944-7474-44de-b71e-ba31774e8944] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:37:18.846 DEBUG [d7340fea-d65f-4d20-bf76-141827385e2a] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:18.846 DEBUG [8605f944-7474-44de-b71e-ba31774e8944] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:37:18.848 DEBUG [8605f944-7474-44de-b71e-ba31774e8944] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:37:18.851  INFO [8605f944-7474-44de-b71e-ba31774e8944] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:37:18.861  INFO [8605f944-7474-44de-b71e-ba31774e8944] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:37:18.866 DEBUG [d7340fea-d65f-4d20-bf76-141827385e2a] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 67FC8E42D1F2AE0E72E8B9EE147D915A
2025-05-27 11:37:18.867 DEBUG [d7340fea-d65f-4d20-bf76-141827385e2a] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:18.868  INFO [d7340fea-d65f-4d20-bf76-141827385e2a] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:18.868 DEBUG [d58a1902-3583-47f7-bd27-cfaab5c62c18] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:37:18.875  WARN [d58a1902-3583-47f7-bd27-cfaab5c62c18] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:37:18.876  WARN [d58a1902-3583-47f7-bd27-cfaab5c62c18] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:37:18.883 DEBUG [3a50b9dd-0d91-4e3f-85d9-391d47c2f764] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:37:18.894 DEBUG [3a50b9dd-0d91-4e3f-85d9-391d47c2f764] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:37:18.900  WARN [3a50b9dd-0d91-4e3f-85d9-391d47c2f764] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:37:18.901  WARN [3a50b9dd-0d91-4e3f-85d9-391d47c2f764] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:37:18.918  INFO [8605f944-7474-44de-b71e-ba31774e8944] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:37:18.923  INFO [d7340fea-d65f-4d20-bf76-141827385e2a] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 3 total quantity.
2025-05-27 11:37:18.928 DEBUG [90164784-c221-4659-9703-fa3e53fa0de6] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:37:18.929 DEBUG [90164784-c221-4659-9703-fa3e53fa0de6] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:37:18.929 DEBUG [90164784-c221-4659-9703-fa3e53fa0de6] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 67FC8E42D1F2AE0E72E8B9EE147D915A
2025-05-27 11:37:18.930 DEBUG [90164784-c221-4659-9703-fa3e53fa0de6] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:37:18.930  INFO [90164784-c221-4659-9703-fa3e53fa0de6] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:37:18.931  INFO [90164784-c221-4659-9703-fa3e53fa0de6] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:37:18.987  INFO [90164784-c221-4659-9703-fa3e53fa0de6] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:37:23.591 DEBUG [73ae824a-cb21-4b25-b19e-96175ef7d42a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:37:23.591 DEBUG [73ae824a-cb21-4b25-b19e-96175ef7d42a] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:37:23.592 DEBUG [73ae824a-cb21-4b25-b19e-96175ef7d42a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:37:23.593  INFO [73ae824a-cb21-4b25-b19e-96175ef7d42a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:37:23.593  INFO [73ae824a-cb21-4b25-b19e-96175ef7d42a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:37:23.593  INFO [73ae824a-cb21-4b25-b19e-96175ef7d42a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:37:23.594  INFO [73ae824a-cb21-4b25-b19e-96175ef7d42a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:37:34.597 DEBUG [391fe6bc-6d7f-4589-ad60-ea8b4365e447] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:34.609 DEBUG [391fe6bc-6d7f-4589-ad60-ea8b4365e447] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E1250294572173B3F8C33F6800BA9BE4
2025-05-27 11:37:34.610 DEBUG [391fe6bc-6d7f-4589-ad60-ea8b4365e447] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:34.610  INFO [391fe6bc-6d7f-4589-ad60-ea8b4365e447] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:34.659  INFO [391fe6bc-6d7f-4589-ad60-ea8b4365e447] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 3 total quantity.
2025-05-27 11:37:34.666 DEBUG [b107f832-3b4e-4733-805b-7d32e7e74ec5] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:34.675 DEBUG [b107f832-3b4e-4733-805b-7d32e7e74ec5] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:34.676  INFO [b107f832-3b4e-4733-805b-7d32e7e74ec5] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:34.717  INFO [b107f832-3b4e-4733-805b-7d32e7e74ec5] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 3 total quantity.
2025-05-27 11:37:43.516 DEBUG [fe47d282-f9bf-4eef-b16c-435cdda8bf5f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:43.530 DEBUG [fe47d282-f9bf-4eef-b16c-435cdda8bf5f] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9AA8AA8F7E72782C5994B13988BE657A
2025-05-27 11:37:43.531 DEBUG [fe47d282-f9bf-4eef-b16c-435cdda8bf5f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:43.532  INFO [fe47d282-f9bf-4eef-b16c-435cdda8bf5f] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:43.577  INFO [fe47d282-f9bf-4eef-b16c-435cdda8bf5f] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 3 total quantity.
2025-05-27 11:37:50.349 DEBUG [58026bac-2bba-4a59-b230-5621469741a7] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/decrease/15
2025-05-27 11:37:50.360 DEBUG [58026bac-2bba-4a59-b230-5621469741a7] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9F700F4F923BDEEEAAD9EBE7F919EC3F
2025-05-27 11:37:50.361 DEBUG [58026bac-2bba-4a59-b230-5621469741a7] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/decrease/15
2025-05-27 11:37:50.368  INFO [58026bac-2bba-4a59-b230-5621469741a7] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : User ****@****.*** request to decrease quantity for flight ID 15
2025-05-27 11:37:50.407  INFO [58026bac-2bba-4a59-b230-5621469741a7] 3964 --- [nio-8080-exec-3] o.e.xlr8travel.services.CartServiceImpl  : Decreased quantity for flight ID 15. New quantity: 1
2025-05-27 11:37:50.421  INFO [58026bac-2bba-4a59-b230-5621469741a7] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Quantity decreased/item potentially removed for flight ID 15 in persistent cart for user ****@****.***.
2025-05-27 11:37:50.433 DEBUG [b6b8f22a-0fad-41dc-925c-ec1329342e93] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:50.442 DEBUG [b6b8f22a-0fad-41dc-925c-ec1329342e93] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CD3D4066F4BDD97A807B4B60306B74C8
2025-05-27 11:37:50.444 DEBUG [b6b8f22a-0fad-41dc-925c-ec1329342e93] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:50.444  INFO [b6b8f22a-0fad-41dc-925c-ec1329342e93] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:50.484  INFO [b6b8f22a-0fad-41dc-925c-ec1329342e93] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:37:52.941 DEBUG [e625d8e6-d4d8-4b1f-81f0-744bad615ef5] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/15
2025-05-27 11:37:52.953 DEBUG [e625d8e6-d4d8-4b1f-81f0-744bad615ef5] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CF6B0D1BC02763F80CF4E25E330375A9
2025-05-27 11:37:52.954 DEBUG [e625d8e6-d4d8-4b1f-81f0-744bad615ef5] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/15
2025-05-27 11:37:52.961  INFO [e625d8e6-d4d8-4b1f-81f0-744bad615ef5] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 15 from persistent cart
2025-05-27 11:37:53.002  INFO [e625d8e6-d4d8-4b1f-81f0-744bad615ef5] 3964 --- [nio-8080-exec-5] o.e.xlr8travel.services.CartServiceImpl  : Removed flight ID 15 entirely (removed=true) from cart for user ****@****.***.
2025-05-27 11:37:53.021  INFO [e625d8e6-d4d8-4b1f-81f0-744bad615ef5] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Item removed for flight ID 15 in persistent cart for user ****@****.***.
2025-05-27 11:37:53.035 DEBUG [77bf3122-5183-4c51-8832-e899d5eb6426] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:53.045 DEBUG [77bf3122-5183-4c51-8832-e899d5eb6426] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 00B656BB5EFF75DE42034DBFF9411944
2025-05-27 11:37:53.046 DEBUG [77bf3122-5183-4c51-8832-e899d5eb6426] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:53.046  INFO [77bf3122-5183-4c51-8832-e899d5eb6426] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:53.087  INFO [77bf3122-5183-4c51-8832-e899d5eb6426] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:37:54.081 DEBUG [01335646-73d0-45a8-b52e-c4d0aa81f738] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/17
2025-05-27 11:37:54.090 DEBUG [01335646-73d0-45a8-b52e-c4d0aa81f738] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 143C2613171B6369C6105C7AED0D1119
2025-05-27 11:37:54.091 DEBUG [01335646-73d0-45a8-b52e-c4d0aa81f738] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/17
2025-05-27 11:37:54.096  INFO [01335646-73d0-45a8-b52e-c4d0aa81f738] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 17 from persistent cart
2025-05-27 11:37:54.135  INFO [01335646-73d0-45a8-b52e-c4d0aa81f738] 3964 --- [nio-8080-exec-4] o.e.xlr8travel.services.CartServiceImpl  : Removed flight ID 17 entirely (removed=true) from cart for user ****@****.***.
2025-05-27 11:37:54.152  INFO [01335646-73d0-45a8-b52e-c4d0aa81f738] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Item removed for flight ID 17 in persistent cart for user ****@****.***.
2025-05-27 11:37:54.166 DEBUG [45df10f1-e69c-4825-bd1f-26fb0df286b8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:54.177 DEBUG [45df10f1-e69c-4825-bd1f-26fb0df286b8] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B715E93F4DFCF77FAABF404E78406564
2025-05-27 11:37:54.178 DEBUG [45df10f1-e69c-4825-bd1f-26fb0df286b8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:54.178  INFO [45df10f1-e69c-4825-bd1f-26fb0df286b8] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:54.188  INFO [45df10f1-e69c-4825-bd1f-26fb0df286b8] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:37:55.440 DEBUG [a175c0b6-6652-492a-ae87-2d283e20d0cd] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:37:55.441 DEBUG [a175c0b6-6652-492a-ae87-2d283e20d0cd] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:37:55.442 DEBUG [a175c0b6-6652-492a-ae87-2d283e20d0cd] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:37:55.443  INFO [a175c0b6-6652-492a-ae87-2d283e20d0cd] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:37:55.443  INFO [a175c0b6-6652-492a-ae87-2d283e20d0cd] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:37:55.443  INFO [a175c0b6-6652-492a-ae87-2d283e20d0cd] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:37:55.443  INFO [a175c0b6-6652-492a-ae87-2d283e20d0cd] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:37:56.878 DEBUG [68176d79-117b-41f5-b715-f553063a1d19] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:56.901 DEBUG [68176d79-117b-41f5-b715-f553063a1d19] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2C28BC2E3AEB31D9C25E412E5343E9F5
2025-05-27 11:37:56.903 DEBUG [68176d79-117b-41f5-b715-f553063a1d19] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:56.906  INFO [68176d79-117b-41f5-b715-f553063a1d19] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:56.931  INFO [68176d79-117b-41f5-b715-f553063a1d19] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:37:56.939 DEBUG [58bf2365-8013-4aae-9afd-e3fc5fd67f90] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:37:56.950 DEBUG [58bf2365-8013-4aae-9afd-e3fc5fd67f90] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:37:56.951  INFO [58bf2365-8013-4aae-9afd-e3fc5fd67f90] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:37:56.963  INFO [58bf2365-8013-4aae-9afd-e3fc5fd67f90] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:38:08.300 DEBUG [b24b4f81-0b7d-4f28-9cd1-b8a2325f910e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:08.317 DEBUG [b24b4f81-0b7d-4f28-9cd1-b8a2325f910e] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 22F7FBEF17D396B7675AAE7EEEBA1C8E
2025-05-27 11:38:08.318 DEBUG [b24b4f81-0b7d-4f28-9cd1-b8a2325f910e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:08.318  INFO [b24b4f81-0b7d-4f28-9cd1-b8a2325f910e] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:08.335  INFO [b24b4f81-0b7d-4f28-9cd1-b8a2325f910e] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:38:09.579 DEBUG [f0aea94a-6536-465d-a2cb-1c0c6a450fd8] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:09.590 DEBUG [f0aea94a-6536-465d-a2cb-1c0c6a450fd8] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 96F1F0EF994923102D3932DE37CBAB4E
2025-05-27 11:38:09.592 DEBUG [f0aea94a-6536-465d-a2cb-1c0c6a450fd8] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:09.592  INFO [f0aea94a-6536-465d-a2cb-1c0c6a450fd8] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:09.604  INFO [f0aea94a-6536-465d-a2cb-1c0c6a450fd8] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:38:11.560 DEBUG [ef3ecfe4-8781-42ea-8be7-864fab98566c] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:11.573 DEBUG [ef3ecfe4-8781-42ea-8be7-864fab98566c] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5C49F4580A5B52577DE6842446DFE1C0
2025-05-27 11:38:11.574 DEBUG [ef3ecfe4-8781-42ea-8be7-864fab98566c] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:11.574  INFO [ef3ecfe4-8781-42ea-8be7-864fab98566c] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:11.586  INFO [ef3ecfe4-8781-42ea-8be7-864fab98566c] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:38:18.516 DEBUG [2d1a8fdf-e162-4afd-9c28-42e89b570fce] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:38:18.517 DEBUG [2d1a8fdf-e162-4afd-9c28-42e89b570fce] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:38:18.518 DEBUG [2d1a8fdf-e162-4afd-9c28-42e89b570fce] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:38:18.518  INFO [2d1a8fdf-e162-4afd-9c28-42e89b570fce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:38:18.518  INFO [2d1a8fdf-e162-4afd-9c28-42e89b570fce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:38:18.518  INFO [2d1a8fdf-e162-4afd-9c28-42e89b570fce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:38:18.519  INFO [2d1a8fdf-e162-4afd-9c28-42e89b570fce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:38:20.287 DEBUG [97c81f54-6131-4228-a58f-0c9b80dd2432] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:20.308 DEBUG [97c81f54-6131-4228-a58f-0c9b80dd2432] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6AC5FA7D6D08A2AD49CA0B573D407339
2025-05-27 11:38:20.310 DEBUG [97c81f54-6131-4228-a58f-0c9b80dd2432] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:20.311  INFO [97c81f54-6131-4228-a58f-0c9b80dd2432] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:20.326  INFO [97c81f54-6131-4228-a58f-0c9b80dd2432] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:38:20.338 DEBUG [2c4619c8-5a9f-4a1e-ad9f-fab7d4111ba8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:20.348 DEBUG [2c4619c8-5a9f-4a1e-ad9f-fab7d4111ba8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:20.349  INFO [2c4619c8-5a9f-4a1e-ad9f-fab7d4111ba8] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:20.358  INFO [2c4619c8-5a9f-4a1e-ad9f-fab7d4111ba8] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:38:25.966 DEBUG [283ea1f6-d8b7-47c8-ad39-b034ae3ab1aa] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:38:25.967 DEBUG [283ea1f6-d8b7-47c8-ad39-b034ae3ab1aa] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:38:25.967 DEBUG [283ea1f6-d8b7-47c8-ad39-b034ae3ab1aa] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:38:25.968  INFO [283ea1f6-d8b7-47c8-ad39-b034ae3ab1aa] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:38:25.968  INFO [283ea1f6-d8b7-47c8-ad39-b034ae3ab1aa] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:38:25.968  INFO [283ea1f6-d8b7-47c8-ad39-b034ae3ab1aa] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:38:25.968  INFO [283ea1f6-d8b7-47c8-ad39-b034ae3ab1aa] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:38:29.495 DEBUG [c6dfec16-3db2-431f-a915-1a27b05dac54] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:38:29.504 DEBUG [c6dfec16-3db2-431f-a915-1a27b05dac54] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:38:29.504  INFO [c6dfec16-3db2-431f-a915-1a27b05dac54] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:38:29.509  INFO [c6dfec16-3db2-431f-a915-1a27b05dac54] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:38:29.572 DEBUG [bdef9f45-a173-4685-888f-dd6851398e00] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:38:29.572 DEBUG [6fce68fb-df70-4e7e-a57e-0e3db0044337] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:38:29.574 DEBUG [6fce68fb-df70-4e7e-a57e-0e3db0044337] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:38:29.574 DEBUG [6fce68fb-df70-4e7e-a57e-0e3db0044337] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:38:29.585  INFO [6fce68fb-df70-4e7e-a57e-0e3db0044337] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:38:29.587  INFO [6fce68fb-df70-4e7e-a57e-0e3db0044337] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:38:29.591 DEBUG [bdef9f45-a173-4685-888f-dd6851398e00] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 58EA8516BF4ECF1F55A1761427E844B2
2025-05-27 11:38:29.594 DEBUG [bdef9f45-a173-4685-888f-dd6851398e00] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:38:29.600  WARN [bdef9f45-a173-4685-888f-dd6851398e00] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:38:29.601  WARN [bdef9f45-a173-4685-888f-dd6851398e00] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:38:29.611 DEBUG [64f572ed-917e-4c62-bd83-a7842383ec02] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:29.616 DEBUG [7236bce3-63e0-454c-b876-9fe76c9c5359] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:38:29.626 DEBUG [64f572ed-917e-4c62-bd83-a7842383ec02] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:29.626  INFO [64f572ed-917e-4c62-bd83-a7842383ec02] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:29.628 DEBUG [7236bce3-63e0-454c-b876-9fe76c9c5359] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:38:29.637  WARN [7236bce3-63e0-454c-b876-9fe76c9c5359] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:38:29.639  WARN [7236bce3-63e0-454c-b876-9fe76c9c5359] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:38:29.640  INFO [64f572ed-917e-4c62-bd83-a7842383ec02] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:38:29.662  INFO [6fce68fb-df70-4e7e-a57e-0e3db0044337] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:38:29.671 DEBUG [83a5f853-b491-44af-bd84-66ea770f1537] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:38:29.672 DEBUG [83a5f853-b491-44af-bd84-66ea770f1537] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:38:29.673 DEBUG [83a5f853-b491-44af-bd84-66ea770f1537] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 58EA8516BF4ECF1F55A1761427E844B2
2025-05-27 11:38:29.673 DEBUG [83a5f853-b491-44af-bd84-66ea770f1537] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:38:29.674  INFO [83a5f853-b491-44af-bd84-66ea770f1537] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:38:29.674  INFO [83a5f853-b491-44af-bd84-66ea770f1537] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:38:29.730  INFO [83a5f853-b491-44af-bd84-66ea770f1537] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:38:43.010 DEBUG [2a8bb87c-63b3-4461-8e0c-465a02b42c68] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 11:38:43.018 DEBUG [2a8bb87c-63b3-4461-8e0c-465a02b42c68] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 216F5F3394A25567EEEE42A08178FE7D
2025-05-27 11:38:43.019 DEBUG [2a8bb87c-63b3-4461-8e0c-465a02b42c68] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 11:38:43.024  INFO [2a8bb87c-63b3-4461-8e0c-465a02b42c68] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 17 to persistent cart
2025-05-27 11:38:43.061  INFO [2a8bb87c-63b3-4461-8e0c-465a02b42c68] 3964 --- [nio-8080-exec-2] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 17 to cart for user ****@****.***
2025-05-27 11:38:43.076  INFO [2a8bb87c-63b3-4461-8e0c-465a02b42c68] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Flight ID 17 added/incremented in persistent cart for user ****@****.***.
2025-05-27 11:38:43.089 DEBUG [08b6ce4c-0d7b-4f11-946b-c69e7fa94e6c] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:43.099 DEBUG [08b6ce4c-0d7b-4f11-946b-c69e7fa94e6c] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C581AE4CC8B41166B71AC477A44E1CF0
2025-05-27 11:38:43.100 DEBUG [08b6ce4c-0d7b-4f11-946b-c69e7fa94e6c] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:43.100  INFO [08b6ce4c-0d7b-4f11-946b-c69e7fa94e6c] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:43.146  INFO [08b6ce4c-0d7b-4f11-946b-c69e7fa94e6c] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:38:43.348 DEBUG [f8e691e4-0c86-4355-aa83-495f89ec9cae] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:43.365 DEBUG [f8e691e4-0c86-4355-aa83-495f89ec9cae] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 64508425D918EBB9EA9B6783EFDF7C88
2025-05-27 11:38:43.366 DEBUG [f8e691e4-0c86-4355-aa83-495f89ec9cae] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:43.366  INFO [f8e691e4-0c86-4355-aa83-495f89ec9cae] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:43.410  INFO [f8e691e4-0c86-4355-aa83-495f89ec9cae] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:38:43.418 DEBUG [1571246f-aa12-4fe5-86f3-1073828d9bc0] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:38:43.427 DEBUG [1571246f-aa12-4fe5-86f3-1073828d9bc0] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:38:43.427  INFO [1571246f-aa12-4fe5-86f3-1073828d9bc0] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:38:43.471  INFO [1571246f-aa12-4fe5-86f3-1073828d9bc0] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:07.568 DEBUG [53e9fc48-7a36-4b7c-b48a-e08b10deb147] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:07.579 DEBUG [53e9fc48-7a36-4b7c-b48a-e08b10deb147] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 73DB3258181F00F339C1585C98D05406
2025-05-27 11:39:07.581 DEBUG [53e9fc48-7a36-4b7c-b48a-e08b10deb147] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:07.582  INFO [53e9fc48-7a36-4b7c-b48a-e08b10deb147] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:07.665  INFO [53e9fc48-7a36-4b7c-b48a-e08b10deb147] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:13.592 DEBUG [dd5eaadd-5d5c-4e40-9b7e-aff01e502693] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:13.603 DEBUG [dd5eaadd-5d5c-4e40-9b7e-aff01e502693] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8DC652F6FBFB9C1A42AFFF8EAC6ED538
2025-05-27 11:39:13.604 DEBUG [dd5eaadd-5d5c-4e40-9b7e-aff01e502693] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:13.604  INFO [dd5eaadd-5d5c-4e40-9b7e-aff01e502693] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:13.649  INFO [dd5eaadd-5d5c-4e40-9b7e-aff01e502693] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:18.019 DEBUG [f452fd99-a96b-4d44-86db-cefee731f5ee] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:18.030 DEBUG [f452fd99-a96b-4d44-86db-cefee731f5ee] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 782102190F4FF5C3638961CA877EE54A
2025-05-27 11:39:18.031 DEBUG [f452fd99-a96b-4d44-86db-cefee731f5ee] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:18.032  INFO [f452fd99-a96b-4d44-86db-cefee731f5ee] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:18.078  INFO [f452fd99-a96b-4d44-86db-cefee731f5ee] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:19.406 DEBUG [10350606-5d24-4c28-856b-5d0eac4fa281] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:19.421 DEBUG [10350606-5d24-4c28-856b-5d0eac4fa281] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EEA2336255DA2C5628EEB8AAEC76074C
2025-05-27 11:39:19.422 DEBUG [10350606-5d24-4c28-856b-5d0eac4fa281] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:19.422  INFO [10350606-5d24-4c28-856b-5d0eac4fa281] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:19.507  INFO [10350606-5d24-4c28-856b-5d0eac4fa281] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:22.505 DEBUG [92f7ce08-a971-4e7d-92a0-424b1fda5d2f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:22.522 DEBUG [92f7ce08-a971-4e7d-92a0-424b1fda5d2f] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C2423CFA9604B70C31165ABFF04849C8
2025-05-27 11:39:22.523 DEBUG [92f7ce08-a971-4e7d-92a0-424b1fda5d2f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:22.524  INFO [92f7ce08-a971-4e7d-92a0-424b1fda5d2f] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:22.571  INFO [92f7ce08-a971-4e7d-92a0-424b1fda5d2f] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:32.371 DEBUG [b22f397b-5fbd-4742-ad09-fb9ffec8052a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:32.384 DEBUG [b22f397b-5fbd-4742-ad09-fb9ffec8052a] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 65C0E5B01CC29669C23CFBD98FCF2A8E
2025-05-27 11:39:32.385 DEBUG [b22f397b-5fbd-4742-ad09-fb9ffec8052a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:32.385  INFO [b22f397b-5fbd-4742-ad09-fb9ffec8052a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:32.427  INFO [b22f397b-5fbd-4742-ad09-fb9ffec8052a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:37.009 DEBUG [a12a5fba-d0a2-4b80-8009-b1e44df7c8e8] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:37.018 DEBUG [a12a5fba-d0a2-4b80-8009-b1e44df7c8e8] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7A5EC7D0EBA648316C17F83B0D29E1CC
2025-05-27 11:39:37.020 DEBUG [a12a5fba-d0a2-4b80-8009-b1e44df7c8e8] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:37.020  INFO [a12a5fba-d0a2-4b80-8009-b1e44df7c8e8] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:37.065  INFO [a12a5fba-d0a2-4b80-8009-b1e44df7c8e8] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:37.984 DEBUG [2e562834-dad8-492c-8cd8-8a49ec4c7228] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:37.996 DEBUG [2e562834-dad8-492c-8cd8-8a49ec4c7228] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2F5BF00C3D22D403F0667C6E5E5429C7
2025-05-27 11:39:37.997 DEBUG [2e562834-dad8-492c-8cd8-8a49ec4c7228] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:37.999  INFO [2e562834-dad8-492c-8cd8-8a49ec4c7228] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:38.075  INFO [2e562834-dad8-492c-8cd8-8a49ec4c7228] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:39.039 DEBUG [04c1e571-9959-47bc-9e25-dab0bc0087fa] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:39.052 DEBUG [04c1e571-9959-47bc-9e25-dab0bc0087fa] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 91FBD2AB6C4212DE45EAC8D9D03CD09C
2025-05-27 11:39:39.053 DEBUG [04c1e571-9959-47bc-9e25-dab0bc0087fa] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:39.053  INFO [04c1e571-9959-47bc-9e25-dab0bc0087fa] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:39.095  INFO [04c1e571-9959-47bc-9e25-dab0bc0087fa] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:41.188 DEBUG [80b979aa-8119-469f-b800-9ddf75b95278] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:41.201 DEBUG [80b979aa-8119-469f-b800-9ddf75b95278] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 92E3E79DFBCD94802F6A51894EF0289A
2025-05-27 11:39:41.202 DEBUG [80b979aa-8119-469f-b800-9ddf75b95278] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:41.202  INFO [80b979aa-8119-469f-b800-9ddf75b95278] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:41.243  INFO [80b979aa-8119-469f-b800-9ddf75b95278] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:39:51.832 DEBUG [10b59c57-eb18-4688-83d3-e0df6ead37e5] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:39:51.843 DEBUG [10b59c57-eb18-4688-83d3-e0df6ead37e5] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4DE3C61B0C1D6E08EF34B90ED71CE570
2025-05-27 11:39:51.844 DEBUG [10b59c57-eb18-4688-83d3-e0df6ead37e5] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:39:51.844  INFO [10b59c57-eb18-4688-83d3-e0df6ead37e5] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:39:51.894  INFO [10b59c57-eb18-4688-83d3-e0df6ead37e5] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:40:03.450 DEBUG [23b513c0-9371-4dff-a721-3d4d6129c299] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:40:03.460 DEBUG [23b513c0-9371-4dff-a721-3d4d6129c299] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 09680164F0CCACA0C3A4A40F57CA23C0
2025-05-27 11:40:03.461 DEBUG [23b513c0-9371-4dff-a721-3d4d6129c299] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:40:03.462  INFO [23b513c0-9371-4dff-a721-3d4d6129c299] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:40:03.511  INFO [23b513c0-9371-4dff-a721-3d4d6129c299] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:40:06.339 DEBUG [6fe0e9c9-7e2d-4396-8f4e-26e997e920c4] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:40:06.353 DEBUG [6fe0e9c9-7e2d-4396-8f4e-26e997e920c4] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 008F9C2B9527DCE021FD0859AA4CE4A4
2025-05-27 11:40:06.354 DEBUG [6fe0e9c9-7e2d-4396-8f4e-26e997e920c4] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:40:06.355  INFO [6fe0e9c9-7e2d-4396-8f4e-26e997e920c4] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:40:06.406  INFO [6fe0e9c9-7e2d-4396-8f4e-26e997e920c4] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:40:12.756 DEBUG [05592c4a-f19e-4361-bad2-dbc62d3d97b7] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:40:12.765 DEBUG [05592c4a-f19e-4361-bad2-dbc62d3d97b7] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F186DC4E726FA80E0A93F40E59CF37CA
2025-05-27 11:40:12.766 DEBUG [05592c4a-f19e-4361-bad2-dbc62d3d97b7] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:40:12.766  INFO [05592c4a-f19e-4361-bad2-dbc62d3d97b7] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:40:12.809  INFO [05592c4a-f19e-4361-bad2-dbc62d3d97b7] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:40:15.999 DEBUG [a38c7494-c748-43d6-90d5-ae280c2e81b4] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:40:16.012 DEBUG [a38c7494-c748-43d6-90d5-ae280c2e81b4] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 49D9852093DD9B5EFC63A7A646B9A134
2025-05-27 11:40:16.014 DEBUG [a38c7494-c748-43d6-90d5-ae280c2e81b4] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:40:16.015  INFO [a38c7494-c748-43d6-90d5-ae280c2e81b4] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:40:16.081  INFO [a38c7494-c748-43d6-90d5-ae280c2e81b4] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:40:28.218 DEBUG [bcf8e743-bbc1-403c-8f95-9a47391098ed] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:40:28.229 DEBUG [bcf8e743-bbc1-403c-8f95-9a47391098ed] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 535A9D53DCAB28BF1C5AE6066DCA7DC8
2025-05-27 11:40:28.230 DEBUG [bcf8e743-bbc1-403c-8f95-9a47391098ed] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:40:28.231  INFO [bcf8e743-bbc1-403c-8f95-9a47391098ed] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:40:28.274  INFO [bcf8e743-bbc1-403c-8f95-9a47391098ed] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:40:29.831 DEBUG [ad36ea4b-90f8-43ab-ac65-acdc19733cfb] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:40:29.841 DEBUG [ad36ea4b-90f8-43ab-ac65-acdc19733cfb] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E21E04AD69791483CB59A95268A462D4
2025-05-27 11:40:29.841 DEBUG [ad36ea4b-90f8-43ab-ac65-acdc19733cfb] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:40:29.842  INFO [ad36ea4b-90f8-43ab-ac65-acdc19733cfb] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:40:29.882  INFO [ad36ea4b-90f8-43ab-ac65-acdc19733cfb] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:26.112 DEBUG [07b13335-c764-4b25-a9c6-fe6ac2f59be7] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:26.126 DEBUG [07b13335-c764-4b25-a9c6-fe6ac2f59be7] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 544A0A11B2A53A4862A741DF4B2E49BC
2025-05-27 11:41:26.127 DEBUG [07b13335-c764-4b25-a9c6-fe6ac2f59be7] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:26.127  INFO [07b13335-c764-4b25-a9c6-fe6ac2f59be7] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:26.178  INFO [07b13335-c764-4b25-a9c6-fe6ac2f59be7] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:27.837 DEBUG [a1029c8d-565a-413a-b66d-9a2f98955db7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:27.848 DEBUG [a1029c8d-565a-413a-b66d-9a2f98955db7] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 66B5B6E705F486C01BBCC10EDA905487
2025-05-27 11:41:27.849 DEBUG [a1029c8d-565a-413a-b66d-9a2f98955db7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:27.850  INFO [a1029c8d-565a-413a-b66d-9a2f98955db7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:27.899  INFO [a1029c8d-565a-413a-b66d-9a2f98955db7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:37.181 DEBUG [a9e2e927-631a-4da0-bf12-9487eb285f34] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:37.190 DEBUG [a9e2e927-631a-4da0-bf12-9487eb285f34] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 379D1E9C3127835FE8AA3C6F7E17EFDE
2025-05-27 11:41:37.191 DEBUG [a9e2e927-631a-4da0-bf12-9487eb285f34] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:37.191  INFO [a9e2e927-631a-4da0-bf12-9487eb285f34] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:37.236  INFO [a9e2e927-631a-4da0-bf12-9487eb285f34] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:42.523 DEBUG [0235e4b2-dc43-45f7-b426-2d605340c75d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:42.534 DEBUG [0235e4b2-dc43-45f7-b426-2d605340c75d] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C8F120567CA49C7FE1B7228CEC0C1123
2025-05-27 11:41:42.535 DEBUG [0235e4b2-dc43-45f7-b426-2d605340c75d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:42.535  INFO [0235e4b2-dc43-45f7-b426-2d605340c75d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:42.583  INFO [0235e4b2-dc43-45f7-b426-2d605340c75d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:45.928 DEBUG [060f02ec-cb95-4463-852c-cae003c9afa9] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:45.937 DEBUG [060f02ec-cb95-4463-852c-cae003c9afa9] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 39154BF949E417346C1E77C0445430C6
2025-05-27 11:41:45.938 DEBUG [060f02ec-cb95-4463-852c-cae003c9afa9] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:45.939  INFO [060f02ec-cb95-4463-852c-cae003c9afa9] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:45.981  INFO [060f02ec-cb95-4463-852c-cae003c9afa9] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:48.396 DEBUG [c513da0d-7288-4ab3-82f7-78a6d4146b56] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:48.416 DEBUG [c513da0d-7288-4ab3-82f7-78a6d4146b56] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1C888473EFB64C11D789B02B569F8934
2025-05-27 11:41:48.416 DEBUG [c513da0d-7288-4ab3-82f7-78a6d4146b56] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:48.417  INFO [c513da0d-7288-4ab3-82f7-78a6d4146b56] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:48.456  INFO [c513da0d-7288-4ab3-82f7-78a6d4146b56] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:49.391 DEBUG [3ebee834-e94c-4370-8c7c-6ad98a108f7d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:49.401 DEBUG [3ebee834-e94c-4370-8c7c-6ad98a108f7d] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 869AB544458B42C6DFA7E0241F6E189E
2025-05-27 11:41:49.402 DEBUG [3ebee834-e94c-4370-8c7c-6ad98a108f7d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:49.402  INFO [3ebee834-e94c-4370-8c7c-6ad98a108f7d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:49.447  INFO [3ebee834-e94c-4370-8c7c-6ad98a108f7d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:51.513 DEBUG [8839162d-664b-439e-9453-a04c2af72c49] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:51.525 DEBUG [8839162d-664b-439e-9453-a04c2af72c49] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 154C4FC65485889AA519BACD0EEE7372
2025-05-27 11:41:51.525 DEBUG [8839162d-664b-439e-9453-a04c2af72c49] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:51.526  INFO [8839162d-664b-439e-9453-a04c2af72c49] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:51.565  INFO [8839162d-664b-439e-9453-a04c2af72c49] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:54.638 DEBUG [84c2e18a-080b-4ea7-97cf-5ab319a73dce] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:54.648 DEBUG [84c2e18a-080b-4ea7-97cf-5ab319a73dce] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3CCFFE66D5101B31823FD2A7B67208D6
2025-05-27 11:41:54.650 DEBUG [84c2e18a-080b-4ea7-97cf-5ab319a73dce] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:54.650  INFO [84c2e18a-080b-4ea7-97cf-5ab319a73dce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:54.695  INFO [84c2e18a-080b-4ea7-97cf-5ab319a73dce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:41:57.240 DEBUG [40aee854-48df-437e-8682-4e97d3061526] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:41:57.251 DEBUG [40aee854-48df-437e-8682-4e97d3061526] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D15E555CECEE414DB02A00D9F4799140
2025-05-27 11:41:57.252 DEBUG [40aee854-48df-437e-8682-4e97d3061526] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:41:57.253  INFO [40aee854-48df-437e-8682-4e97d3061526] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:41:57.299  INFO [40aee854-48df-437e-8682-4e97d3061526] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:00.162 DEBUG [bead0878-f29f-4fb5-9364-ea070061e122] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:00.174 DEBUG [bead0878-f29f-4fb5-9364-ea070061e122] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E0396046B77087B77D1C3708354DD77D
2025-05-27 11:42:00.175 DEBUG [bead0878-f29f-4fb5-9364-ea070061e122] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:00.176  INFO [bead0878-f29f-4fb5-9364-ea070061e122] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:00.230  INFO [bead0878-f29f-4fb5-9364-ea070061e122] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:01.528 DEBUG [941ba2be-c2f0-453e-951e-65520ecd98b7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:01.537 DEBUG [941ba2be-c2f0-453e-951e-65520ecd98b7] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FADD2B795BE5E1996FE70EFA31F61CCD
2025-05-27 11:42:01.539 DEBUG [941ba2be-c2f0-453e-951e-65520ecd98b7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:01.539  INFO [941ba2be-c2f0-453e-951e-65520ecd98b7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:01.580  INFO [941ba2be-c2f0-453e-951e-65520ecd98b7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:03.332 DEBUG [a5305153-ebed-41a3-be9b-b6e6aea19d70] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:03.342 DEBUG [a5305153-ebed-41a3-be9b-b6e6aea19d70] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FCEC07786B25D5CDBA42C9BDA7F516B9
2025-05-27 11:42:03.343 DEBUG [a5305153-ebed-41a3-be9b-b6e6aea19d70] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:03.343  INFO [a5305153-ebed-41a3-be9b-b6e6aea19d70] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:03.412  INFO [a5305153-ebed-41a3-be9b-b6e6aea19d70] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:07.178 DEBUG [580c0788-e1a9-405d-b8ee-ff302dcf185d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:07.189 DEBUG [580c0788-e1a9-405d-b8ee-ff302dcf185d] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5B62D20575303894AAE4919122F4C68A
2025-05-27 11:42:07.191 DEBUG [580c0788-e1a9-405d-b8ee-ff302dcf185d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:07.192  INFO [580c0788-e1a9-405d-b8ee-ff302dcf185d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:07.238  INFO [580c0788-e1a9-405d-b8ee-ff302dcf185d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:41.559 DEBUG [d1983784-8627-4961-95c5-a48f48e941c4] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:41.572 DEBUG [d1983784-8627-4961-95c5-a48f48e941c4] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BD5C047EC447571354624313F051FBC1
2025-05-27 11:42:41.574 DEBUG [d1983784-8627-4961-95c5-a48f48e941c4] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:41.574  INFO [d1983784-8627-4961-95c5-a48f48e941c4] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:41.624  INFO [d1983784-8627-4961-95c5-a48f48e941c4] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:44.689 DEBUG [9822c87d-2a97-4609-bd45-eccb426875da] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:44.701 DEBUG [9822c87d-2a97-4609-bd45-eccb426875da] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8719828BD2715CFBEDCEFDE9BCAE5838
2025-05-27 11:42:44.702 DEBUG [9822c87d-2a97-4609-bd45-eccb426875da] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:44.702  INFO [9822c87d-2a97-4609-bd45-eccb426875da] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:44.747  INFO [9822c87d-2a97-4609-bd45-eccb426875da] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:45.787 DEBUG [e8aef373-b124-4547-805e-57b986a00e0d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:45.798 DEBUG [e8aef373-b124-4547-805e-57b986a00e0d] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 794D483F0848FEFACB63733B9468EBC4
2025-05-27 11:42:45.799 DEBUG [e8aef373-b124-4547-805e-57b986a00e0d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:45.799  INFO [e8aef373-b124-4547-805e-57b986a00e0d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:45.843  INFO [e8aef373-b124-4547-805e-57b986a00e0d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:49.079 DEBUG [b7e0ae1e-4474-4d67-a768-d79b872038ae] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:49.096 DEBUG [b7e0ae1e-4474-4d67-a768-d79b872038ae] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 63E946B616255C3E63B776058E801703
2025-05-27 11:42:49.097 DEBUG [b7e0ae1e-4474-4d67-a768-d79b872038ae] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:49.097  INFO [b7e0ae1e-4474-4d67-a768-d79b872038ae] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:49.154  INFO [b7e0ae1e-4474-4d67-a768-d79b872038ae] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:42:59.424 DEBUG [41fd1e8c-d3b7-4d33-b122-7b4e3519f6af] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:42:59.434 DEBUG [41fd1e8c-d3b7-4d33-b122-7b4e3519f6af] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2FF17D7CAFE7553FB8C4ED0963E0F210
2025-05-27 11:42:59.435 DEBUG [41fd1e8c-d3b7-4d33-b122-7b4e3519f6af] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:42:59.436  INFO [41fd1e8c-d3b7-4d33-b122-7b4e3519f6af] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:42:59.483  INFO [41fd1e8c-d3b7-4d33-b122-7b4e3519f6af] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:10.040 DEBUG [55df1eb5-960c-49ee-a5ad-1ef42e0e0d64] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:10.053 DEBUG [55df1eb5-960c-49ee-a5ad-1ef42e0e0d64] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FB0553AC9429468770A4DBD63313FCAF
2025-05-27 11:43:10.054 DEBUG [55df1eb5-960c-49ee-a5ad-1ef42e0e0d64] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:10.054  INFO [55df1eb5-960c-49ee-a5ad-1ef42e0e0d64] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:10.098  INFO [55df1eb5-960c-49ee-a5ad-1ef42e0e0d64] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:10.107 DEBUG [8f89e6f2-7567-48dd-a747-1f3455529432] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:10.118 DEBUG [8f89e6f2-7567-48dd-a747-1f3455529432] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:10.119  INFO [8f89e6f2-7567-48dd-a747-1f3455529432] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:10.174  INFO [8f89e6f2-7567-48dd-a747-1f3455529432] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:14.513 DEBUG [e2b1b10d-fd27-4e14-b016-5e4a31ae870b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:14.524 DEBUG [e2b1b10d-fd27-4e14-b016-5e4a31ae870b] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 80A80C739FCC804DD642710A89E79931
2025-05-27 11:43:14.526 DEBUG [e2b1b10d-fd27-4e14-b016-5e4a31ae870b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:14.526  INFO [e2b1b10d-fd27-4e14-b016-5e4a31ae870b] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:14.572  INFO [e2b1b10d-fd27-4e14-b016-5e4a31ae870b] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:14.580 DEBUG [f3f5f9f0-933b-44e9-995a-531ce63eb06a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:14.588 DEBUG [f3f5f9f0-933b-44e9-995a-531ce63eb06a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:14.589  INFO [f3f5f9f0-933b-44e9-995a-531ce63eb06a] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:14.630  INFO [f3f5f9f0-933b-44e9-995a-531ce63eb06a] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:17.060 DEBUG [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:43:17.061 DEBUG [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:43:17.062 DEBUG [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:43:17.062  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:43:17.062  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:43:17.063  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:43:17.063  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 11:43:17.063  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 11:43:17.107  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 11:43:17.107  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 11:43:17.107  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 11:43:17.107  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 11:43:17.107  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 11:43:17.108  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 11:43:17.108  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 11:43:17.108  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 11:43:17.108  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 11:43:17.108  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 11:43:17.108  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 11:43:17.108  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 11:43:17.109  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 11:43:17.109  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 11:43:17.109  INFO [a33627d2-0662-4100-a16b-02bd25206f2b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 11:43:18.015 DEBUG [47d14973-07d6-4715-8f79-9ef4fcb4bdd6] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:18.026 DEBUG [47d14973-07d6-4715-8f79-9ef4fcb4bdd6] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D1BC9AA7BEDC02F41634D86DC3A85BC4
2025-05-27 11:43:18.027 DEBUG [47d14973-07d6-4715-8f79-9ef4fcb4bdd6] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:18.030  INFO [47d14973-07d6-4715-8f79-9ef4fcb4bdd6] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:18.080  INFO [47d14973-07d6-4715-8f79-9ef4fcb4bdd6] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:18.088 DEBUG [84fbcd99-ba5a-4e2c-9aa1-6dab937d6f6a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:18.106 DEBUG [84fbcd99-ba5a-4e2c-9aa1-6dab937d6f6a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:18.106  INFO [84fbcd99-ba5a-4e2c-9aa1-6dab937d6f6a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:18.156  INFO [84fbcd99-ba5a-4e2c-9aa1-6dab937d6f6a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:20.735 DEBUG [90454abb-1c8d-4585-bade-9f119b669f23] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:43:20.735 DEBUG [90454abb-1c8d-4585-bade-9f119b669f23] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:43:20.736 DEBUG [90454abb-1c8d-4585-bade-9f119b669f23] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:43:20.736  INFO [90454abb-1c8d-4585-bade-9f119b669f23] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:43:20.736  INFO [90454abb-1c8d-4585-bade-9f119b669f23] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:43:20.737  INFO [90454abb-1c8d-4585-bade-9f119b669f23] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:43:20.737  INFO [90454abb-1c8d-4585-bade-9f119b669f23] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:43:25.358 DEBUG [336b6434-2603-4c43-97d0-e4ee811934c9] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:43:25.366 DEBUG [336b6434-2603-4c43-97d0-e4ee811934c9] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:43:25.366  INFO [336b6434-2603-4c43-97d0-e4ee811934c9] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:43:25.371  INFO [336b6434-2603-4c43-97d0-e4ee811934c9] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:43:25.429 DEBUG [9729ebb0-ea9e-48cb-8852-b7d46e2b0a22] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:43:25.442 DEBUG [fec84165-0694-414d-be38-61e29a6d16ee] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:25.442 DEBUG [1633356d-ea05-4002-832a-cb48994ee082] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:43:25.443 DEBUG [1633356d-ea05-4002-832a-cb48994ee082] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:43:25.444 DEBUG [1633356d-ea05-4002-832a-cb48994ee082] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:43:25.448  INFO [1633356d-ea05-4002-832a-cb48994ee082] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:43:25.449  INFO [1633356d-ea05-4002-832a-cb48994ee082] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:43:25.453 DEBUG [9729ebb0-ea9e-48cb-8852-b7d46e2b0a22] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A6545489A84E9F859F23FF0482C7D32D
2025-05-27 11:43:25.454 DEBUG [9729ebb0-ea9e-48cb-8852-b7d46e2b0a22] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:43:25.455 DEBUG [fec84165-0694-414d-be38-61e29a6d16ee] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:25.457  INFO [fec84165-0694-414d-be38-61e29a6d16ee] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:25.465  WARN [9729ebb0-ea9e-48cb-8852-b7d46e2b0a22] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:43:25.466  WARN [9729ebb0-ea9e-48cb-8852-b7d46e2b0a22] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:43:25.476 DEBUG [918061dc-2674-4234-8e41-8b0352c918d4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:43:25.486 DEBUG [918061dc-2674-4234-8e41-8b0352c918d4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:43:25.491  WARN [918061dc-2674-4234-8e41-8b0352c918d4] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:43:25.492  WARN [918061dc-2674-4234-8e41-8b0352c918d4] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:43:25.503  INFO [1633356d-ea05-4002-832a-cb48994ee082] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:43:25.510  INFO [fec84165-0694-414d-be38-61e29a6d16ee] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:43:25.512 DEBUG [ee4824e8-2f52-4e28-b6d4-8873b7c89d47] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:43:25.513 DEBUG [ee4824e8-2f52-4e28-b6d4-8873b7c89d47] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:43:25.513 DEBUG [ee4824e8-2f52-4e28-b6d4-8873b7c89d47] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A6545489A84E9F859F23FF0482C7D32D
2025-05-27 11:43:25.514 DEBUG [ee4824e8-2f52-4e28-b6d4-8873b7c89d47] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:43:25.515  INFO [ee4824e8-2f52-4e28-b6d4-8873b7c89d47] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:43:25.515  INFO [ee4824e8-2f52-4e28-b6d4-8873b7c89d47] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-05-28
2025-05-27 11:43:25.564  INFO [ee4824e8-2f52-4e28-b6d4-8873b7c89d47] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:43:39.096 DEBUG [fbfc3cef-91ef-49c7-aa9c-85f131482640] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 11:43:39.105 DEBUG [fbfc3cef-91ef-49c7-aa9c-85f131482640] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B8662921BB39FC75A24D010A0D7E9D16
2025-05-27 11:43:39.106 DEBUG [fbfc3cef-91ef-49c7-aa9c-85f131482640] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 11:43:39.110  INFO [fbfc3cef-91ef-49c7-aa9c-85f131482640] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 15 to persistent cart
2025-05-27 11:43:39.146  INFO [fbfc3cef-91ef-49c7-aa9c-85f131482640] 3964 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 15 to cart for user ****@****.***
2025-05-27 11:43:39.161  INFO [fbfc3cef-91ef-49c7-aa9c-85f131482640] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Flight ID 15 added/incremented in persistent cart for user ****@****.***.
2025-05-27 11:43:39.174 DEBUG [b09fdfc4-2136-4ac0-89e0-5397477a3f59] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:39.185 DEBUG [b09fdfc4-2136-4ac0-89e0-5397477a3f59] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0FC394FDC77095C8C86C8AE672EFF999
2025-05-27 11:43:39.185 DEBUG [b09fdfc4-2136-4ac0-89e0-5397477a3f59] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:39.186  INFO [b09fdfc4-2136-4ac0-89e0-5397477a3f59] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:39.240  INFO [b09fdfc4-2136-4ac0-89e0-5397477a3f59] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:43:39.479 DEBUG [420d5215-bc6f-4140-99e7-1753f3246d72] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:39.496 DEBUG [420d5215-bc6f-4140-99e7-1753f3246d72] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1F91229F8AFC172D8106CAAA88E0125E
2025-05-27 11:43:39.497 DEBUG [420d5215-bc6f-4140-99e7-1753f3246d72] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:39.498  INFO [420d5215-bc6f-4140-99e7-1753f3246d72] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:39.550  INFO [420d5215-bc6f-4140-99e7-1753f3246d72] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:43:39.557 DEBUG [c9a0e7ab-cdbd-438f-b0c7-f3ded50753b2] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:39.566 DEBUG [c9a0e7ab-cdbd-438f-b0c7-f3ded50753b2] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:39.567  INFO [c9a0e7ab-cdbd-438f-b0c7-f3ded50753b2] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:39.615  INFO [c9a0e7ab-cdbd-438f-b0c7-f3ded50753b2] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:43:45.666 DEBUG [16cd57d1-858b-486d-ae46-54a3ac732e46] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:45.677 DEBUG [16cd57d1-858b-486d-ae46-54a3ac732e46] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2F98658907F94AD24D35C623C33B3472
2025-05-27 11:43:45.678 DEBUG [16cd57d1-858b-486d-ae46-54a3ac732e46] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:45.679  INFO [16cd57d1-858b-486d-ae46-54a3ac732e46] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:45.721  INFO [16cd57d1-858b-486d-ae46-54a3ac732e46] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:43:45.729 DEBUG [8995298b-ad07-4586-a684-15afc0054902] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:43:45.738 DEBUG [8995298b-ad07-4586-a684-15afc0054902] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:43:45.740  INFO [8995298b-ad07-4586-a684-15afc0054902] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:43:45.787  INFO [8995298b-ad07-4586-a684-15afc0054902] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:47:32.603 DEBUG [3e0fe024-5411-44c3-b1b6-962638a97fea] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:47:32.614 DEBUG [3e0fe024-5411-44c3-b1b6-962638a97fea] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0B9D90B87A99CB0CCA5F5E25AAC5C07F
2025-05-27 11:47:32.615 DEBUG [3e0fe024-5411-44c3-b1b6-962638a97fea] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:47:32.616  INFO [3e0fe024-5411-44c3-b1b6-962638a97fea] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:47:32.675  INFO [3e0fe024-5411-44c3-b1b6-962638a97fea] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 2 items, 2 total quantity.
2025-05-27 11:47:48.340 DEBUG [83c52d79-bdb7-4051-b1cb-0370991967de] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/create-payment-intent
2025-05-27 11:47:48.341 DEBUG [83c52d79-bdb7-4051-b1cb-0370991967de] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:47:48.341 DEBUG [83c52d79-bdb7-4051-b1cb-0370991967de] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/create-payment-intent
2025-05-27 11:47:48.369  INFO [83c52d79-bdb7-4051-b1cb-0370991967de] 3964 --- [nio-8080-exec-9] o.e.x.controllers.PaymentController      : Creating payment intent for amount: 48490 ron
2025-05-27 11:47:49.073  INFO [83c52d79-bdb7-4051-b1cb-0370991967de] 3964 --- [nio-8080-exec-9] o.e.x.controllers.PaymentController      : Payment intent created successfully: pi_3RTJApGf8s1WZJnq1vINyXY3
2025-05-27 11:47:50.289 DEBUG [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/confirm
2025-05-27 11:47:50.297 DEBUG [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B31DC49EDC99B927525A2E4DA0B63566
2025-05-27 11:47:50.298 DEBUG [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/confirm
2025-05-27 11:47:50.300  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Received purchase confirmation request.
2025-05-27 11:47:50.304  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Processing purchase for user: ****@****.***
2025-05-27 11:47:50.338  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : User ****@****.*** persistent cart has 2 items.
2025-05-27 11:47:50.338  WARN [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : !!! SIMULATING successful payment processing for user ****@****.*** !!!
2025-05-27 11:47:50.340  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Creating order from persistent cart for user: ****@****.***
2025-05-27 11:47:50.358  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Order 1 created for user ****@****.***, status: PENDING_PAYMENT. Total: 63.98
2025-05-27 11:47:50.359  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Created ticket for flight XT-OTP-AMS-1 for user ****@****.***
2025-05-27 11:47:50.360  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Created ticket for flight XT-OTP-FCO-1 for user ****@****.***
2025-05-27 11:47:51.800  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.services.EmailServiceImpl          : Purchase confirmation email sent to ****@****.***
2025-05-27 11:47:51.801  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Purchase confirmation email sent to user: ****@****.***
2025-05-27 11:47:51.826  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Order successfully created for user ****@****.***. Confirmation: 1
2025-05-27 11:47:51.829  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.xlr8travel.services.CartServiceImpl  : Clearing 2 items from cart for user ****@****.***
2025-05-27 11:47:51.849  INFO [d4c8deee-3453-437c-aa56-21e6e26e6275] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Persistent cart cleared for user ****@****.***.
2025-05-27 11:47:51.859 DEBUG [6b06899f-cdbc-441a-8444-15c7ddaa4dea] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/17
2025-05-27 11:47:51.943 DEBUG [6b06899f-cdbc-441a-8444-15c7ddaa4dea] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6394ACDA69FFDAA66F1EB5A78AAC465F
2025-05-27 11:47:51.943 DEBUG [6b06899f-cdbc-441a-8444-15c7ddaa4dea] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/17
2025-05-27 11:47:52.023  INFO [6b06899f-cdbc-441a-8444-15c7ddaa4dea] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 17 from persistent cart
2025-05-27 11:47:52.030  WARN [6b06899f-cdbc-441a-8444-15c7ddaa4dea] 3964 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : Attempted to remove flight ID 17 not found in cart for user ****@****.***
2025-05-27 11:47:52.034  WARN [6b06899f-cdbc-441a-8444-15c7ddaa4dea] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Attempted to remove flight ID 17 not found in persistent cart for user ****@****.***
2025-05-27 11:47:52.046 DEBUG [a169af70-aef2-433c-9286-371fdbb700fd] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/15
2025-05-27 11:47:52.135 DEBUG [a169af70-aef2-433c-9286-371fdbb700fd] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CFD43440E16B5BF50B215FF884347EAF
2025-05-27 11:47:52.136 DEBUG [a169af70-aef2-433c-9286-371fdbb700fd] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/15
2025-05-27 11:47:52.232  INFO [a169af70-aef2-433c-9286-371fdbb700fd] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 15 from persistent cart
2025-05-27 11:47:52.251  WARN [a169af70-aef2-433c-9286-371fdbb700fd] 3964 --- [nio-8080-exec-8] o.e.xlr8travel.services.CartServiceImpl  : Attempted to remove flight ID 15 not found in cart for user ****@****.***
2025-05-27 11:47:52.254  WARN [a169af70-aef2-433c-9286-371fdbb700fd] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Attempted to remove flight ID 15 not found in persistent cart for user ****@****.***
2025-05-27 11:47:52.268 DEBUG [10d04053-5820-4c8c-98fe-eeb04e51f066] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:47:52.368 DEBUG [10d04053-5820-4c8c-98fe-eeb04e51f066] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 76F3C62D61DAA26875DBA45E5F92F531
2025-05-27 11:47:52.369 DEBUG [10d04053-5820-4c8c-98fe-eeb04e51f066] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:47:52.369  INFO [10d04053-5820-4c8c-98fe-eeb04e51f066] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:47:52.454  INFO [10d04053-5820-4c8c-98fe-eeb04e51f066] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:47:56.552 DEBUG [f4b90234-be9e-49f5-acf9-98b6228e339e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:47:56.552 DEBUG [f4b90234-be9e-49f5-acf9-98b6228e339e] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:47:56.553 DEBUG [f4b90234-be9e-49f5-acf9-98b6228e339e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:47:56.554  INFO [f4b90234-be9e-49f5-acf9-98b6228e339e] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:47:56.554  INFO [f4b90234-be9e-49f5-acf9-98b6228e339e] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:47:56.554  INFO [f4b90234-be9e-49f5-acf9-98b6228e339e] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:47:56.554  INFO [f4b90234-be9e-49f5-acf9-98b6228e339e] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:47:57.915 DEBUG [ca21c630-ebe0-4214-a7c4-89ab77666c59] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:47:58.020 DEBUG [ca21c630-ebe0-4214-a7c4-89ab77666c59] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 750C34F1F7742FED478986D6BBB52B74
2025-05-27 11:47:58.020 DEBUG [ca21c630-ebe0-4214-a7c4-89ab77666c59] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:47:58.021  INFO [ca21c630-ebe0-4214-a7c4-89ab77666c59] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:47:58.126  INFO [ca21c630-ebe0-4214-a7c4-89ab77666c59] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:47:58.133 DEBUG [384f2aab-02bf-4289-bfd0-e89cb01585a3] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:47:58.223 DEBUG [384f2aab-02bf-4289-bfd0-e89cb01585a3] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:47:58.224  INFO [384f2aab-02bf-4289-bfd0-e89cb01585a3] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:47:58.328  INFO [384f2aab-02bf-4289-bfd0-e89cb01585a3] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:47:59.523 DEBUG [7a65a8a2-a964-442c-90c2-1549332c6d94] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:47:59.523 DEBUG [7a65a8a2-a964-442c-90c2-1549332c6d94] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:47:59.523 DEBUG [7a65a8a2-a964-442c-90c2-1549332c6d94] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:47:59.524  INFO [7a65a8a2-a964-442c-90c2-1549332c6d94] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:47:59.524  INFO [7a65a8a2-a964-442c-90c2-1549332c6d94] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:47:59.524  INFO [7a65a8a2-a964-442c-90c2-1549332c6d94] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:47:59.524  INFO [7a65a8a2-a964-442c-90c2-1549332c6d94] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:48:00.560 DEBUG [2ea23033-d2b4-4a7c-bac0-6b26e1ec339e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:00.693 DEBUG [2ea23033-d2b4-4a7c-bac0-6b26e1ec339e] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 93065BCCACCFB0526639742A1F3E1D30
2025-05-27 11:48:00.694 DEBUG [2ea23033-d2b4-4a7c-bac0-6b26e1ec339e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:00.694  INFO [2ea23033-d2b4-4a7c-bac0-6b26e1ec339e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:00.810  INFO [2ea23033-d2b4-4a7c-bac0-6b26e1ec339e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:00.819 DEBUG [b74a15a3-5c50-4a8e-9692-22416ae87d5a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:00.926 DEBUG [b74a15a3-5c50-4a8e-9692-22416ae87d5a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:00.926  INFO [b74a15a3-5c50-4a8e-9692-22416ae87d5a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:01.016  INFO [b74a15a3-5c50-4a8e-9692-22416ae87d5a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:36.657 DEBUG [87f2ec77-b5dd-4b43-ac11-1ef223f3c2ac] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:36.772 DEBUG [87f2ec77-b5dd-4b43-ac11-1ef223f3c2ac] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5F25BA8734B3D1D5F2D9DF5776B95A36
2025-05-27 11:48:36.772 DEBUG [87f2ec77-b5dd-4b43-ac11-1ef223f3c2ac] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:36.773  INFO [87f2ec77-b5dd-4b43-ac11-1ef223f3c2ac] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:36.875  INFO [87f2ec77-b5dd-4b43-ac11-1ef223f3c2ac] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:37.753 DEBUG [91a745d3-74e3-4fd4-bf0d-523c304b949d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:37.883 DEBUG [91a745d3-74e3-4fd4-bf0d-523c304b949d] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 995D0560B4BC2B593C2EA9E7FEC1CC07
2025-05-27 11:48:37.884 DEBUG [91a745d3-74e3-4fd4-bf0d-523c304b949d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:37.885  INFO [91a745d3-74e3-4fd4-bf0d-523c304b949d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:38.018  INFO [91a745d3-74e3-4fd4-bf0d-523c304b949d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:41.822 DEBUG [5a4237e9-2042-4563-b270-400bd67b17ff] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:41.923 DEBUG [5a4237e9-2042-4563-b270-400bd67b17ff] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1412337B41F12A76A83FAAF0ADFA014D
2025-05-27 11:48:41.924 DEBUG [5a4237e9-2042-4563-b270-400bd67b17ff] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:41.924  INFO [5a4237e9-2042-4563-b270-400bd67b17ff] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:42.035  INFO [5a4237e9-2042-4563-b270-400bd67b17ff] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:46.253 DEBUG [33789221-0a75-4396-aead-dd9adf504fc9] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:46.352 DEBUG [33789221-0a75-4396-aead-dd9adf504fc9] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5287E3CE36A7C19B597DA662FA3D31E3
2025-05-27 11:48:46.353 DEBUG [33789221-0a75-4396-aead-dd9adf504fc9] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:46.353  INFO [33789221-0a75-4396-aead-dd9adf504fc9] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:46.447  INFO [33789221-0a75-4396-aead-dd9adf504fc9] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:48.795 DEBUG [607272ce-18b1-402c-b1af-2dbadbdf6d06] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:48.911 DEBUG [607272ce-18b1-402c-b1af-2dbadbdf6d06] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D4DD27550EE259C0186A700874E1A5CB
2025-05-27 11:48:48.912 DEBUG [607272ce-18b1-402c-b1af-2dbadbdf6d06] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:48.913  INFO [607272ce-18b1-402c-b1af-2dbadbdf6d06] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:49.007  INFO [607272ce-18b1-402c-b1af-2dbadbdf6d06] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:53.198 DEBUG [69113995-2564-4c44-a3f3-a982377b3ca5] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:53.331 DEBUG [69113995-2564-4c44-a3f3-a982377b3ca5] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AF9831204A0F433C97C8C81FB7C1D124
2025-05-27 11:48:53.333 DEBUG [69113995-2564-4c44-a3f3-a982377b3ca5] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:53.333  INFO [69113995-2564-4c44-a3f3-a982377b3ca5] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:53.445  INFO [69113995-2564-4c44-a3f3-a982377b3ca5] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:55.670 DEBUG [ae9baf5d-4388-44e5-802d-49095245de3c] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:55.794 DEBUG [ae9baf5d-4388-44e5-802d-49095245de3c] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5AF40261823C1F0D298F4FFFE25F817E
2025-05-27 11:48:55.795 DEBUG [ae9baf5d-4388-44e5-802d-49095245de3c] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:55.795  INFO [ae9baf5d-4388-44e5-802d-49095245de3c] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:55.900  INFO [ae9baf5d-4388-44e5-802d-49095245de3c] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:48:58.183 DEBUG [ca43e399-160e-4693-b51b-39a9aaf3772d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:48:58.374 DEBUG [ca43e399-160e-4693-b51b-39a9aaf3772d] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4AAA73E8FF35E42B2DDBDFC048C8F173
2025-05-27 11:48:58.375 DEBUG [ca43e399-160e-4693-b51b-39a9aaf3772d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:48:58.376  INFO [ca43e399-160e-4693-b51b-39a9aaf3772d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:48:58.573  INFO [ca43e399-160e-4693-b51b-39a9aaf3772d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:49:03.722 DEBUG [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:49:03.722 DEBUG [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:49:03.723 DEBUG [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:49:03.723  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:49:03.724  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:49:03.724  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:49:03.724  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 11:49:03.724  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 11:49:03.778  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 11:49:03.778  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 11:49:03.778  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 11:49:03.778  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 11:49:03.778  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 11:49:03.779  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 11:49:03.779  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 11:49:03.779  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 11:49:03.779  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 11:49:03.779  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 11:49:03.779  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 11:49:03.779  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 11:49:03.780  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 11:49:03.780  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 11:49:03.780  INFO [f12c2da3-fade-42f4-855f-00755a77ff9e] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 11:49:07.597 DEBUG [635efbe4-3a98-4df6-948a-945168174028] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:49:07.705 DEBUG [635efbe4-3a98-4df6-948a-945168174028] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:49:07.705  INFO [635efbe4-3a98-4df6-948a-945168174028] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:49:07.829  INFO [635efbe4-3a98-4df6-948a-945168174028] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:49:07.893 DEBUG [d8673361-5f61-4524-9a2d-380335bb4d31] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:49:07.910 DEBUG [628d6fd5-9904-4e78-8f3c-2d9144414d07] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:49:07.912 DEBUG [cae23357-e968-4f1f-aa1f-93e7e2a8db8a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:49:07.912 DEBUG [628d6fd5-9904-4e78-8f3c-2d9144414d07] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:49:07.914 DEBUG [628d6fd5-9904-4e78-8f3c-2d9144414d07] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:49:07.919  INFO [628d6fd5-9904-4e78-8f3c-2d9144414d07] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=ATH, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:49:07.921  INFO [628d6fd5-9904-4e78-8f3c-2d9144414d07] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to ATH on 2025-05-28
2025-05-27 11:49:08.011  INFO [628d6fd5-9904-4e78-8f3c-2d9144414d07] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:49:08.020 DEBUG [5994ab46-6d3f-4740-8596-21308f1ec2aa] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:49:08.021 DEBUG [5994ab46-6d3f-4740-8596-21308f1ec2aa] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:49:08.021 DEBUG [5994ab46-6d3f-4740-8596-21308f1ec2aa] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=ATH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:49:08.022  INFO [5994ab46-6d3f-4740-8596-21308f1ec2aa] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=ATH, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:49:08.022  INFO [5994ab46-6d3f-4740-8596-21308f1ec2aa] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to ATH on 2025-05-28
2025-05-27 11:49:08.075 DEBUG [d8673361-5f61-4524-9a2d-380335bb4d31] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A9699F87F7433FD9492F9A7751F05FA0
2025-05-27 11:49:08.076 DEBUG [cae23357-e968-4f1f-aa1f-93e7e2a8db8a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:49:08.076  INFO [cae23357-e968-4f1f-aa1f-93e7e2a8db8a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:49:08.076 DEBUG [d8673361-5f61-4524-9a2d-380335bb4d31] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:49:08.082  INFO [5994ab46-6d3f-4740-8596-21308f1ec2aa] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:49:08.183  WARN [d8673361-5f61-4524-9a2d-380335bb4d31] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:49:08.185  WARN [d8673361-5f61-4524-9a2d-380335bb4d31] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:49:08.193 DEBUG [a104ad40-7c18-4d29-9ed5-d55661a05e53] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:49:08.194  INFO [cae23357-e968-4f1f-aa1f-93e7e2a8db8a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 11:49:08.316 DEBUG [a104ad40-7c18-4d29-9ed5-d55661a05e53] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:49:08.432  WARN [a104ad40-7c18-4d29-9ed5-d55661a05e53] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:49:08.433  WARN [a104ad40-7c18-4d29-9ed5-d55661a05e53] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:49:23.384 DEBUG [4881a9de-10cd-4d5e-a025-2ea1c022cce2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 11:49:23.475 DEBUG [4881a9de-10cd-4d5e-a025-2ea1c022cce2] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DAC024FB8DA9595968EDA456BA1F67AC
2025-05-27 11:49:23.476 DEBUG [4881a9de-10cd-4d5e-a025-2ea1c022cce2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 11:49:23.566  INFO [4881a9de-10cd-4d5e-a025-2ea1c022cce2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 25 to persistent cart
2025-05-27 11:49:23.574  INFO [4881a9de-10cd-4d5e-a025-2ea1c022cce2] 3964 --- [nio-8080-exec-2] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 25 to cart for user ****@****.***
2025-05-27 11:49:23.601  INFO [4881a9de-10cd-4d5e-a025-2ea1c022cce2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Flight ID 25 added/incremented in persistent cart for user ****@****.***.
2025-05-27 11:49:23.614 DEBUG [74e30b27-78aa-46b5-b2c8-02b823e3d225] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:49:23.716 DEBUG [74e30b27-78aa-46b5-b2c8-02b823e3d225] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BF80FD7AB4F82339B7E26DAEB6CF6415
2025-05-27 11:49:23.717 DEBUG [74e30b27-78aa-46b5-b2c8-02b823e3d225] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:49:23.717  INFO [74e30b27-78aa-46b5-b2c8-02b823e3d225] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:49:23.829  INFO [74e30b27-78aa-46b5-b2c8-02b823e3d225] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:49:24.085 DEBUG [7696a7cb-38de-48f0-a238-ef0ee35514fa] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:49:24.192 DEBUG [7696a7cb-38de-48f0-a238-ef0ee35514fa] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A1520360D917326A2477D47C6DC1980A
2025-05-27 11:49:24.193 DEBUG [7696a7cb-38de-48f0-a238-ef0ee35514fa] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:49:24.194  INFO [7696a7cb-38de-48f0-a238-ef0ee35514fa] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:49:24.285  INFO [7696a7cb-38de-48f0-a238-ef0ee35514fa] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:49:24.293 DEBUG [b7d259ac-b0d1-4474-a684-ca64c0a2eece] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:49:24.394 DEBUG [b7d259ac-b0d1-4474-a684-ca64c0a2eece] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:49:24.394  INFO [b7d259ac-b0d1-4474-a684-ca64c0a2eece] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:49:24.485  INFO [b7d259ac-b0d1-4474-a684-ca64c0a2eece] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:49:31.404 DEBUG [c5425454-4c8f-4a79-a596-102da5ab563f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:49:31.514 DEBUG [c5425454-4c8f-4a79-a596-102da5ab563f] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 630B890AFEEE137356705395D56A94E5
2025-05-27 11:49:31.515 DEBUG [c5425454-4c8f-4a79-a596-102da5ab563f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:49:31.515  INFO [c5425454-4c8f-4a79-a596-102da5ab563f] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:49:31.615  INFO [c5425454-4c8f-4a79-a596-102da5ab563f] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:49:31.624 DEBUG [0c7ae52b-09b4-412f-af1a-2e12a2abf22b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:49:31.727 DEBUG [0c7ae52b-09b4-412f-af1a-2e12a2abf22b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:49:31.728  INFO [0c7ae52b-09b4-412f-af1a-2e12a2abf22b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:49:31.820  INFO [0c7ae52b-09b4-412f-af1a-2e12a2abf22b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:49:51.592 DEBUG [4b6ea4e2-0168-43c8-abfb-14dd0eb52193] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:49:51.702 DEBUG [4b6ea4e2-0168-43c8-abfb-14dd0eb52193] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B1B8D038BFDA7547328818F886FFCBF9
2025-05-27 11:49:51.703 DEBUG [4b6ea4e2-0168-43c8-abfb-14dd0eb52193] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:49:51.704  INFO [4b6ea4e2-0168-43c8-abfb-14dd0eb52193] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:49:51.808  INFO [4b6ea4e2-0168-43c8-abfb-14dd0eb52193] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:16.995 DEBUG [bcee80f2-1074-46e3-8287-1cbe38fc186a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:17.105 DEBUG [bcee80f2-1074-46e3-8287-1cbe38fc186a] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3D59F37540F7D37BDC8686E932019CF1
2025-05-27 11:50:17.106 DEBUG [bcee80f2-1074-46e3-8287-1cbe38fc186a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:17.107  INFO [bcee80f2-1074-46e3-8287-1cbe38fc186a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:17.200  INFO [bcee80f2-1074-46e3-8287-1cbe38fc186a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:32.479 DEBUG [0ff154df-c557-4f2d-a5a5-468b2ce83027] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:32.617 DEBUG [0ff154df-c557-4f2d-a5a5-468b2ce83027] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8F7C7130A1AA3851E15DBE13C8B621A2
2025-05-27 11:50:32.618 DEBUG [0ff154df-c557-4f2d-a5a5-468b2ce83027] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:32.619  INFO [0ff154df-c557-4f2d-a5a5-468b2ce83027] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:32.724  INFO [0ff154df-c557-4f2d-a5a5-468b2ce83027] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:36.142 DEBUG [7be81469-53c0-4a94-a093-cd0a49040b7f] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:36.278 DEBUG [7be81469-53c0-4a94-a093-cd0a49040b7f] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E5B24D5EDF4F15473651F3012045CF5E
2025-05-27 11:50:36.279 DEBUG [7be81469-53c0-4a94-a093-cd0a49040b7f] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:36.279  INFO [7be81469-53c0-4a94-a093-cd0a49040b7f] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:36.406  INFO [7be81469-53c0-4a94-a093-cd0a49040b7f] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:38.075 DEBUG [5e739485-2d6b-4dd3-8594-0d89c5adc540] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:38.336 DEBUG [5e739485-2d6b-4dd3-8594-0d89c5adc540] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9D1EFCF6E0CA0B7B064F71A6DC00D656
2025-05-27 11:50:38.338 DEBUG [5e739485-2d6b-4dd3-8594-0d89c5adc540] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:38.339  INFO [5e739485-2d6b-4dd3-8594-0d89c5adc540] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:38.598  INFO [5e739485-2d6b-4dd3-8594-0d89c5adc540] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:42.863 DEBUG [bbd1dd2e-499a-4c8e-a829-745c91c1fb24] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:42.961 DEBUG [bbd1dd2e-499a-4c8e-a829-745c91c1fb24] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3F0FDD3F2292EEABA0AD7157AFEA5C62
2025-05-27 11:50:42.961 DEBUG [bbd1dd2e-499a-4c8e-a829-745c91c1fb24] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:42.962  INFO [bbd1dd2e-499a-4c8e-a829-745c91c1fb24] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:43.058  INFO [bbd1dd2e-499a-4c8e-a829-745c91c1fb24] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:44.780 DEBUG [a2e6ee5f-dbef-4680-8d9c-10e43059de87] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:44.880 DEBUG [a2e6ee5f-dbef-4680-8d9c-10e43059de87] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EFE434851E5C25FE0E3CBA49F16EBBD2
2025-05-27 11:50:44.881 DEBUG [a2e6ee5f-dbef-4680-8d9c-10e43059de87] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:44.882  INFO [a2e6ee5f-dbef-4680-8d9c-10e43059de87] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:44.982  INFO [a2e6ee5f-dbef-4680-8d9c-10e43059de87] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:55.375 DEBUG [df7421cd-a323-424f-ad1e-a056f414100e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:55.499 DEBUG [df7421cd-a323-424f-ad1e-a056f414100e] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A04BA278100B26F830CF37B5A60B1D37
2025-05-27 11:50:55.500 DEBUG [df7421cd-a323-424f-ad1e-a056f414100e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:55.501  INFO [df7421cd-a323-424f-ad1e-a056f414100e] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:55.598  INFO [df7421cd-a323-424f-ad1e-a056f414100e] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:50:57.291 DEBUG [b7413160-abae-44fe-b8be-ca2eede35992] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:50:57.422 DEBUG [b7413160-abae-44fe-b8be-ca2eede35992] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5374EAAB34A1B4D60E40F8740037E791
2025-05-27 11:50:57.423 DEBUG [b7413160-abae-44fe-b8be-ca2eede35992] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:50:57.424  INFO [b7413160-abae-44fe-b8be-ca2eede35992] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:50:57.523  INFO [b7413160-abae-44fe-b8be-ca2eede35992] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:51:05.882 DEBUG [d0547bca-694f-4374-beb4-1b0ed6276319] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:51:05.987 DEBUG [d0547bca-694f-4374-beb4-1b0ed6276319] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E40A82A2FBDB9648D1422682C1F421D8
2025-05-27 11:51:05.988 DEBUG [d0547bca-694f-4374-beb4-1b0ed6276319] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:51:05.988  INFO [d0547bca-694f-4374-beb4-1b0ed6276319] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:51:06.095  INFO [d0547bca-694f-4374-beb4-1b0ed6276319] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:51:12.045 DEBUG [3ab78a5e-1f1c-493a-8170-67e6a01460d4] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:51:12.172 DEBUG [3ab78a5e-1f1c-493a-8170-67e6a01460d4] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D19788F1AF29FB679711C86370B406CF
2025-05-27 11:51:12.173 DEBUG [3ab78a5e-1f1c-493a-8170-67e6a01460d4] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:51:12.174  INFO [3ab78a5e-1f1c-493a-8170-67e6a01460d4] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:51:12.263  INFO [3ab78a5e-1f1c-493a-8170-67e6a01460d4] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:51:23.540 DEBUG [22353787-750e-4125-85c9-c3a4bc65b05d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:51:23.645 DEBUG [22353787-750e-4125-85c9-c3a4bc65b05d] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D96981293CB4543086469B18C005E219
2025-05-27 11:51:23.646 DEBUG [22353787-750e-4125-85c9-c3a4bc65b05d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:51:23.646  INFO [22353787-750e-4125-85c9-c3a4bc65b05d] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:51:23.743  INFO [22353787-750e-4125-85c9-c3a4bc65b05d] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:51:35.665 DEBUG [186218e7-07d6-4f06-ab82-2af07e5ea416] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:51:35.766 DEBUG [186218e7-07d6-4f06-ab82-2af07e5ea416] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 090CDBD0B65426C23369F49CCDA773DE
2025-05-27 11:51:35.766 DEBUG [186218e7-07d6-4f06-ab82-2af07e5ea416] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:51:35.767  INFO [186218e7-07d6-4f06-ab82-2af07e5ea416] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:51:35.900  INFO [186218e7-07d6-4f06-ab82-2af07e5ea416] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:51:45.680 DEBUG [794748a3-c3ae-442d-a9e2-126f71d1d255] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:51:45.781 DEBUG [794748a3-c3ae-442d-a9e2-126f71d1d255] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DFDC166C54EC5E4C77D92D3BC71768D6
2025-05-27 11:51:45.781 DEBUG [794748a3-c3ae-442d-a9e2-126f71d1d255] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:51:45.782  INFO [794748a3-c3ae-442d-a9e2-126f71d1d255] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:51:45.872  INFO [794748a3-c3ae-442d-a9e2-126f71d1d255] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:52:02.159 DEBUG [d5688e4a-a83d-498f-9a9f-e7a658d1eca7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:52:02.279 DEBUG [d5688e4a-a83d-498f-9a9f-e7a658d1eca7] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 24CE109EB48F846E66C36156FE284EDF
2025-05-27 11:52:02.280 DEBUG [d5688e4a-a83d-498f-9a9f-e7a658d1eca7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:52:02.280  INFO [d5688e4a-a83d-498f-9a9f-e7a658d1eca7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:52:02.386  INFO [d5688e4a-a83d-498f-9a9f-e7a658d1eca7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:52:07.812 DEBUG [f33df294-6921-4022-8473-b1dee496b2b0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:52:07.915 DEBUG [f33df294-6921-4022-8473-b1dee496b2b0] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 502EFF78B4ABF17A8719B4E0BBAB47DC
2025-05-27 11:52:07.915 DEBUG [f33df294-6921-4022-8473-b1dee496b2b0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:52:07.916  INFO [f33df294-6921-4022-8473-b1dee496b2b0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:52:08.011  INFO [f33df294-6921-4022-8473-b1dee496b2b0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:52:13.025 DEBUG [bb5475ee-598b-45a3-9098-ea73cecba61d] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:52:13.132 DEBUG [bb5475ee-598b-45a3-9098-ea73cecba61d] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 70884F42A1690D29BC90D9C5AC027C29
2025-05-27 11:52:13.134 DEBUG [bb5475ee-598b-45a3-9098-ea73cecba61d] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:52:13.135  INFO [bb5475ee-598b-45a3-9098-ea73cecba61d] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:52:13.235  INFO [bb5475ee-598b-45a3-9098-ea73cecba61d] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:52:32.712 DEBUG [c7c43783-7302-4c91-9376-c9b1c6f8309a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:52:32.822 DEBUG [c7c43783-7302-4c91-9376-c9b1c6f8309a] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 82B178DBDE044EE3A495C797B296BD67
2025-05-27 11:52:32.823 DEBUG [c7c43783-7302-4c91-9376-c9b1c6f8309a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:52:32.824  INFO [c7c43783-7302-4c91-9376-c9b1c6f8309a] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:52:32.922  INFO [c7c43783-7302-4c91-9376-c9b1c6f8309a] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:52:58.004 DEBUG [a50f9796-7d08-4c5c-8d40-81e852f55662] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:52:58.004 DEBUG [a50f9796-7d08-4c5c-8d40-81e852f55662] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:52:58.005 DEBUG [a50f9796-7d08-4c5c-8d40-81e852f55662] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:52:58.006  INFO [a50f9796-7d08-4c5c-8d40-81e852f55662] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:52:58.006  INFO [a50f9796-7d08-4c5c-8d40-81e852f55662] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:52:58.006  INFO [a50f9796-7d08-4c5c-8d40-81e852f55662] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:52:58.006  INFO [a50f9796-7d08-4c5c-8d40-81e852f55662] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:53:00.427 DEBUG [a6348713-85cd-4655-a305-3198193b0381] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:53:00.537 DEBUG [a6348713-85cd-4655-a305-3198193b0381] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:53:00.537  INFO [a6348713-85cd-4655-a305-3198193b0381] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:53:00.634  INFO [a6348713-85cd-4655-a305-3198193b0381] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:53:00.691 DEBUG [b7d03ef7-57c7-4548-93b0-bfc1dfc80486] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:53:00.691 DEBUG [3bfb9e1f-3d31-44e5-baa5-d9f48cc9d572] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:00.691 DEBUG [444b2f54-f822-44c6-810f-dcb34c4324f5] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:53:00.692 DEBUG [444b2f54-f822-44c6-810f-dcb34c4324f5] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:53:00.694 DEBUG [444b2f54-f822-44c6-810f-dcb34c4324f5] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:53:00.696  INFO [444b2f54-f822-44c6-810f-dcb34c4324f5] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:53:00.696  INFO [444b2f54-f822-44c6-810f-dcb34c4324f5] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:53:00.758  INFO [444b2f54-f822-44c6-810f-dcb34c4324f5] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:53:00.766 DEBUG [43eeb149-0356-4b3f-b594-7b911c423f3a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:53:00.767 DEBUG [43eeb149-0356-4b3f-b594-7b911c423f3a] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:53:00.767 DEBUG [43eeb149-0356-4b3f-b594-7b911c423f3a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 11:53:00.769  INFO [43eeb149-0356-4b3f-b594-7b911c423f3a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 11:53:00.770  INFO [43eeb149-0356-4b3f-b594-7b911c423f3a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 11:53:00.815 DEBUG [3bfb9e1f-3d31-44e5-baa5-d9f48cc9d572] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 43765B4892AE3A8EB021AE5CBE052CFB
2025-05-27 11:53:00.816 DEBUG [3bfb9e1f-3d31-44e5-baa5-d9f48cc9d572] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:00.816  INFO [3bfb9e1f-3d31-44e5-baa5-d9f48cc9d572] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:00.817 DEBUG [b7d03ef7-57c7-4548-93b0-bfc1dfc80486] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:53:00.820  INFO [43eeb149-0356-4b3f-b594-7b911c423f3a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 11:53:00.918  WARN [b7d03ef7-57c7-4548-93b0-bfc1dfc80486] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:53:00.918  WARN [b7d03ef7-57c7-4548-93b0-bfc1dfc80486] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:53:00.925  INFO [3bfb9e1f-3d31-44e5-baa5-d9f48cc9d572] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:00.925 DEBUG [81d1a95f-0d39-4b3c-9662-c008898956cb] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:53:01.043 DEBUG [81d1a95f-0d39-4b3c-9662-c008898956cb] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:53:01.143  WARN [81d1a95f-0d39-4b3c-9662-c008898956cb] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:53:01.144  WARN [81d1a95f-0d39-4b3c-9662-c008898956cb] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:53:09.541 DEBUG [865a2db2-3b53-4c33-89d4-64778de02878] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:09.663 DEBUG [865a2db2-3b53-4c33-89d4-64778de02878] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 630E47D9F7BA2A0CBE8002067AE3FDBE
2025-05-27 11:53:09.664 DEBUG [865a2db2-3b53-4c33-89d4-64778de02878] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:09.664  INFO [865a2db2-3b53-4c33-89d4-64778de02878] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:09.755  INFO [865a2db2-3b53-4c33-89d4-64778de02878] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:09.762 DEBUG [75c7735d-7dad-439b-b81b-28e0a0c81318] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:09.853 DEBUG [75c7735d-7dad-439b-b81b-28e0a0c81318] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:09.854  INFO [75c7735d-7dad-439b-b81b-28e0a0c81318] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:09.944  INFO [75c7735d-7dad-439b-b81b-28e0a0c81318] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:11.793 DEBUG [da8df739-70d5-416b-afd6-f1010a6f1ef3] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:11.894 DEBUG [da8df739-70d5-416b-afd6-f1010a6f1ef3] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BBB655ACCE44296B4B87541B33E0F9E1
2025-05-27 11:53:11.895 DEBUG [da8df739-70d5-416b-afd6-f1010a6f1ef3] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:11.895  INFO [da8df739-70d5-416b-afd6-f1010a6f1ef3] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:11.985  INFO [da8df739-70d5-416b-afd6-f1010a6f1ef3] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:11.993 DEBUG [f8c4c033-4814-49fb-b518-ff9350571dbf] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:12.101 DEBUG [f8c4c033-4814-49fb-b518-ff9350571dbf] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:12.102  INFO [f8c4c033-4814-49fb-b518-ff9350571dbf] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:12.196  INFO [f8c4c033-4814-49fb-b518-ff9350571dbf] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:27.218 DEBUG [d93e301a-1c6b-4f25-93b2-ab4efdfbb43b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:53:27.218 DEBUG [d93e301a-1c6b-4f25-93b2-ab4efdfbb43b] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:53:27.219 DEBUG [d93e301a-1c6b-4f25-93b2-ab4efdfbb43b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:53:27.219  INFO [d93e301a-1c6b-4f25-93b2-ab4efdfbb43b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:53:27.220  INFO [d93e301a-1c6b-4f25-93b2-ab4efdfbb43b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:53:27.220  INFO [d93e301a-1c6b-4f25-93b2-ab4efdfbb43b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:53:27.220  INFO [d93e301a-1c6b-4f25-93b2-ab4efdfbb43b] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:53:39.908 DEBUG [d6186142-f7e3-4508-8387-67454129b545] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:40.008 DEBUG [d6186142-f7e3-4508-8387-67454129b545] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 627E2322304ED34203E867DEB61E2660
2025-05-27 11:53:40.009 DEBUG [d6186142-f7e3-4508-8387-67454129b545] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:40.010  INFO [d6186142-f7e3-4508-8387-67454129b545] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:40.104  INFO [d6186142-f7e3-4508-8387-67454129b545] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:40.112 DEBUG [3a5c58ea-6630-4133-b996-b855c66b15ce] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:40.199 DEBUG [3a5c58ea-6630-4133-b996-b855c66b15ce] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:40.201  INFO [3a5c58ea-6630-4133-b996-b855c66b15ce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:40.289  INFO [3a5c58ea-6630-4133-b996-b855c66b15ce] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:47.413 DEBUG [895ae500-2be0-423d-a6c8-f5065424b352] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:47.510 DEBUG [895ae500-2be0-423d-a6c8-f5065424b352] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9AFD4E1C2EFEDF3A4E572EBA45051925
2025-05-27 11:53:47.511 DEBUG [895ae500-2be0-423d-a6c8-f5065424b352] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:47.512  INFO [895ae500-2be0-423d-a6c8-f5065424b352] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:47.603  INFO [895ae500-2be0-423d-a6c8-f5065424b352] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:47.610 DEBUG [9de51027-1a91-4876-9db8-b25d65418d90] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:53:47.719 DEBUG [9de51027-1a91-4876-9db8-b25d65418d90] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:53:47.720  INFO [9de51027-1a91-4876-9db8-b25d65418d90] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:53:47.831  INFO [9de51027-1a91-4876-9db8-b25d65418d90] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:53:52.002 DEBUG [74e223d8-7133-46cd-8291-8d4d99ab7af6] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:53:52.002 DEBUG [74e223d8-7133-46cd-8291-8d4d99ab7af6] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:53:52.003 DEBUG [74e223d8-7133-46cd-8291-8d4d99ab7af6] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:53:52.003  INFO [74e223d8-7133-46cd-8291-8d4d99ab7af6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:53:52.004  INFO [74e223d8-7133-46cd-8291-8d4d99ab7af6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:53:52.004  INFO [74e223d8-7133-46cd-8291-8d4d99ab7af6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:53:52.004  INFO [74e223d8-7133-46cd-8291-8d4d99ab7af6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:53:54.184 DEBUG [ac4e2878-e57d-47a3-babb-4fe89f0c5493] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 11:53:54.288 DEBUG [ac4e2878-e57d-47a3-babb-4fe89f0c5493] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 10176994FDC03BD8D5C5E9874B9116A8
2025-05-27 11:53:54.289 DEBUG [ac4e2878-e57d-47a3-babb-4fe89f0c5493] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 11:53:54.397  INFO [ac4e2878-e57d-47a3-babb-4fe89f0c5493] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 11:53:54.398  INFO [ac4e2878-e57d-47a3-babb-4fe89f0c5493] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 11:53:54.411 DEBUG [290fdf7b-fbca-4fed-bc37-55289607da17] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 11:53:54.535 DEBUG [290fdf7b-fbca-4fed-bc37-55289607da17] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 11:53:54.627  INFO [290fdf7b-fbca-4fed-bc37-55289607da17] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 11:53:54.627  INFO [290fdf7b-fbca-4fed-bc37-55289607da17] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 11:53:55.186 DEBUG [1fded77e-53e2-4ea2-b18b-8ed74c760ff9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:53:55.282 DEBUG [1fded77e-53e2-4ea2-b18b-8ed74c760ff9] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1F652681EA20571274D2AC32843FB71C
2025-05-27 11:53:55.284 DEBUG [1fded77e-53e2-4ea2-b18b-8ed74c760ff9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:53:55.370  INFO [1fded77e-53e2-4ea2-b18b-8ed74c760ff9] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:53:55.370  INFO [1fded77e-53e2-4ea2-b18b-8ed74c760ff9] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:53:55.376  INFO [1fded77e-53e2-4ea2-b18b-8ed74c760ff9] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 2 tickets eligible for check-in for user 4
2025-05-27 11:53:55.403 DEBUG [740ea79a-5957-4602-b57d-dd059791fc09] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:53:55.498 DEBUG [740ea79a-5957-4602-b57d-dd059791fc09] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:53:55.589  INFO [740ea79a-5957-4602-b57d-dd059791fc09] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:53:55.590  INFO [740ea79a-5957-4602-b57d-dd059791fc09] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:53:55.595  INFO [740ea79a-5957-4602-b57d-dd059791fc09] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 2 tickets eligible for check-in for user 4
2025-05-27 11:54:35.949 DEBUG [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:54:35.950 DEBUG [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:54:35.950 DEBUG [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:54:35.951  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:54:35.951  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:54:35.951  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:54:35.951  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 11:54:35.952  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 11:54:36.000  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 11:54:36.000  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 11:54:36.000  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 11:54:36.000  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 11:54:36.001  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 11:54:36.002  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 11:54:36.002  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 11:54:36.002  INFO [f4dc1766-6792-48c9-8f9a-fd8fc4269743] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 11:54:49.342 DEBUG [d0dffc74-2858-49c2-9d8b-9bfc8434ea8a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 11:54:49.447 DEBUG [d0dffc74-2858-49c2-9d8b-9bfc8434ea8a] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9BF8BDEFE200DCBCC237870AD3E0ADB5
2025-05-27 11:54:49.448 DEBUG [d0dffc74-2858-49c2-9d8b-9bfc8434ea8a] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 11:54:49.537  INFO [d0dffc74-2858-49c2-9d8b-9bfc8434ea8a] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 11:54:49.537  INFO [d0dffc74-2858-49c2-9d8b-9bfc8434ea8a] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 11:54:49.547 DEBUG [f18e85b5-7cc1-4658-ae6a-44fb92b4b6de] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 11:54:49.638 DEBUG [f18e85b5-7cc1-4658-ae6a-44fb92b4b6de] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 11:54:49.725  INFO [f18e85b5-7cc1-4658-ae6a-44fb92b4b6de] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 11:54:49.725  INFO [f18e85b5-7cc1-4658-ae6a-44fb92b4b6de] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 11:54:50.205 DEBUG [2a7a1ab1-4ebb-40b8-9918-a86a9c3a483c] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:54:50.205 DEBUG [2a7a1ab1-4ebb-40b8-9918-a86a9c3a483c] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:54:50.206 DEBUG [2a7a1ab1-4ebb-40b8-9918-a86a9c3a483c] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:54:50.206  INFO [2a7a1ab1-4ebb-40b8-9918-a86a9c3a483c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:54:50.206  INFO [2a7a1ab1-4ebb-40b8-9918-a86a9c3a483c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:54:50.207  INFO [2a7a1ab1-4ebb-40b8-9918-a86a9c3a483c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:54:50.207  INFO [2a7a1ab1-4ebb-40b8-9918-a86a9c3a483c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:54:50.774 DEBUG [4c253925-eec5-4d04-8589-c36d1a79d5d2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:54:50.890 DEBUG [4c253925-eec5-4d04-8589-c36d1a79d5d2] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A799DA4A992DE3139A1C866C2CF4D803
2025-05-27 11:54:50.892 DEBUG [4c253925-eec5-4d04-8589-c36d1a79d5d2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:54:50.892  INFO [4c253925-eec5-4d04-8589-c36d1a79d5d2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:54:51.022  INFO [4c253925-eec5-4d04-8589-c36d1a79d5d2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:54:51.032 DEBUG [11b73f8f-9b26-4c54-ad7d-aedba5329fca] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:54:51.148 DEBUG [11b73f8f-9b26-4c54-ad7d-aedba5329fca] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:54:51.149  INFO [11b73f8f-9b26-4c54-ad7d-aedba5329fca] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:54:51.254  INFO [11b73f8f-9b26-4c54-ad7d-aedba5329fca] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:54:55.847 DEBUG [cc9221e2-d812-481d-86ae-00bd0d67f7de] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:54:55.939 DEBUG [cc9221e2-d812-481d-86ae-00bd0d67f7de] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:54:55.940  INFO [cc9221e2-d812-481d-86ae-00bd0d67f7de] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:54:56.039  INFO [cc9221e2-d812-481d-86ae-00bd0d67f7de] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:54:56.053 DEBUG [f7590cd9-49c1-46a4-a91a-51566831f2a5] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:54:56.152 DEBUG [f7590cd9-49c1-46a4-a91a-51566831f2a5] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1895D52F3679228BFE930E4A880DCCA2
2025-05-27 11:54:56.153 DEBUG [f7590cd9-49c1-46a4-a91a-51566831f2a5] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:54:56.243 DEBUG [fbffe608-0c40-4425-9cd5-03a8f39d670f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:54:56.255  WARN [f7590cd9-49c1-46a4-a91a-51566831f2a5] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:54:56.256  WARN [f7590cd9-49c1-46a4-a91a-51566831f2a5] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:54:56.347 DEBUG [fbffe608-0c40-4425-9cd5-03a8f39d670f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:54:56.348  INFO [fbffe608-0c40-4425-9cd5-03a8f39d670f] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:54:56.446  INFO [fbffe608-0c40-4425-9cd5-03a8f39d670f] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:54:56.458 DEBUG [498c0858-5ae0-4047-a17e-c81d9205683a] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:54:56.557 DEBUG [498c0858-5ae0-4047-a17e-c81d9205683a] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C891151A6E6CE4175F61414ADDF16E76
2025-05-27 11:54:56.558 DEBUG [498c0858-5ae0-4047-a17e-c81d9205683a] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:54:56.651  WARN [498c0858-5ae0-4047-a17e-c81d9205683a] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:54:56.652  WARN [498c0858-5ae0-4047-a17e-c81d9205683a] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:54:59.685 DEBUG [551e97ae-abf9-4bb0-9ca5-cdd8c9e1d6ba] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:54:59.802 DEBUG [551e97ae-abf9-4bb0-9ca5-cdd8c9e1d6ba] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5C2D324CF5526610E4638CECC14E7B59
2025-05-27 11:54:59.803 DEBUG [551e97ae-abf9-4bb0-9ca5-cdd8c9e1d6ba] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:54:59.803  INFO [551e97ae-abf9-4bb0-9ca5-cdd8c9e1d6ba] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:54:59.893  INFO [551e97ae-abf9-4bb0-9ca5-cdd8c9e1d6ba] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:54:59.900 DEBUG [b55ab4d5-27c8-4928-9e69-94cf2c660691] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:55:00.000 DEBUG [b55ab4d5-27c8-4928-9e69-94cf2c660691] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:55:00.001  INFO [b55ab4d5-27c8-4928-9e69-94cf2c660691] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:55:00.102  INFO [b55ab4d5-27c8-4928-9e69-94cf2c660691] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:55:01.296 DEBUG [03db4b71-c525-41d1-a7bf-6f70fa5b805a] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:55:01.397 DEBUG [03db4b71-c525-41d1-a7bf-6f70fa5b805a] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4F92F91CF75806DC4A5260A8FCF8961C
2025-05-27 11:55:01.398 DEBUG [03db4b71-c525-41d1-a7bf-6f70fa5b805a] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:55:01.398  INFO [03db4b71-c525-41d1-a7bf-6f70fa5b805a] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:55:01.493  INFO [03db4b71-c525-41d1-a7bf-6f70fa5b805a] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:55:01.501 DEBUG [f6642d33-1da8-48a3-875b-0c6062b1ccff] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:55:01.625 DEBUG [f6642d33-1da8-48a3-875b-0c6062b1ccff] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:55:01.625  INFO [f6642d33-1da8-48a3-875b-0c6062b1ccff] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:55:01.735  INFO [f6642d33-1da8-48a3-875b-0c6062b1ccff] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:55:11.269 DEBUG [bde6dee6-7eb2-496a-808d-95f161bd9bbe] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 11:55:11.269 DEBUG [bde6dee6-7eb2-496a-808d-95f161bd9bbe] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 11:55:11.270 DEBUG [bde6dee6-7eb2-496a-808d-95f161bd9bbe] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 11:55:11.271  INFO [bde6dee6-7eb2-496a-808d-95f161bd9bbe] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 11:55:11.271  INFO [bde6dee6-7eb2-496a-808d-95f161bd9bbe] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 11:55:11.271  INFO [bde6dee6-7eb2-496a-808d-95f161bd9bbe] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 11:55:11.271  INFO [bde6dee6-7eb2-496a-808d-95f161bd9bbe] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 11:55:23.436 DEBUG [353da071-c81b-4eba-bc59-00deac9c4266] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:55:23.541 DEBUG [353da071-c81b-4eba-bc59-00deac9c4266] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E84F74B9BD58599BB8E5A5908FE23CCB
2025-05-27 11:55:23.542 DEBUG [353da071-c81b-4eba-bc59-00deac9c4266] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:55:23.630  INFO [353da071-c81b-4eba-bc59-00deac9c4266] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:55:23.631  INFO [353da071-c81b-4eba-bc59-00deac9c4266] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:55:23.636  INFO [353da071-c81b-4eba-bc59-00deac9c4266] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 2 tickets eligible for check-in for user 4
2025-05-27 11:55:23.645 DEBUG [711e8dea-2fdf-46da-b922-5fa8862f7626] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:55:23.744 DEBUG [711e8dea-2fdf-46da-b922-5fa8862f7626] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:55:23.834  INFO [711e8dea-2fdf-46da-b922-5fa8862f7626] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:55:23.834  INFO [711e8dea-2fdf-46da-b922-5fa8862f7626] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:55:23.838  INFO [711e8dea-2fdf-46da-b922-5fa8862f7626] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 2 tickets eligible for check-in for user 4
2025-05-27 11:59:52.486 DEBUG [4b16c385-16dd-45b6-a9be-5a1c0e6d83c5] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 11:59:52.660 DEBUG [4b16c385-16dd-45b6-a9be-5a1c0e6d83c5] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 11:59:52.663  INFO [4b16c385-16dd-45b6-a9be-5a1c0e6d83c5] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 11:59:52.844  INFO [4b16c385-16dd-45b6-a9be-5a1c0e6d83c5] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 11:59:52.925 DEBUG [4da5bd0a-6c24-4d80-8df2-26bb4e4f4cc4] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:59:52.926 DEBUG [7adfdfe4-a8ca-4a1d-a5b1-55b7e6b23761] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:59:52.926 DEBUG [ec3d70e1-f72f-45ce-bef5-2fbfec81791b] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 11:59:53.057 DEBUG [ec3d70e1-f72f-45ce-bef5-2fbfec81791b] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 040F02EE611B661AF28108B333577160
2025-05-27 11:59:53.058 DEBUG [ec3d70e1-f72f-45ce-bef5-2fbfec81791b] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 11:59:53.058 DEBUG [4da5bd0a-6c24-4d80-8df2-26bb4e4f4cc4] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:59:53.058  INFO [ec3d70e1-f72f-45ce-bef5-2fbfec81791b] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 11:59:53.065 DEBUG [7adfdfe4-a8ca-4a1d-a5b1-55b7e6b23761] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:59:53.152  WARN [4da5bd0a-6c24-4d80-8df2-26bb4e4f4cc4] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:59:53.152  WARN [4da5bd0a-6c24-4d80-8df2-26bb4e4f4cc4] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:59:53.159  INFO [ec3d70e1-f72f-45ce-bef5-2fbfec81791b] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 11:59:53.160  INFO [7adfdfe4-a8ca-4a1d-a5b1-55b7e6b23761] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:59:53.160  INFO [7adfdfe4-a8ca-4a1d-a5b1-55b7e6b23761] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:59:53.160 DEBUG [20019764-daf1-42f1-8754-5b17a31b8645] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 11:59:53.165  INFO [7adfdfe4-a8ca-4a1d-a5b1-55b7e6b23761] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Found 2 tickets eligible for check-in for user 4
2025-05-27 11:59:53.175 DEBUG [e9f34426-6165-430f-9d01-e43057b8ce50] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 11:59:53.263 DEBUG [20019764-daf1-42f1-8754-5b17a31b8645] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 11:59:53.275 DEBUG [e9f34426-6165-430f-9d01-e43057b8ce50] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 11:59:53.354  WARN [20019764-daf1-42f1-8754-5b17a31b8645] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 11:59:53.354  WARN [20019764-daf1-42f1-8754-5b17a31b8645] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 11:59:53.369  INFO [e9f34426-6165-430f-9d01-e43057b8ce50] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 11:59:53.369  INFO [e9f34426-6165-430f-9d01-e43057b8ce50] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 11:59:53.374  INFO [e9f34426-6165-430f-9d01-e43057b8ce50] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 2 tickets eligible for check-in for user 4
2025-05-27 11:59:56.875 DEBUG [37a7f92b-03c8-4182-b900-3b78d308e4d8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/17/booked-seats
2025-05-27 11:59:56.962 DEBUG [37a7f92b-03c8-4182-b900-3b78d308e4d8] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 81643655F847F0E801943D8611CFDEDB
2025-05-27 11:59:56.963 DEBUG [37a7f92b-03c8-4182-b900-3b78d308e4d8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/17/booked-seats
2025-05-27 11:59:56.964  INFO [37a7f92b-03c8-4182-b900-3b78d308e4d8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 17
2025-05-27 11:59:56.964  INFO [37a7f92b-03c8-4182-b900-3b78d308e4d8] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 17
2025-05-27 11:59:57.007 DEBUG [03fa722f-7ad9-40aa-87f0-d3f35004cdd7] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/17/booked-seats
2025-05-27 11:59:57.094 DEBUG [03fa722f-7ad9-40aa-87f0-d3f35004cdd7] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/17/booked-seats
2025-05-27 11:59:57.094  INFO [03fa722f-7ad9-40aa-87f0-d3f35004cdd7] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 17
2025-05-27 11:59:57.094  INFO [03fa722f-7ad9-40aa-87f0-d3f35004cdd7] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 17
2025-05-27 12:00:04.468 DEBUG [64d2cd7e-90a4-4570-88b8-fcc7dbe590fd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/check-in/3/with-seat
2025-05-27 12:00:04.559 DEBUG [64d2cd7e-90a4-4570-88b8-fcc7dbe590fd] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 79FEDD7FFF2587463FFDD659D1CA406D
2025-05-27 12:00:04.562 DEBUG [64d2cd7e-90a4-4570-88b8-fcc7dbe590fd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/check-in/3/with-seat
2025-05-27 12:00:04.649  INFO [64d2cd7e-90a4-4570-88b8-fcc7dbe590fd] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Checking in ticket 3 with seat for user: ****@****.***
2025-05-27 12:00:04.654  INFO [64d2cd7e-90a4-4570-88b8-fcc7dbe590fd] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Checking in ticket 3 with seat 2D of type SEAT_TYPE_UPFRONT
2025-05-27 12:00:04.655  INFO [64d2cd7e-90a4-4570-88b8-fcc7dbe590fd] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Checking if seat 2D is booked for flight 17
2025-05-27 12:00:04.662  INFO [64d2cd7e-90a4-4570-88b8-fcc7dbe590fd] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Successfully checked in ticket 3 with seat 2D
2025-05-27 12:00:11.793 DEBUG [d1cc5565-c4b6-4d6b-b320-22a5c603c96f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:00:11.893 DEBUG [d1cc5565-c4b6-4d6b-b320-22a5c603c96f] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E699403D555F75553CE1A8FBB6296A3C
2025-05-27 12:00:11.894 DEBUG [d1cc5565-c4b6-4d6b-b320-22a5c603c96f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:00:11.977  INFO [d1cc5565-c4b6-4d6b-b320-22a5c603c96f] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:00:11.977  INFO [d1cc5565-c4b6-4d6b-b320-22a5c603c96f] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:00:11.988 DEBUG [d03a9385-1885-42aa-9d42-4b2a0ba7f780] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:00:12.074 DEBUG [d03a9385-1885-42aa-9d42-4b2a0ba7f780] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:00:12.158  INFO [d03a9385-1885-42aa-9d42-4b2a0ba7f780] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:00:12.158  INFO [d03a9385-1885-42aa-9d42-4b2a0ba7f780] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:00:13.471 DEBUG [2869c770-8e60-4a72-94da-b2e335698686] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:00:13.568 DEBUG [2869c770-8e60-4a72-94da-b2e335698686] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FE1532586542DF6E6ABAA8C23E33B7D6
2025-05-27 12:00:13.569 DEBUG [2869c770-8e60-4a72-94da-b2e335698686] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:00:13.649  INFO [2869c770-8e60-4a72-94da-b2e335698686] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:00:13.650  INFO [2869c770-8e60-4a72-94da-b2e335698686] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:00:13.654  INFO [2869c770-8e60-4a72-94da-b2e335698686] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:00:13.661 DEBUG [afffb702-3da7-49c1-93de-197b20dd4103] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:00:13.747 DEBUG [afffb702-3da7-49c1-93de-197b20dd4103] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:00:13.830  INFO [afffb702-3da7-49c1-93de-197b20dd4103] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:00:13.830  INFO [afffb702-3da7-49c1-93de-197b20dd4103] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:00:13.835  INFO [afffb702-3da7-49c1-93de-197b20dd4103] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:00:47.682 DEBUG [2d91c70c-882e-4742-b9df-49d3a1997760] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:00:47.873 DEBUG [2d91c70c-882e-4742-b9df-49d3a1997760] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:00:47.873  INFO [2d91c70c-882e-4742-b9df-49d3a1997760] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 12:00:47.967  INFO [2d91c70c-882e-4742-b9df-49d3a1997760] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 12:00:48.018 DEBUG [cc0be74c-6ec3-45f0-bab3-a58a2715849d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:00:48.018 DEBUG [b5a1ed98-63db-4117-bc73-100a724debf9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:00:48.018 DEBUG [38405858-7ea6-431e-998b-a10344a169a0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:00:48.198 DEBUG [38405858-7ea6-431e-998b-a10344a169a0] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DD944D712CBD3C5973B49506CDCA6CAA
2025-05-27 12:00:48.200 DEBUG [38405858-7ea6-431e-998b-a10344a169a0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:00:48.206 DEBUG [cc0be74c-6ec3-45f0-bab3-a58a2715849d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:00:48.207 DEBUG [b5a1ed98-63db-4117-bc73-100a724debf9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:00:48.208  INFO [b5a1ed98-63db-4117-bc73-100a724debf9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:00:48.442  INFO [38405858-7ea6-431e-998b-a10344a169a0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:00:48.443  INFO [38405858-7ea6-431e-998b-a10344a169a0] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:00:48.448  WARN [cc0be74c-6ec3-45f0-bab3-a58a2715849d] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:00:48.449  WARN [cc0be74c-6ec3-45f0-bab3-a58a2715849d] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:00:48.456  INFO [38405858-7ea6-431e-998b-a10344a169a0] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:00:48.460  INFO [b5a1ed98-63db-4117-bc73-100a724debf9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:00:48.474 DEBUG [1f897e84-9760-406a-99b0-5a1dbd2aae2f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:00:48.474 DEBUG [f663f85a-799e-4cf6-bda2-4a9c3b30cade] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:00:48.625 DEBUG [f663f85a-799e-4cf6-bda2-4a9c3b30cade] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:00:48.625 DEBUG [1f897e84-9760-406a-99b0-5a1dbd2aae2f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:00:48.727  WARN [1f897e84-9760-406a-99b0-5a1dbd2aae2f] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:00:48.728  WARN [1f897e84-9760-406a-99b0-5a1dbd2aae2f] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:00:48.729  INFO [f663f85a-799e-4cf6-bda2-4a9c3b30cade] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:00:48.729  INFO [f663f85a-799e-4cf6-bda2-4a9c3b30cade] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:00:48.735  INFO [f663f85a-799e-4cf6-bda2-4a9c3b30cade] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:01:06.151 DEBUG [09d8670e-89e2-4917-9b8d-0c19e3433219] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/15/booked-seats
2025-05-27 12:01:06.247 DEBUG [09d8670e-89e2-4917-9b8d-0c19e3433219] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0863DC186E2BFDE5331DC760A437CBE9
2025-05-27 12:01:06.250 DEBUG [09d8670e-89e2-4917-9b8d-0c19e3433219] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/15/booked-seats
2025-05-27 12:01:06.251  INFO [09d8670e-89e2-4917-9b8d-0c19e3433219] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 15
2025-05-27 12:01:06.251  INFO [09d8670e-89e2-4917-9b8d-0c19e3433219] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 15
2025-05-27 12:01:06.294 DEBUG [c666ce33-457d-4229-83f4-a73fadd199ec] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/15/booked-seats
2025-05-27 12:01:06.383 DEBUG [c666ce33-457d-4229-83f4-a73fadd199ec] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/15/booked-seats
2025-05-27 12:01:06.384  INFO [c666ce33-457d-4229-83f4-a73fadd199ec] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 15
2025-05-27 12:01:06.384  INFO [c666ce33-457d-4229-83f4-a73fadd199ec] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 15
2025-05-27 12:01:08.567 DEBUG [e8822c3c-4442-4d43-ba6a-52d205ff80c3] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/check-in/4/with-seat
2025-05-27 12:01:08.651 DEBUG [e8822c3c-4442-4d43-ba6a-52d205ff80c3] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D09B5A0EEF0E1D61505859E9BC08EDF4
2025-05-27 12:01:08.652 DEBUG [e8822c3c-4442-4d43-ba6a-52d205ff80c3] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/check-in/4/with-seat
2025-05-27 12:01:08.748  INFO [e8822c3c-4442-4d43-ba6a-52d205ff80c3] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Checking in ticket 4 with seat for user: ****@****.***
2025-05-27 12:01:08.753  INFO [e8822c3c-4442-4d43-ba6a-52d205ff80c3] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Checking in ticket 4 with seat 29D of type SEAT_TYPE_STANDARD
2025-05-27 12:01:08.753  INFO [e8822c3c-4442-4d43-ba6a-52d205ff80c3] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Checking if seat 29D is booked for flight 15
2025-05-27 12:01:08.759  INFO [e8822c3c-4442-4d43-ba6a-52d205ff80c3] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Successfully checked in ticket 4 with seat 29D
2025-05-27 12:01:12.797 DEBUG [dd215119-38fd-49e1-a9a2-339af9cb6998] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:01:12.895 DEBUG [dd215119-38fd-49e1-a9a2-339af9cb6998] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C6DE75460AB1EE3DB9EDF2BC89388D61
2025-05-27 12:01:12.896 DEBUG [dd215119-38fd-49e1-a9a2-339af9cb6998] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:01:12.991  INFO [dd215119-38fd-49e1-a9a2-339af9cb6998] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:01:12.991  INFO [dd215119-38fd-49e1-a9a2-339af9cb6998] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:01:13.001 DEBUG [c2e55559-090f-410d-9c69-90cdbe30ab97] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:01:13.121 DEBUG [c2e55559-090f-410d-9c69-90cdbe30ab97] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:01:13.219  INFO [c2e55559-090f-410d-9c69-90cdbe30ab97] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:01:13.220  INFO [c2e55559-090f-410d-9c69-90cdbe30ab97] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:01:17.546 DEBUG [4df8f763-353b-48f0-b053-30cb6d144d5a] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:01:17.647 DEBUG [4df8f763-353b-48f0-b053-30cb6d144d5a] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A485220EA7350E2179F88096142B72BF
2025-05-27 12:01:17.648 DEBUG [4df8f763-353b-48f0-b053-30cb6d144d5a] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:01:17.736  INFO [4df8f763-353b-48f0-b053-30cb6d144d5a] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:01:17.736  INFO [4df8f763-353b-48f0-b053-30cb6d144d5a] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:01:17.742  INFO [4df8f763-353b-48f0-b053-30cb6d144d5a] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 12:01:17.752 DEBUG [cb27cdfd-bcaa-46a7-bb2a-328ddf6b35d8] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:01:17.849 DEBUG [cb27cdfd-bcaa-46a7-bb2a-328ddf6b35d8] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:01:17.931  INFO [cb27cdfd-bcaa-46a7-bb2a-328ddf6b35d8] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:01:17.931  INFO [cb27cdfd-bcaa-46a7-bb2a-328ddf6b35d8] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:01:17.935  INFO [cb27cdfd-bcaa-46a7-bb2a-328ddf6b35d8] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 12:01:42.192 DEBUG [37220284-0962-47cd-96fb-a8c505040aa0] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:01:42.292 DEBUG [37220284-0962-47cd-96fb-a8c505040aa0] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5CAD7DB1BA4DF39B8C5A3EE8CF0546BA
2025-05-27 12:01:42.293 DEBUG [37220284-0962-47cd-96fb-a8c505040aa0] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:01:42.293  INFO [37220284-0962-47cd-96fb-a8c505040aa0] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:01:42.384  INFO [37220284-0962-47cd-96fb-a8c505040aa0] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:01:42.393 DEBUG [bfba3000-bc57-4440-a68c-ff23369cbd12] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:01:42.501 DEBUG [bfba3000-bc57-4440-a68c-ff23369cbd12] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:01:42.502  INFO [bfba3000-bc57-4440-a68c-ff23369cbd12] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:01:42.605  INFO [bfba3000-bc57-4440-a68c-ff23369cbd12] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:01:43.849 DEBUG [7e4a3878-f2a8-4d11-9137-adbebec73110] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:01:43.943 DEBUG [7e4a3878-f2a8-4d11-9137-adbebec73110] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B0CD71706F6D1C2F83725474B3B970DC
2025-05-27 12:01:43.943 DEBUG [7e4a3878-f2a8-4d11-9137-adbebec73110] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:01:43.944  INFO [7e4a3878-f2a8-4d11-9137-adbebec73110] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:01:44.034  INFO [7e4a3878-f2a8-4d11-9137-adbebec73110] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:01:44.041 DEBUG [dc8b45ef-0b49-4936-847b-a5f8b0ba2553] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:01:44.148 DEBUG [dc8b45ef-0b49-4936-847b-a5f8b0ba2553] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:01:44.149  INFO [dc8b45ef-0b49-4936-847b-a5f8b0ba2553] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:01:44.250  INFO [dc8b45ef-0b49-4936-847b-a5f8b0ba2553] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:01:56.916 DEBUG [5f3fd729-b917-46ab-b512-62d6575a7b96] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/create-payment-intent
2025-05-27 12:01:56.917 DEBUG [5f3fd729-b917-46ab-b512-62d6575a7b96] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:01:56.918 DEBUG [5f3fd729-b917-46ab-b512-62d6575a7b96] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/create-payment-intent
2025-05-27 12:01:56.924  INFO [5f3fd729-b917-46ab-b512-62d6575a7b96] 3964 --- [nio-8080-exec-6] o.e.x.controllers.PaymentController      : Creating payment intent for amount: 39995 ron
2025-05-27 12:01:57.424  INFO [5f3fd729-b917-46ab-b512-62d6575a7b96] 3964 --- [nio-8080-exec-6] o.e.x.controllers.PaymentController      : Payment intent created successfully: pi_3RTJOVGf8s1WZJnq1GisYvrN
2025-05-27 12:01:58.617 DEBUG [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/confirm
2025-05-27 12:01:58.716 DEBUG [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1C529A905872924DA225822651D8F02F
2025-05-27 12:01:58.717 DEBUG [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/confirm
2025-05-27 12:01:58.717  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckoutController     : Received purchase confirmation request.
2025-05-27 12:01:58.812  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckoutController     : Processing purchase for user: ****@****.***
2025-05-27 12:01:58.817  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckoutController     : User ****@****.*** persistent cart has 1 items.
2025-05-27 12:01:58.818  WARN [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckoutController     : !!! SIMULATING successful payment processing for user ****@****.*** !!!
2025-05-27 12:01:58.819  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.services.OrderServiceImpl          : Creating order from persistent cart for user: ****@****.***
2025-05-27 12:01:58.826  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.services.OrderServiceImpl          : Order 2 created for user ****@****.***, status: PENDING_PAYMENT. Total: 42.99
2025-05-27 12:01:58.827  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.services.OrderServiceImpl          : Created ticket for flight XT-OTP-ATH-1 for user ****@****.***
2025-05-27 12:01:59.951  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.services.EmailServiceImpl          : Purchase confirmation email sent to ****@****.***
2025-05-27 12:01:59.951  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.services.OrderServiceImpl          : Purchase confirmation email sent to user: ****@****.***
2025-05-27 12:01:59.964  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckoutController     : Order successfully created for user ****@****.***. Confirmation: 2
2025-05-27 12:01:59.968  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.xlr8travel.services.CartServiceImpl  : Clearing 1 items from cart for user ****@****.***
2025-05-27 12:01:59.985  INFO [db055562-3d01-4fb6-8bf6-528bdd9a7ab6] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckoutController     : Persistent cart cleared for user ****@****.***.
2025-05-27 12:01:59.997 DEBUG [d321c8fe-bdfe-4d28-9a6f-678457ed52bb] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/25
2025-05-27 12:02:00.089 DEBUG [d321c8fe-bdfe-4d28-9a6f-678457ed52bb] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B00487210B32F51FCC00B9E359753D87
2025-05-27 12:02:00.090 DEBUG [d321c8fe-bdfe-4d28-9a6f-678457ed52bb] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/25
2025-05-27 12:02:00.176  INFO [d321c8fe-bdfe-4d28-9a6f-678457ed52bb] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 25 from persistent cart
2025-05-27 12:02:00.184  WARN [d321c8fe-bdfe-4d28-9a6f-678457ed52bb] 3964 --- [nio-8080-exec-3] o.e.xlr8travel.services.CartServiceImpl  : Attempted to remove flight ID 25 not found in cart for user ****@****.***
2025-05-27 12:02:00.185  WARN [d321c8fe-bdfe-4d28-9a6f-678457ed52bb] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Attempted to remove flight ID 25 not found in persistent cart for user ****@****.***
2025-05-27 12:02:00.196 DEBUG [d9296785-56e0-432b-9abe-9201b1cdd002] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:02:00.287 DEBUG [d9296785-56e0-432b-9abe-9201b1cdd002] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 192F083DBC4DEEEA0B155E9D4E46596F
2025-05-27 12:02:00.288 DEBUG [d9296785-56e0-432b-9abe-9201b1cdd002] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:02:00.288  INFO [d9296785-56e0-432b-9abe-9201b1cdd002] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:02:00.375  INFO [d9296785-56e0-432b-9abe-9201b1cdd002] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 12:02:02.382 DEBUG [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:02:02.383 DEBUG [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:02:02.383 DEBUG [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:02:02.384  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:02:02.385  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:02:02.385  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:02:02.385  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:02:02.385  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:02:02.437  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:02:02.437  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:02:02.437  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:02:02.437  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:02:02.438  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:02:02.438  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:02:02.438  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:02:02.438  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:02:02.438  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:02:02.439  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:02:02.439  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:02:02.439  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:02:02.439  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:02:02.439  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:02:02.439  INFO [cdfd1bc9-78d5-426b-906b-c1d10949a859] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:02:02.536 DEBUG [3504f668-c0c9-40d3-b388-f97fc9bbb90f] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:02:02.639 DEBUG [3504f668-c0c9-40d3-b388-f97fc9bbb90f] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0802668283E3FCBFD5612CEAE3CD67CB
2025-05-27 12:02:02.641 DEBUG [3504f668-c0c9-40d3-b388-f97fc9bbb90f] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:02:02.734  INFO [3504f668-c0c9-40d3-b388-f97fc9bbb90f] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:02:02.734  INFO [3504f668-c0c9-40d3-b388-f97fc9bbb90f] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:02:02.738  INFO [3504f668-c0c9-40d3-b388-f97fc9bbb90f] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:02:02.746 DEBUG [b3699273-d615-46c2-afa0-85e485310ec9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:02:02.837 DEBUG [b3699273-d615-46c2-afa0-85e485310ec9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:02:02.921  INFO [b3699273-d615-46c2-afa0-85e485310ec9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:02:02.922  INFO [b3699273-d615-46c2-afa0-85e485310ec9] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:02:02.926  INFO [b3699273-d615-46c2-afa0-85e485310ec9] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:02:14.328 DEBUG [0d5c1f00-08f5-45e8-8f4e-b0ecff117f94] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:02:14.426 DEBUG [0d5c1f00-08f5-45e8-8f4e-b0ecff117f94] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B863D8014BAD3E4765C490E3F762CCEA
2025-05-27 12:02:14.428 DEBUG [0d5c1f00-08f5-45e8-8f4e-b0ecff117f94] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:02:14.428  INFO [0d5c1f00-08f5-45e8-8f4e-b0ecff117f94] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:02:14.429  INFO [0d5c1f00-08f5-45e8-8f4e-b0ecff117f94] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:02:14.475 DEBUG [af237814-8c7b-488e-ac83-d20da99a5f51] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:02:14.579 DEBUG [af237814-8c7b-488e-ac83-d20da99a5f51] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:02:14.579  INFO [af237814-8c7b-488e-ac83-d20da99a5f51] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:02:14.579  INFO [af237814-8c7b-488e-ac83-d20da99a5f51] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:03:46.838 DEBUG [af6ce6d2-7f0e-457a-a90e-80d1897362e5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:03:46.931 DEBUG [af6ce6d2-7f0e-457a-a90e-80d1897362e5] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 656DE6103584D6DDA187682B2C47AAB0
2025-05-27 12:03:46.933 DEBUG [af6ce6d2-7f0e-457a-a90e-80d1897362e5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:03:46.933  INFO [af6ce6d2-7f0e-457a-a90e-80d1897362e5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:03:46.933  INFO [af6ce6d2-7f0e-457a-a90e-80d1897362e5] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:03:46.985 DEBUG [a3a57911-b759-4c4e-ad33-4d297caf0e1b] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:03:47.086 DEBUG [a3a57911-b759-4c4e-ad33-4d297caf0e1b] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:03:47.087  INFO [a3a57911-b759-4c4e-ad33-4d297caf0e1b] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:03:47.087  INFO [a3a57911-b759-4c4e-ad33-4d297caf0e1b] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:05:04.845 DEBUG [52cf0f40-b7c8-4981-9f01-789ea3545879] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:05:04.948 DEBUG [52cf0f40-b7c8-4981-9f01-789ea3545879] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 288B36251097AABEEDC7BB5E0F341C44
2025-05-27 12:05:04.950 DEBUG [52cf0f40-b7c8-4981-9f01-789ea3545879] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:05:04.951  INFO [52cf0f40-b7c8-4981-9f01-789ea3545879] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:05:04.952  INFO [52cf0f40-b7c8-4981-9f01-789ea3545879] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:05:05.012 DEBUG [69606d47-9c02-44f5-b7dc-1621821e5f0b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:05:05.122 DEBUG [69606d47-9c02-44f5-b7dc-1621821e5f0b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:05:05.122  INFO [69606d47-9c02-44f5-b7dc-1621821e5f0b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:05:05.122  INFO [69606d47-9c02-44f5-b7dc-1621821e5f0b] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:07:14.119 DEBUG [8da4ecaa-ee96-43a4-9ab1-afa0d4dd5d78] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:07:14.213 DEBUG [8da4ecaa-ee96-43a4-9ab1-afa0d4dd5d78] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5454559AE93D00324E681304B1762209
2025-05-27 12:07:14.215 DEBUG [8da4ecaa-ee96-43a4-9ab1-afa0d4dd5d78] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:07:14.216  INFO [8da4ecaa-ee96-43a4-9ab1-afa0d4dd5d78] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:07:14.217  INFO [8da4ecaa-ee96-43a4-9ab1-afa0d4dd5d78] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:07:14.271 DEBUG [a68c87d3-d8f8-4481-b428-2914e8de131d] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:07:14.367 DEBUG [a68c87d3-d8f8-4481-b428-2914e8de131d] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:07:14.368  INFO [a68c87d3-d8f8-4481-b428-2914e8de131d] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:07:14.368  INFO [a68c87d3-d8f8-4481-b428-2914e8de131d] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:08:20.664 DEBUG [afd6e2a6-94d3-44f7-8045-ee36f8169353] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:08:20.763 DEBUG [afd6e2a6-94d3-44f7-8045-ee36f8169353] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:08:20.764  INFO [afd6e2a6-94d3-44f7-8045-ee36f8169353] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 12:08:20.870  INFO [afd6e2a6-94d3-44f7-8045-ee36f8169353] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 12:08:20.963 DEBUG [8828769a-3ff6-4bfe-b0fd-2822bebe31a1] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:08:20.963 DEBUG [73296a34-b32e-47f9-b994-27072ba23ad9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:08:20.963 DEBUG [6eb4446e-bdaa-43fd-9c1e-22865855c7ac] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:08:21.116 DEBUG [73296a34-b32e-47f9-b994-27072ba23ad9] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FD5924A5340ADE8F9B32AE87700ABA99
2025-05-27 12:08:21.118 DEBUG [73296a34-b32e-47f9-b994-27072ba23ad9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:08:21.121 DEBUG [6eb4446e-bdaa-43fd-9c1e-22865855c7ac] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:08:21.121  INFO [6eb4446e-bdaa-43fd-9c1e-22865855c7ac] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:08:21.126 DEBUG [8828769a-3ff6-4bfe-b0fd-2822bebe31a1] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:08:21.249  INFO [73296a34-b32e-47f9-b994-27072ba23ad9] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:08:21.249  INFO [73296a34-b32e-47f9-b994-27072ba23ad9] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:08:21.254  INFO [73296a34-b32e-47f9-b994-27072ba23ad9] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:08:21.256  INFO [6eb4446e-bdaa-43fd-9c1e-22865855c7ac] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 12:08:21.261  WARN [8828769a-3ff6-4bfe-b0fd-2822bebe31a1] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:08:21.262  WARN [8828769a-3ff6-4bfe-b0fd-2822bebe31a1] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:08:21.281 DEBUG [62d7b542-e8c7-48e9-895b-9f73a821937e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:08:21.283 DEBUG [0a8c353e-15f7-4517-8a44-d62c1b4d8c28] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:08:21.422 DEBUG [62d7b542-e8c7-48e9-895b-9f73a821937e] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:08:21.424 DEBUG [0a8c353e-15f7-4517-8a44-d62c1b4d8c28] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:08:21.527  INFO [62d7b542-e8c7-48e9-895b-9f73a821937e] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:08:21.527  INFO [62d7b542-e8c7-48e9-895b-9f73a821937e] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:08:21.527  WARN [0a8c353e-15f7-4517-8a44-d62c1b4d8c28] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:08:21.527  WARN [0a8c353e-15f7-4517-8a44-d62c1b4d8c28] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:08:21.533  INFO [62d7b542-e8c7-48e9-895b-9f73a821937e] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-27 12:08:21.790 DEBUG [314f0a96-59fd-43f5-b10b-9b9f20d123e4] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:08:21.888 DEBUG [314f0a96-59fd-43f5-b10b-9b9f20d123e4] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 174A8C62BDEEA1C0C76CA498B150E1FA
2025-05-27 12:08:21.890 DEBUG [314f0a96-59fd-43f5-b10b-9b9f20d123e4] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:08:21.891  INFO [314f0a96-59fd-43f5-b10b-9b9f20d123e4] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:08:21.891  INFO [314f0a96-59fd-43f5-b10b-9b9f20d123e4] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:08:21.937 DEBUG [29fb4227-258d-418c-816f-c2e14062c967] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/25/booked-seats
2025-05-27 12:08:22.036 DEBUG [29fb4227-258d-418c-816f-c2e14062c967] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/25/booked-seats
2025-05-27 12:08:22.037  INFO [29fb4227-258d-418c-816f-c2e14062c967] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 25
2025-05-27 12:08:22.037  INFO [29fb4227-258d-418c-816f-c2e14062c967] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 25
2025-05-27 12:09:54.371 DEBUG [005cfca4-846b-42c2-817b-aa28101f714a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/check-in/5/with-seat
2025-05-27 12:09:54.464 DEBUG [005cfca4-846b-42c2-817b-aa28101f714a] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8A2ADC0207B06AB36061E78779260424
2025-05-27 12:09:54.465 DEBUG [005cfca4-846b-42c2-817b-aa28101f714a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/check-in/5/with-seat
2025-05-27 12:09:54.552  INFO [005cfca4-846b-42c2-817b-aa28101f714a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Checking in ticket 5 with seat for user: ****@****.***
2025-05-27 12:09:54.557  INFO [005cfca4-846b-42c2-817b-aa28101f714a] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Checking in ticket 5 with seat 1D of type SEAT_TYPE_UPFRONT
2025-05-27 12:09:54.557  INFO [005cfca4-846b-42c2-817b-aa28101f714a] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Checking if seat 1D is booked for flight 25
2025-05-27 12:09:54.561  INFO [005cfca4-846b-42c2-817b-aa28101f714a] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Successfully checked in ticket 5 with seat 1D
2025-05-27 12:10:04.081 DEBUG [ba9110f4-40ad-4202-afee-5cc83c8ba23f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:10:04.182 DEBUG [ba9110f4-40ad-4202-afee-5cc83c8ba23f] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 146EC99B2EB48B6940EC1109D6AF93A7
2025-05-27 12:10:04.183 DEBUG [ba9110f4-40ad-4202-afee-5cc83c8ba23f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:10:04.266  INFO [ba9110f4-40ad-4202-afee-5cc83c8ba23f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:10:04.266  INFO [ba9110f4-40ad-4202-afee-5cc83c8ba23f] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:10:04.276 DEBUG [47c0d2c3-eed5-4c6d-848c-2263a169729b] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:10:04.363 DEBUG [47c0d2c3-eed5-4c6d-848c-2263a169729b] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:10:04.444  INFO [47c0d2c3-eed5-4c6d-848c-2263a169729b] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:10:04.444  INFO [47c0d2c3-eed5-4c6d-848c-2263a169729b] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:10:51.665 DEBUG [366a9adb-0f28-4d6c-9016-e74604fe5d0f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:10:51.785 DEBUG [366a9adb-0f28-4d6c-9016-e74604fe5d0f] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AD059B7646063A395750B056B1BF778B
2025-05-27 12:10:51.787 DEBUG [366a9adb-0f28-4d6c-9016-e74604fe5d0f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:10:51.878  INFO [366a9adb-0f28-4d6c-9016-e74604fe5d0f] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:10:51.878  INFO [366a9adb-0f28-4d6c-9016-e74604fe5d0f] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:10:51.882  INFO [366a9adb-0f28-4d6c-9016-e74604fe5d0f] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 12:10:51.889 DEBUG [22758740-cd9e-41f2-9846-65d0a9fdadb3] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:10:51.981 DEBUG [22758740-cd9e-41f2-9846-65d0a9fdadb3] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:10:52.061  INFO [22758740-cd9e-41f2-9846-65d0a9fdadb3] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:10:52.061  INFO [22758740-cd9e-41f2-9846-65d0a9fdadb3] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:10:52.064  INFO [22758740-cd9e-41f2-9846-65d0a9fdadb3] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 12:10:58.704 DEBUG [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:10:58.704 DEBUG [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:10:58.706 DEBUG [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:10:58.707  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:10:58.707  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:10:58.707  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:10:58.707  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:10:58.707  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:10:58.758  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:10:58.758  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:10:58.758  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:10:58.758  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:10:58.758  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:10:58.759  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:10:58.760  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:10:58.760  INFO [45901131-5aa7-4a9e-a8ff-62032c175d0c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:11:00.920 DEBUG [e48e08f7-c64c-4ca4-801b-eda137650b19] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:11:01.021 DEBUG [e48e08f7-c64c-4ca4-801b-eda137650b19] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:11:01.022  INFO [e48e08f7-c64c-4ca4-801b-eda137650b19] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 12:11:01.134  INFO [e48e08f7-c64c-4ca4-801b-eda137650b19] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 12:11:01.200 DEBUG [3f557edc-430e-45b7-89c2-cf2950325a05] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:11:01.200 DEBUG [0a9ff108-f85a-4ed2-af5d-4e00dbefa414] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 12:11:01.201 DEBUG [147b4e46-2915-43f4-ac48-819af1466da0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:01.212 DEBUG [0a9ff108-f85a-4ed2-af5d-4e00dbefa414] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:11:01.213 DEBUG [0a9ff108-f85a-4ed2-af5d-4e00dbefa414] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 12:11:01.214  INFO [0a9ff108-f85a-4ed2-af5d-4e00dbefa414] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 12:11:01.214  INFO [0a9ff108-f85a-4ed2-af5d-4e00dbefa414] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 12:11:01.274  INFO [0a9ff108-f85a-4ed2-af5d-4e00dbefa414] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 12:11:01.283 DEBUG [15a406c1-768f-4f3d-b6a5-ee539a0d6be9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 12:11:01.285 DEBUG [15a406c1-768f-4f3d-b6a5-ee539a0d6be9] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:11:01.285 DEBUG [15a406c1-768f-4f3d-b6a5-ee539a0d6be9] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 12:11:01.286  INFO [15a406c1-768f-4f3d-b6a5-ee539a0d6be9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 12:11:01.286  INFO [15a406c1-768f-4f3d-b6a5-ee539a0d6be9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 12:11:01.329 DEBUG [3f557edc-430e-45b7-89c2-cf2950325a05] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7DCA19C04F52F354712882F6DAC089E1
2025-05-27 12:11:01.329 DEBUG [147b4e46-2915-43f4-ac48-819af1466da0] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4B1467DC06762D1F099ABF199BE70FFF
2025-05-27 12:11:01.330 DEBUG [147b4e46-2915-43f4-ac48-819af1466da0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:01.330  INFO [147b4e46-2915-43f4-ac48-819af1466da0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:01.330 DEBUG [3f557edc-430e-45b7-89c2-cf2950325a05] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:11:01.335  INFO [15a406c1-768f-4f3d-b6a5-ee539a0d6be9] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 12:11:01.417  WARN [3f557edc-430e-45b7-89c2-cf2950325a05] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:11:01.419  WARN [3f557edc-430e-45b7-89c2-cf2950325a05] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:11:01.424  INFO [147b4e46-2915-43f4-ac48-819af1466da0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 12:11:01.426 DEBUG [0e3e36aa-dcc7-4677-aca5-98059b8e3341] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:11:01.520 DEBUG [0e3e36aa-dcc7-4677-aca5-98059b8e3341] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:11:01.604  WARN [0e3e36aa-dcc7-4677-aca5-98059b8e3341] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:11:01.604  WARN [0e3e36aa-dcc7-4677-aca5-98059b8e3341] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:11:14.973 DEBUG [754275fd-c465-45fc-8a62-5c4d1401205e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 12:11:15.062 DEBUG [754275fd-c465-45fc-8a62-5c4d1401205e] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E02A77DE86D31518510C964566FEA044
2025-05-27 12:11:15.062 DEBUG [754275fd-c465-45fc-8a62-5c4d1401205e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 12:11:15.152  INFO [754275fd-c465-45fc-8a62-5c4d1401205e] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 17 to persistent cart
2025-05-27 12:11:15.160  INFO [754275fd-c465-45fc-8a62-5c4d1401205e] 3964 --- [io-8080-exec-10] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 17 to cart for user ****@****.***
2025-05-27 12:11:15.176  INFO [754275fd-c465-45fc-8a62-5c4d1401205e] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Flight ID 17 added/incremented in persistent cart for user ****@****.***.
2025-05-27 12:11:15.190 DEBUG [55fe4854-d34b-4ae3-bf12-60f54458e9ac] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:15.293 DEBUG [55fe4854-d34b-4ae3-bf12-60f54458e9ac] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 73B3B579B9355E5E2F1ED42FAEB7B27F
2025-05-27 12:11:15.294 DEBUG [55fe4854-d34b-4ae3-bf12-60f54458e9ac] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:15.294  INFO [55fe4854-d34b-4ae3-bf12-60f54458e9ac] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:15.399  INFO [55fe4854-d34b-4ae3-bf12-60f54458e9ac] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:11:15.479 DEBUG [003d4a13-8f36-491c-8c59-1ac71fec5c51] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:15.581 DEBUG [003d4a13-8f36-491c-8c59-1ac71fec5c51] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4A220C225F75C18A958B9A8A74082339
2025-05-27 12:11:15.581 DEBUG [003d4a13-8f36-491c-8c59-1ac71fec5c51] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:15.582  INFO [003d4a13-8f36-491c-8c59-1ac71fec5c51] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:15.675  INFO [003d4a13-8f36-491c-8c59-1ac71fec5c51] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:11:15.683 DEBUG [20552c66-26c9-470d-bc11-d1fdf2f2c89d] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:15.773 DEBUG [20552c66-26c9-470d-bc11-d1fdf2f2c89d] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:15.774  INFO [20552c66-26c9-470d-bc11-d1fdf2f2c89d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:15.863  INFO [20552c66-26c9-470d-bc11-d1fdf2f2c89d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:11:20.518 DEBUG [52930f43-2a7b-42aa-9993-adc4293452d5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:20.657 DEBUG [52930f43-2a7b-42aa-9993-adc4293452d5] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 943D97492F9594C0A22E5C3ACC04F2B9
2025-05-27 12:11:20.658 DEBUG [52930f43-2a7b-42aa-9993-adc4293452d5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:20.658  INFO [52930f43-2a7b-42aa-9993-adc4293452d5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:20.758  INFO [52930f43-2a7b-42aa-9993-adc4293452d5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:11:20.765 DEBUG [ee48a5cd-204d-40fe-8ce2-64e8ea1cf30e] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:20.900 DEBUG [ee48a5cd-204d-40fe-8ce2-64e8ea1cf30e] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:20.900  INFO [ee48a5cd-204d-40fe-8ce2-64e8ea1cf30e] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:21.033  INFO [ee48a5cd-204d-40fe-8ce2-64e8ea1cf30e] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:11:25.448 DEBUG [8a01461b-f882-4938-b146-db63915c767e] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:11:25.448 DEBUG [8a01461b-f882-4938-b146-db63915c767e] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:11:25.449 DEBUG [8a01461b-f882-4938-b146-db63915c767e] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:11:25.450  INFO [8a01461b-f882-4938-b146-db63915c767e] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:11:25.450  INFO [8a01461b-f882-4938-b146-db63915c767e] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:11:25.450  INFO [8a01461b-f882-4938-b146-db63915c767e] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:11:25.450  INFO [8a01461b-f882-4938-b146-db63915c767e] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:11:26.569 DEBUG [8c142bf6-04d3-486a-b4c4-5a507df116bf] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:11:26.671 DEBUG [8c142bf6-04d3-486a-b4c4-5a507df116bf] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EBFDA6649A642FBB2B7DC517C0CF126E
2025-05-27 12:11:26.672 DEBUG [8c142bf6-04d3-486a-b4c4-5a507df116bf] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:11:26.757  INFO [8c142bf6-04d3-486a-b4c4-5a507df116bf] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:11:26.757  INFO [8c142bf6-04d3-486a-b4c4-5a507df116bf] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:11:26.767 DEBUG [65e6a2b8-191c-49b6-9f74-bf3234033d00] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:11:26.854 DEBUG [65e6a2b8-191c-49b6-9f74-bf3234033d00] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:11:26.934  INFO [65e6a2b8-191c-49b6-9f74-bf3234033d00] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:11:26.935  INFO [65e6a2b8-191c-49b6-9f74-bf3234033d00] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:11:27.574 DEBUG [2bf2c5af-2022-440a-a4ba-704bda0230ff] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:11:27.670 DEBUG [2bf2c5af-2022-440a-a4ba-704bda0230ff] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 93366A9BF62F222D494607B3ACD8B645
2025-05-27 12:11:27.671 DEBUG [2bf2c5af-2022-440a-a4ba-704bda0230ff] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:11:27.753  INFO [2bf2c5af-2022-440a-a4ba-704bda0230ff] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:11:27.753  INFO [2bf2c5af-2022-440a-a4ba-704bda0230ff] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:11:27.758  INFO [2bf2c5af-2022-440a-a4ba-704bda0230ff] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 12:11:27.765 DEBUG [f9e1e731-8327-4914-938a-6c589fd3b4aa] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:11:27.854 DEBUG [f9e1e731-8327-4914-938a-6c589fd3b4aa] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:11:27.936  INFO [f9e1e731-8327-4914-938a-6c589fd3b4aa] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 12:11:27.936  INFO [f9e1e731-8327-4914-938a-6c589fd3b4aa] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 12:11:27.939  INFO [f9e1e731-8327-4914-938a-6c589fd3b4aa] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 12:11:28.662 DEBUG [b43fe9eb-f0e2-4748-84a9-986e36da408a] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:11:28.762 DEBUG [b43fe9eb-f0e2-4748-84a9-986e36da408a] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 700EC26B23D2B1109FE6DD8979C06AA4
2025-05-27 12:11:28.763 DEBUG [b43fe9eb-f0e2-4748-84a9-986e36da408a] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:11:28.848  INFO [b43fe9eb-f0e2-4748-84a9-986e36da408a] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:11:28.849  INFO [b43fe9eb-f0e2-4748-84a9-986e36da408a] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:11:28.857 DEBUG [5ae7228e-356a-4ab2-92ce-cf12759849d5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:11:28.979 DEBUG [5ae7228e-356a-4ab2-92ce-cf12759849d5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:11:29.073  INFO [5ae7228e-356a-4ab2-92ce-cf12759849d5] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:11:29.074  INFO [5ae7228e-356a-4ab2-92ce-cf12759849d5] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:11:30.899 DEBUG [388ff291-bc1e-4e3e-a6fa-0282f461c3dd] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:31.000 DEBUG [388ff291-bc1e-4e3e-a6fa-0282f461c3dd] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 13E19C519251BA176DD47055891F3006
2025-05-27 12:11:31.000 DEBUG [388ff291-bc1e-4e3e-a6fa-0282f461c3dd] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:31.001  INFO [388ff291-bc1e-4e3e-a6fa-0282f461c3dd] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:31.098  INFO [388ff291-bc1e-4e3e-a6fa-0282f461c3dd] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:11:31.105 DEBUG [5ecd9341-de90-4913-ad67-1b40530eb68d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:31.220 DEBUG [5ecd9341-de90-4913-ad67-1b40530eb68d] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:31.222  INFO [5ecd9341-de90-4913-ad67-1b40530eb68d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:31.325  INFO [5ecd9341-de90-4913-ad67-1b40530eb68d] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 12:11:31.923 DEBUG [23976440-3c03-4e23-a65e-a1106e6e9dd7] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/17
2025-05-27 12:11:32.014 DEBUG [23976440-3c03-4e23-a65e-a1106e6e9dd7] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8AD2154B92DD18908DF1357A62A7B5FC
2025-05-27 12:11:32.015 DEBUG [23976440-3c03-4e23-a65e-a1106e6e9dd7] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/17
2025-05-27 12:11:32.103  INFO [23976440-3c03-4e23-a65e-a1106e6e9dd7] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 17 from persistent cart
2025-05-27 12:11:32.110  INFO [23976440-3c03-4e23-a65e-a1106e6e9dd7] 3964 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : Removed flight ID 17 entirely (removed=true) from cart for user ****@****.***.
2025-05-27 12:11:32.129  INFO [23976440-3c03-4e23-a65e-a1106e6e9dd7] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Item removed for flight ID 17 in persistent cart for user ****@****.***.
2025-05-27 12:11:32.142 DEBUG [4fbc5b10-e074-49fe-88a4-97f363fa461d] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:11:32.239 DEBUG [4fbc5b10-e074-49fe-88a4-97f363fa461d] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 86818B045648B768A022E713E9E93FE6
2025-05-27 12:11:32.239 DEBUG [4fbc5b10-e074-49fe-88a4-97f363fa461d] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:11:32.240  INFO [4fbc5b10-e074-49fe-88a4-97f363fa461d] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:11:32.335  INFO [4fbc5b10-e074-49fe-88a4-97f363fa461d] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 12:11:34.728 DEBUG [0d989ecb-ba9c-478d-a03f-4b2591ae6f68] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:11:34.728 DEBUG [0d989ecb-ba9c-478d-a03f-4b2591ae6f68] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:11:34.729 DEBUG [0d989ecb-ba9c-478d-a03f-4b2591ae6f68] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:11:34.729  INFO [0d989ecb-ba9c-478d-a03f-4b2591ae6f68] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:11:34.730  INFO [0d989ecb-ba9c-478d-a03f-4b2591ae6f68] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:11:34.730  INFO [0d989ecb-ba9c-478d-a03f-4b2591ae6f68] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:11:34.730  INFO [0d989ecb-ba9c-478d-a03f-4b2591ae6f68] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:14:24.975 DEBUG [bfe2034e-88f3-4976-be52-fd69ee64c033] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:14:25.095 DEBUG [bfe2034e-88f3-4976-be52-fd69ee64c033] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F8C9E657FA304C53CCBC0E1355A7704B
2025-05-27 12:14:25.096 DEBUG [bfe2034e-88f3-4976-be52-fd69ee64c033] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:14:25.194  INFO [bfe2034e-88f3-4976-be52-fd69ee64c033] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:14:25.194  INFO [bfe2034e-88f3-4976-be52-fd69ee64c033] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:14:25.204 DEBUG [7aa52b69-8539-448a-9b57-713ea44df779] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:14:25.300 DEBUG [7aa52b69-8539-448a-9b57-713ea44df779] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:14:25.390  INFO [7aa52b69-8539-448a-9b57-713ea44df779] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 12:14:25.390  INFO [7aa52b69-8539-448a-9b57-713ea44df779] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 12:16:43.760 DEBUG [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:16:43.760 DEBUG [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:16:43.761 DEBUG [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:16:43.762  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:16:43.762  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:16:43.762  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:16:43.762  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:16:43.762  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:16:43.813  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:16:43.813  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:16:43.813  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:16:43.814  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:16:43.814  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:16:43.814  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:16:43.814  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:16:43.814  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:16:43.814  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:16:43.815  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:16:43.815  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:16:43.815  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:16:43.815  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:16:43.815  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:16:43.815  INFO [0212aeb7-5d9d-46b8-bfaf-a972992bab01] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:16:44.866 DEBUG [f9d52a42-77b6-47e6-a54e-6cdc5fa8420c] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 12:16:44.867 DEBUG [f9d52a42-77b6-47e6-a54e-6cdc5fa8420c] 3964 --- [nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 12:16:46.744 DEBUG [e70c3cee-b46f-4094-bd50-b06f5d1846e2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:16:46.744 DEBUG [e70c3cee-b46f-4094-bd50-b06f5d1846e2] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:16:46.745 DEBUG [e70c3cee-b46f-4094-bd50-b06f5d1846e2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:16:46.746  INFO [e70c3cee-b46f-4094-bd50-b06f5d1846e2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:16:46.746  INFO [e70c3cee-b46f-4094-bd50-b06f5d1846e2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:16:46.747  INFO [e70c3cee-b46f-4094-bd50-b06f5d1846e2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:16:46.747  INFO [e70c3cee-b46f-4094-bd50-b06f5d1846e2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:18:46.215 DEBUG [ed3ebcce-d67e-40f8-b04c-d6534b28bff8] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:18:46.217 DEBUG [ed3ebcce-d67e-40f8-b04c-d6534b28bff8] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:18:46.218 DEBUG [ed3ebcce-d67e-40f8-b04c-d6534b28bff8] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:18:46.220  INFO [ed3ebcce-d67e-40f8-b04c-d6534b28bff8] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:18:46.220  INFO [ed3ebcce-d67e-40f8-b04c-d6534b28bff8] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:18:46.220  INFO [ed3ebcce-d67e-40f8-b04c-d6534b28bff8] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:18:46.221  INFO [ed3ebcce-d67e-40f8-b04c-d6534b28bff8] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:18:55.843 DEBUG [bb4c62e6-0b44-42bf-81e3-ab5d5fc96ece] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:18:55.843 DEBUG [bb4c62e6-0b44-42bf-81e3-ab5d5fc96ece] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:18:55.844 DEBUG [bb4c62e6-0b44-42bf-81e3-ab5d5fc96ece] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:18:55.845  INFO [bb4c62e6-0b44-42bf-81e3-ab5d5fc96ece] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:18:55.845  INFO [bb4c62e6-0b44-42bf-81e3-ab5d5fc96ece] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:18:55.845  INFO [bb4c62e6-0b44-42bf-81e3-ab5d5fc96ece] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:18:55.845  INFO [bb4c62e6-0b44-42bf-81e3-ab5d5fc96ece] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:18:59.039 DEBUG [e8b76b63-f376-47da-bde4-f53c9c9f5b41] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:18:59.042 DEBUG [e8b76b63-f376-47da-bde4-f53c9c9f5b41] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:18:59.043 DEBUG [e8b76b63-f376-47da-bde4-f53c9c9f5b41] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:18:59.044  INFO [e8b76b63-f376-47da-bde4-f53c9c9f5b41] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:18:59.044  INFO [e8b76b63-f376-47da-bde4-f53c9c9f5b41] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:18:59.044  INFO [e8b76b63-f376-47da-bde4-f53c9c9f5b41] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:18:59.044  INFO [e8b76b63-f376-47da-bde4-f53c9c9f5b41] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:19:05.498 DEBUG [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 12:19:05.498 DEBUG [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:19:05.499 DEBUG [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 12:19:05.502  INFO [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 12:19:05.682  INFO [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 12:19:05.682  INFO [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 12:19:05.824 DEBUG [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 12:19:05.824  INFO [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 12:19:05.847  INFO [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 12:19:05.847  INFO [277e12cf-72a0-4856-be35-6afd375220a4] 3964 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 12:19:05.888 DEBUG [89dcf4dc-6488-41b1-9b02-55f170218453] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:19:05.888 DEBUG [28d105fc-69df-4b0f-8d33-644c09c2f51e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:19:05.901 DEBUG [89dcf4dc-6488-41b1-9b02-55f170218453] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A7BA7DE0D98C699B7DBC0D9A9E0104FD
2025-05-27 12:19:05.901 DEBUG [28d105fc-69df-4b0f-8d33-644c09c2f51e] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B4F427D3BD38D7DEFBBCCEF4E7A04671
2025-05-27 12:19:05.902 DEBUG [28d105fc-69df-4b0f-8d33-644c09c2f51e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:19:05.903  INFO [28d105fc-69df-4b0f-8d33-644c09c2f51e] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:19:05.903 DEBUG [89dcf4dc-6488-41b1-9b02-55f170218453] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:19:05.911  WARN [89dcf4dc-6488-41b1-9b02-55f170218453] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:19:05.913  WARN [89dcf4dc-6488-41b1-9b02-55f170218453] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:19:05.914  INFO [28d105fc-69df-4b0f-8d33-644c09c2f51e] 3964 --- [io-8080-exec-10] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user user2 with ID 2, creating a new one.
2025-05-27 12:19:05.931  INFO [28d105fc-69df-4b0f-8d33-644c09c2f51e] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:19:07.126 DEBUG [2300c991-58f5-4e49-993e-c9156db9af4f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:19:07.141 DEBUG [2300c991-58f5-4e49-993e-c9156db9af4f] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A737DCC78BF99FB4380187AF6636B331
2025-05-27 12:19:07.142 DEBUG [2300c991-58f5-4e49-993e-c9156db9af4f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:19:07.148  INFO [2300c991-58f5-4e49-993e-c9156db9af4f] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:19:07.148  INFO [2300c991-58f5-4e49-993e-c9156db9af4f] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:19:07.159 DEBUG [24135c06-5a96-46b2-b37b-4d0b6d90d114] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:19:07.172 DEBUG [24135c06-5a96-46b2-b37b-4d0b6d90d114] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:19:07.177  INFO [24135c06-5a96-46b2-b37b-4d0b6d90d114] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:19:07.178  INFO [24135c06-5a96-46b2-b37b-4d0b6d90d114] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:19:12.640 DEBUG [69b6138f-5da1-4536-ac6d-5263b9aaf7dc] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:19:12.667 DEBUG [69b6138f-5da1-4536-ac6d-5263b9aaf7dc] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D9F704720050356C0E06BCB4533921C8
2025-05-27 12:19:12.670 DEBUG [69b6138f-5da1-4536-ac6d-5263b9aaf7dc] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:19:12.671  INFO [69b6138f-5da1-4536-ac6d-5263b9aaf7dc] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:19:12.825  INFO [69b6138f-5da1-4536-ac6d-5263b9aaf7dc] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:19:12.838 DEBUG [841dff8d-307b-49a2-8108-bcdefbeea5e0] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:19:12.850 DEBUG [841dff8d-307b-49a2-8108-bcdefbeea5e0] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:19:12.850  INFO [841dff8d-307b-49a2-8108-bcdefbeea5e0] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:19:12.946  INFO [841dff8d-307b-49a2-8108-bcdefbeea5e0] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:19:18.990 DEBUG [db1e2957-5bdd-4986-9d3c-5faa0a733309] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:19.002 DEBUG [db1e2957-5bdd-4986-9d3c-5faa0a733309] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6C613DD025CDCD67CFF46FDC1A85EA45
2025-05-27 12:19:19.003 DEBUG [db1e2957-5bdd-4986-9d3c-5faa0a733309] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:19.009  INFO [db1e2957-5bdd-4986-9d3c-5faa0a733309] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:19.009  INFO [db1e2957-5bdd-4986-9d3c-5faa0a733309] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:19.060  INFO [db1e2957-5bdd-4986-9d3c-5faa0a733309] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:19.069 DEBUG [33796dae-12c8-49f6-8970-7f601f5a3eb8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:19.079 DEBUG [33796dae-12c8-49f6-8970-7f601f5a3eb8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:19.085  INFO [33796dae-12c8-49f6-8970-7f601f5a3eb8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:19.085  INFO [33796dae-12c8-49f6-8970-7f601f5a3eb8] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:19.134  INFO [33796dae-12c8-49f6-8970-7f601f5a3eb8] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:20.331 DEBUG [91a523ff-1823-40cf-93a0-54031083e90c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:19:20.347 DEBUG [91a523ff-1823-40cf-93a0-54031083e90c] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BA3B97D43CB983DC60442B70B5308DF4
2025-05-27 12:19:20.348 DEBUG [91a523ff-1823-40cf-93a0-54031083e90c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:19:20.354  INFO [91a523ff-1823-40cf-93a0-54031083e90c] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:19:20.354  INFO [91a523ff-1823-40cf-93a0-54031083e90c] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:19:20.368 DEBUG [a26f290d-1838-4710-ba5a-b64663937d45] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:19:20.382 DEBUG [a26f290d-1838-4710-ba5a-b64663937d45] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:19:20.390  INFO [a26f290d-1838-4710-ba5a-b64663937d45] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:19:20.391  INFO [a26f290d-1838-4710-ba5a-b64663937d45] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:19:21.158 DEBUG [bd758fb7-c972-49c0-acdd-c398c4d4caa4] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:21.170 DEBUG [bd758fb7-c972-49c0-acdd-c398c4d4caa4] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 06032EFD2136F1D5D3C3E864F88A8537
2025-05-27 12:19:21.172 DEBUG [bd758fb7-c972-49c0-acdd-c398c4d4caa4] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:21.178  INFO [bd758fb7-c972-49c0-acdd-c398c4d4caa4] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:21.178  INFO [bd758fb7-c972-49c0-acdd-c398c4d4caa4] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:21.225  INFO [bd758fb7-c972-49c0-acdd-c398c4d4caa4] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:21.234 DEBUG [4512f405-bd23-4fc5-ad0d-d920fb46a33c] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:21.245 DEBUG [4512f405-bd23-4fc5-ad0d-d920fb46a33c] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:21.250  INFO [4512f405-bd23-4fc5-ad0d-d920fb46a33c] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:21.250  INFO [4512f405-bd23-4fc5-ad0d-d920fb46a33c] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:21.295  INFO [4512f405-bd23-4fc5-ad0d-d920fb46a33c] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:22.267 DEBUG [e65bb16d-7090-4e5f-ae0f-4e72067fce64] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:19:22.281 DEBUG [e65bb16d-7090-4e5f-ae0f-4e72067fce64] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FE5C701EA7799D3FD43E53EBA060A14A
2025-05-27 12:19:22.282 DEBUG [e65bb16d-7090-4e5f-ae0f-4e72067fce64] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:19:22.289  INFO [e65bb16d-7090-4e5f-ae0f-4e72067fce64] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:19:22.289  INFO [e65bb16d-7090-4e5f-ae0f-4e72067fce64] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:19:22.302 DEBUG [5e72ea76-36eb-4893-af7f-34511d51de65] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:19:22.315 DEBUG [5e72ea76-36eb-4893-af7f-34511d51de65] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:19:22.321  INFO [5e72ea76-36eb-4893-af7f-34511d51de65] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:19:22.321  INFO [5e72ea76-36eb-4893-af7f-34511d51de65] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:19:23.174 DEBUG [223dde84-a6bc-4e96-80a1-7f266186b975] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:23.188 DEBUG [223dde84-a6bc-4e96-80a1-7f266186b975] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 41BD98C8C9A7092CA741D581F47D3C58
2025-05-27 12:19:23.191 DEBUG [223dde84-a6bc-4e96-80a1-7f266186b975] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:23.199  INFO [223dde84-a6bc-4e96-80a1-7f266186b975] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:23.199  INFO [223dde84-a6bc-4e96-80a1-7f266186b975] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:23.257  INFO [223dde84-a6bc-4e96-80a1-7f266186b975] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:23.267 DEBUG [ee367057-61ff-4c11-9786-efcd8fc3a4fd] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:23.280 DEBUG [ee367057-61ff-4c11-9786-efcd8fc3a4fd] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:23.287  INFO [ee367057-61ff-4c11-9786-efcd8fc3a4fd] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:23.287  INFO [ee367057-61ff-4c11-9786-efcd8fc3a4fd] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:23.341  INFO [ee367057-61ff-4c11-9786-efcd8fc3a4fd] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:24.622 DEBUG [c0781504-ecc7-4873-9d0b-52241d1b0745] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:19:24.635 DEBUG [c0781504-ecc7-4873-9d0b-52241d1b0745] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:19:24.635  INFO [c0781504-ecc7-4873-9d0b-52241d1b0745] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:19:24.640  INFO [c0781504-ecc7-4873-9d0b-52241d1b0745] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:19:24.737 DEBUG [eac1b106-5ebc-44da-bd8a-1ad44a00411a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:19:24.737 DEBUG [13a71776-9d40-4933-83e6-313cec1db7a3] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:19:24.756 DEBUG [eac1b106-5ebc-44da-bd8a-1ad44a00411a] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:19:24.756 DEBUG [13a71776-9d40-4933-83e6-313cec1db7a3] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B018BEF6F602EA60F569A6555EB4D4DA
2025-05-27 12:19:24.758 DEBUG [13a71776-9d40-4933-83e6-313cec1db7a3] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:19:24.758 DEBUG [eac1b106-5ebc-44da-bd8a-1ad44a00411a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:19:24.759  INFO [13a71776-9d40-4933-83e6-313cec1db7a3] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:19:24.768  WARN [eac1b106-5ebc-44da-bd8a-1ad44a00411a] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:19:24.769  WARN [eac1b106-5ebc-44da-bd8a-1ad44a00411a] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:19:24.775  INFO [13a71776-9d40-4933-83e6-313cec1db7a3] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:19:24.780 DEBUG [7691c28a-54fd-435b-8e9c-d8bd116dfd6f] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:19:24.794 DEBUG [7691c28a-54fd-435b-8e9c-d8bd116dfd6f] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:19:24.801  WARN [7691c28a-54fd-435b-8e9c-d8bd116dfd6f] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:19:24.802  WARN [7691c28a-54fd-435b-8e9c-d8bd116dfd6f] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:19:26.008 DEBUG [8abd6066-42b4-4a98-a945-2f090a15fe85] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:19:26.008 DEBUG [1cc80c0a-353c-4568-976d-409430a60b31] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:26.008 DEBUG [0e947268-052b-4998-9e61-e320a5d7285b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:19:26.019 DEBUG [0e947268-052b-4998-9e61-e320a5d7285b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:19:26.019 DEBUG [8abd6066-42b4-4a98-a945-2f090a15fe85] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:19:26.019  INFO [0e947268-052b-4998-9e61-e320a5d7285b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:19:26.019 DEBUG [1cc80c0a-353c-4568-976d-409430a60b31] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:26.025  INFO [1cc80c0a-353c-4568-976d-409430a60b31] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:26.025  INFO [1cc80c0a-353c-4568-976d-409430a60b31] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:26.026  WARN [8abd6066-42b4-4a98-a945-2f090a15fe85] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:19:26.026  WARN [8abd6066-42b4-4a98-a945-2f090a15fe85] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:19:26.031  INFO [0e947268-052b-4998-9e61-e320a5d7285b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:19:26.036 DEBUG [bf30d303-8a4f-4e15-bb57-949d398acffb] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:19:26.047 DEBUG [bf30d303-8a4f-4e15-bb57-949d398acffb] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:19:26.051  WARN [bf30d303-8a4f-4e15-bb57-949d398acffb] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:19:26.052  WARN [bf30d303-8a4f-4e15-bb57-949d398acffb] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:19:26.076  INFO [1cc80c0a-353c-4568-976d-409430a60b31] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:26.082 DEBUG [d1f3ebab-edd8-468c-a671-d8d43889478c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:19:26.093 DEBUG [d1f3ebab-edd8-468c-a671-d8d43889478c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:19:26.098  INFO [d1f3ebab-edd8-468c-a671-d8d43889478c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:19:26.098  INFO [d1f3ebab-edd8-468c-a671-d8d43889478c] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:19:26.151  INFO [d1f3ebab-edd8-468c-a671-d8d43889478c] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:19:26.761 DEBUG [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:19:26.763 DEBUG [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:19:26.763 DEBUG [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:19:26.763 DEBUG [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:19:26.764  INFO [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:19:26.765  INFO [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:19:26.765  INFO [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:19:26.765  INFO [a802c8bc-44f0-41fe-81b3-19ecfb00d5e3] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:19:28.491 DEBUG [696decc8-c53f-4604-9509-9f455fa9c74b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:19:28.500 DEBUG [696decc8-c53f-4604-9509-9f455fa9c74b] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:19:28.501  INFO [696decc8-c53f-4604-9509-9f455fa9c74b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:19:28.505  INFO [696decc8-c53f-4604-9509-9f455fa9c74b] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:19:28.521 DEBUG [fc0605d5-add2-4d0a-94dd-797b395cfe9e] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:19:28.533 DEBUG [fc0605d5-add2-4d0a-94dd-797b395cfe9e] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:19:28.538  WARN [fc0605d5-add2-4d0a-94dd-797b395cfe9e] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:19:28.538  WARN [fc0605d5-add2-4d0a-94dd-797b395cfe9e] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:19:28.715 DEBUG [0ae3e16a-d2a0-41b2-ad2d-bb0f8c710720] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:19:28.725 DEBUG [0ae3e16a-d2a0-41b2-ad2d-bb0f8c710720] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:19:28.726  INFO [0ae3e16a-d2a0-41b2-ad2d-bb0f8c710720] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:19:28.730  INFO [0ae3e16a-d2a0-41b2-ad2d-bb0f8c710720] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:19:28.748 DEBUG [238748ad-df72-4c2b-b9b7-2da27d872af4] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:19:28.759 DEBUG [238748ad-df72-4c2b-b9b7-2da27d872af4] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:19:28.765  WARN [238748ad-df72-4c2b-b9b7-2da27d872af4] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:19:28.765  WARN [238748ad-df72-4c2b-b9b7-2da27d872af4] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:19:30.156 DEBUG [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:19:30.157 DEBUG [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:19:30.157 DEBUG [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:19:30.157 DEBUG [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:19:30.158  INFO [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:19:30.158  INFO [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:19:30.158  INFO [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:19:30.159  INFO [4c3b3cc6-c6b5-4859-89d1-5635260303e0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:19:35.137 DEBUG [e1656109-f1e8-476d-9664-126b8eeaa953] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:19:35.175 DEBUG [e1656109-f1e8-476d-9664-126b8eeaa953] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:19:35.176  INFO [e1656109-f1e8-476d-9664-126b8eeaa953] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:19:35.295  INFO [e1656109-f1e8-476d-9664-126b8eeaa953] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:19:35.302 DEBUG [febe5cdc-c0c0-4e33-ad8b-defebb3043ba] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:19:35.314 DEBUG [febe5cdc-c0c0-4e33-ad8b-defebb3043ba] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:19:35.314  INFO [febe5cdc-c0c0-4e33-ad8b-defebb3043ba] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:19:35.446  INFO [febe5cdc-c0c0-4e33-ad8b-defebb3043ba] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:19:35.987 DEBUG [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:19:35.988 DEBUG [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:19:35.988 DEBUG [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:19:35.989 DEBUG [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:19:35.990  INFO [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:19:35.990  INFO [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:19:35.990  INFO [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:19:35.990  INFO [933d1e7b-14ef-4868-9ca6-b2d1dedc193a] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:20:03.796 DEBUG [1eb6ace3-5f5b-4ac5-bb45-3a5c6fb8190c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:20:03.813 DEBUG [1eb6ace3-5f5b-4ac5-bb45-3a5c6fb8190c] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:20:03.814  INFO [1eb6ace3-5f5b-4ac5-bb45-3a5c6fb8190c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:20:03.916  INFO [1eb6ace3-5f5b-4ac5-bb45-3a5c6fb8190c] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:20:03.924 DEBUG [22ddee68-ab2b-42ee-a9e3-40aec4107590] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:20:03.936 DEBUG [22ddee68-ab2b-42ee-a9e3-40aec4107590] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:20:03.937  INFO [22ddee68-ab2b-42ee-a9e3-40aec4107590] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:20:04.030  INFO [22ddee68-ab2b-42ee-a9e3-40aec4107590] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:20:06.726 DEBUG [4f30c0b8-4b85-404c-b9ca-8b2bb454dfdb] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:20:06.739 DEBUG [4f30c0b8-4b85-404c-b9ca-8b2bb454dfdb] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:20:06.747  INFO [4f30c0b8-4b85-404c-b9ca-8b2bb454dfdb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:20:06.747  INFO [4f30c0b8-4b85-404c-b9ca-8b2bb454dfdb] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:20:06.758 DEBUG [da758281-e491-4827-a224-675a73573757] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:20:06.768 DEBUG [da758281-e491-4827-a224-675a73573757] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:20:06.774  INFO [da758281-e491-4827-a224-675a73573757] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:20:06.775  INFO [da758281-e491-4827-a224-675a73573757] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:20:08.187 DEBUG [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:20:08.188 DEBUG [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:20:08.188 DEBUG [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:20:08.189 DEBUG [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:20:08.190  INFO [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:20:08.190  INFO [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:20:08.190  INFO [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:20:08.190  INFO [987b6123-f66c-4afe-b26b-c857775f8523] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:21:48.035 DEBUG [e5cf6ed9-6110-4ee4-8640-92c0a5b1e328] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:21:48.056 DEBUG [e5cf6ed9-6110-4ee4-8640-92c0a5b1e328] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:21:48.056  INFO [e5cf6ed9-6110-4ee4-8640-92c0a5b1e328] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:21:48.141  INFO [e5cf6ed9-6110-4ee4-8640-92c0a5b1e328] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:21:48.149 DEBUG [f0118bbd-5776-461a-bd8c-607e1a1d2fbd] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:21:48.159 DEBUG [f0118bbd-5776-461a-bd8c-607e1a1d2fbd] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:21:48.160  INFO [f0118bbd-5776-461a-bd8c-607e1a1d2fbd] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:21:48.249  INFO [f0118bbd-5776-461a-bd8c-607e1a1d2fbd] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:21:50.542 DEBUG [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:21:50.543 DEBUG [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:21:50.544 DEBUG [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:21:50.544 DEBUG [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:21:50.545  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:21:50.545  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:21:50.545  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:21:50.545  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:21:50.545  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:21:50.605  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:21:50.606  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:21:50.606  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:21:50.606  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:21:50.606  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:21:50.606  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:21:50.606  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:21:50.607  INFO [f8137b3c-ee0b-42e9-aa6f-7775058f99da] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:21:52.227 DEBUG [cc722dc7-7789-46b0-a24b-d46651700811] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:21:52.247 DEBUG [cc722dc7-7789-46b0-a24b-d46651700811] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:21:52.254  INFO [cc722dc7-7789-46b0-a24b-d46651700811] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:21:52.255  INFO [cc722dc7-7789-46b0-a24b-d46651700811] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:21:52.269 DEBUG [ef950a83-6cf8-4b94-a952-a41395192fec] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:21:52.285 DEBUG [ef950a83-6cf8-4b94-a952-a41395192fec] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:21:52.293  INFO [ef950a83-6cf8-4b94-a952-a41395192fec] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:21:52.293  INFO [ef950a83-6cf8-4b94-a952-a41395192fec] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:21:52.986 DEBUG [3851348c-b1fb-471c-8a2f-4e449b99ddcf] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:21:53.008 DEBUG [3851348c-b1fb-471c-8a2f-4e449b99ddcf] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:21:53.029  INFO [3851348c-b1fb-471c-8a2f-4e449b99ddcf] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:21:53.030  INFO [3851348c-b1fb-471c-8a2f-4e449b99ddcf] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:21:53.150  INFO [3851348c-b1fb-471c-8a2f-4e449b99ddcf] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:21:53.159 DEBUG [5c2df080-95fd-46ad-89c7-603ae1a07a56] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:21:53.182 DEBUG [5c2df080-95fd-46ad-89c7-603ae1a07a56] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:21:53.187  INFO [5c2df080-95fd-46ad-89c7-603ae1a07a56] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:21:53.187  INFO [5c2df080-95fd-46ad-89c7-603ae1a07a56] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:21:53.243  INFO [5c2df080-95fd-46ad-89c7-603ae1a07a56] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:21:54.113 DEBUG [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:21:54.114 DEBUG [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:21:54.114 DEBUG [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:21:54.116 DEBUG [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:21:54.117  INFO [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:21:54.117  INFO [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:21:54.117  INFO [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:21:54.117  INFO [d715d74f-7990-4a97-a294-582962f767a6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:26:06.261 DEBUG [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:26:06.262 DEBUG [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:26:06.262 DEBUG [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:26:06.263 DEBUG [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:26:06.263  INFO [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:26:06.263  INFO [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:26:06.264  INFO [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:26:06.264  INFO [17abb010-9a89-4f43-9b9e-49d3e40bba59] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:26:15.356 DEBUG [edbd3aed-6fd4-4cc7-8a3c-60dbb958f013] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:26:15.372 DEBUG [edbd3aed-6fd4-4cc7-8a3c-60dbb958f013] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:26:15.372  INFO [edbd3aed-6fd4-4cc7-8a3c-60dbb958f013] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:26:15.464  INFO [edbd3aed-6fd4-4cc7-8a3c-60dbb958f013] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:26:15.472 DEBUG [83a70aa0-4425-4a42-9576-370371896800] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:26:15.482 DEBUG [83a70aa0-4425-4a42-9576-370371896800] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:26:15.482  INFO [83a70aa0-4425-4a42-9576-370371896800] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:26:15.582  INFO [83a70aa0-4425-4a42-9576-370371896800] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:28:01.196 DEBUG [19ce3930-8265-4459-8758-d4ae7f54ed5b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:28:01.223 DEBUG [19ce3930-8265-4459-8758-d4ae7f54ed5b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:28:01.231  INFO [19ce3930-8265-4459-8758-d4ae7f54ed5b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:28:01.231  INFO [19ce3930-8265-4459-8758-d4ae7f54ed5b] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:28:01.243 DEBUG [9253b579-df31-4940-afdf-406eccfcff74] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:28:01.255 DEBUG [9253b579-df31-4940-afdf-406eccfcff74] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:28:01.263  INFO [9253b579-df31-4940-afdf-406eccfcff74] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:28:01.263  INFO [9253b579-df31-4940-afdf-406eccfcff74] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:28:02.947 DEBUG [75566871-521f-466f-9612-066d453d151d] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:28:02.969 DEBUG [75566871-521f-466f-9612-066d453d151d] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:28:02.978  INFO [75566871-521f-466f-9612-066d453d151d] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:28:02.979  INFO [75566871-521f-466f-9612-066d453d151d] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:28:03.039  INFO [75566871-521f-466f-9612-066d453d151d] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:28:03.049 DEBUG [bb09759c-3a7e-411f-8224-e1a34639e832] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:28:03.062 DEBUG [bb09759c-3a7e-411f-8224-e1a34639e832] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:28:03.069  INFO [bb09759c-3a7e-411f-8224-e1a34639e832] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:28:03.069  INFO [bb09759c-3a7e-411f-8224-e1a34639e832] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:28:03.122  INFO [bb09759c-3a7e-411f-8224-e1a34639e832] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:28:04.664 DEBUG [0184fe6e-91ce-42c6-bff2-a1dc6999b272] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:28:04.674 DEBUG [0184fe6e-91ce-42c6-bff2-a1dc6999b272] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:28:04.674  INFO [0184fe6e-91ce-42c6-bff2-a1dc6999b272] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:28:04.678  INFO [0184fe6e-91ce-42c6-bff2-a1dc6999b272] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:28:04.699 DEBUG [81879fc5-9b87-462a-8a4b-de7b745b734c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:28:04.713 DEBUG [81879fc5-9b87-462a-8a4b-de7b745b734c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:28:04.721  WARN [81879fc5-9b87-462a-8a4b-de7b745b734c] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:28:04.721  WARN [81879fc5-9b87-462a-8a4b-de7b745b734c] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:28:04.939 DEBUG [ec76b4a4-fc73-473b-bcb8-c2c2e5f38e45] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:28:04.950 DEBUG [ec76b4a4-fc73-473b-bcb8-c2c2e5f38e45] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:28:04.951  INFO [ec76b4a4-fc73-473b-bcb8-c2c2e5f38e45] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:28:04.956  INFO [ec76b4a4-fc73-473b-bcb8-c2c2e5f38e45] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:28:04.974 DEBUG [44933add-fe15-47d6-8c9c-f2e0d415cc9a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:28:04.988 DEBUG [44933add-fe15-47d6-8c9c-f2e0d415cc9a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:28:04.994  WARN [44933add-fe15-47d6-8c9c-f2e0d415cc9a] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:28:04.995  WARN [44933add-fe15-47d6-8c9c-f2e0d415cc9a] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:28:05.960 DEBUG [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:28:05.961 DEBUG [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:28:05.961 DEBUG [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:28:05.963 DEBUG [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:28:05.964  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:28:05.964  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:28:05.965  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:28:05.965  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:28:05.965  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:28:06.019  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:28:06.020  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:28:06.020  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:28:06.020  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:28:06.020  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:28:06.020  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:28:06.020  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:28:06.020  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:28:06.021  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:28:06.021  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:28:06.021  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:28:06.021  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:28:06.021  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:28:06.021  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:28:06.021  INFO [8944a177-b4e0-4dff-b5c7-47409fc45f63] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:31:31.636 DEBUG [92322a9d-b828-44e5-9d1a-afac56cb42ce] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:31:31.646 DEBUG [92322a9d-b828-44e5-9d1a-afac56cb42ce] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:31:31.647  INFO [92322a9d-b828-44e5-9d1a-afac56cb42ce] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:31:31.690  INFO [92322a9d-b828-44e5-9d1a-afac56cb42ce] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:31:31.698 DEBUG [8a910a9f-6b05-4a86-a758-3eee7de5d7a5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:31:31.707 DEBUG [8a910a9f-6b05-4a86-a758-3eee7de5d7a5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:31:31.707  INFO [8a910a9f-6b05-4a86-a758-3eee7de5d7a5] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:31:31.752  INFO [8a910a9f-6b05-4a86-a758-3eee7de5d7a5] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:32:33.996 DEBUG [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:32:33.996 DEBUG [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:32:33.997 DEBUG [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:32:33.997 DEBUG [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:32:33.998  INFO [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:32:33.999  INFO [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:32:33.999  INFO [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:32:33.999  INFO [d76edddb-f79d-4f86-bd0c-6252b2b7aafc] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:32:41.287 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 12:32:41.288 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:32:41.288 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:32:41.288 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 12:32:41.290  INFO [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: One way to London next month
2025-05-27 12:32:41.311  INFO [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 12:32:41.318  INFO [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 12:32:41.335 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "One way to London next month";
2025-05-27 12:32:41.346  INFO [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 12:32:42.919 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "LHR",
  "departureDate": "2025-06-27",
  "returnDate": null,
  "tripType": "oneWay",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 12:32:42.919 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 12:32:42.920 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 12:32:42.920 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 12:32:42.921 DEBUG [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:32:42.921  INFO [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:32:42.921  INFO [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=LHR, departureDate=2025-06-27, returnDate=null, tripType=oneWay, adults=1, children=0, infants=0
2025-05-27 12:32:42.921  INFO [38ed9d51-a0d6-48d8-8294-e685c65e88f8] 3964 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: LHR
2025-05-27 12:32:43.948 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 12:32:43.949 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:32:43.949 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:32:43.949 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 12:32:43.950  INFO [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: One way to London next month
2025-05-27 12:32:43.950  INFO [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 12:32:43.950  INFO [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 12:32:43.951 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "One way to London next month";
2025-05-27 12:32:43.953  INFO [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 12:32:45.493 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "LHR",
  "departureDate": "2025-06-27",
  "returnDate": null,
  "tripType": "oneWay",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 12:32:45.494 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 12:32:45.494 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 12:32:45.494 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 12:32:45.494 DEBUG [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:32:45.494  INFO [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:32:45.495  INFO [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=LHR, departureDate=2025-06-27, returnDate=null, tripType=oneWay, adults=1, children=0, infants=0
2025-05-27 12:32:45.495  INFO [ac3f20ee-5447-4b86-a3ea-fd33960242c5] 3964 --- [nio-8080-exec-6] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: LHR
2025-05-27 12:32:47.283 DEBUG [c200f7d3-4e66-4040-9c98-88d144096013] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:32:47.296 DEBUG [c200f7d3-4e66-4040-9c98-88d144096013] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:32:47.297  INFO [c200f7d3-4e66-4040-9c98-88d144096013] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:32:47.302  INFO [c200f7d3-4e66-4040-9c98-88d144096013] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:32:47.372 DEBUG [3c7a0209-47ac-4d22-a8b2-ec376cecccf3] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:32:47.373 DEBUG [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 12:32:47.374 DEBUG [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:32:47.374 DEBUG [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:32:47.374 DEBUG [3e6321c5-da2a-4e5b-82c9-e9a2f4e39cad] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:32:47.375 DEBUG [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 12:32:47.384  INFO [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=LHR, Depart=2025-06-27, Return=null, Pax=1/0/0
2025-05-27 12:32:47.387  INFO [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to LHR on 2025-06-27
2025-05-27 12:32:47.408 DEBUG [3e6321c5-da2a-4e5b-82c9-e9a2f4e39cad] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:32:47.408  WARN [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No flights found for search: OTP to LHR on 2025-06-27
2025-05-27 12:32:47.408  INFO [3e6321c5-da2a-4e5b-82c9-e9a2f4e39cad] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:32:47.409  INFO [efab6e91-df89-4df2-94fd-a65bff7d446a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 12:32:47.414 DEBUG [3c7a0209-47ac-4d22-a8b2-ec376cecccf3] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:32:47.421 DEBUG [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 12:32:47.422 DEBUG [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:32:47.422 DEBUG [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:32:47.422  WARN [3c7a0209-47ac-4d22-a8b2-ec376cecccf3] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:32:47.422 DEBUG [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=LHR&departureDate=2025-06-27&tripType=oneWay
2025-05-27 12:32:47.422  WARN [3c7a0209-47ac-4d22-a8b2-ec376cecccf3] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:32:47.424  INFO [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=LHR, Depart=2025-06-27, Return=null, Pax=1/0/0
2025-05-27 12:32:47.424  INFO [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to LHR on 2025-06-27
2025-05-27 12:32:47.426  INFO [3e6321c5-da2a-4e5b-82c9-e9a2f4e39cad] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:32:47.430  WARN [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No flights found for search: OTP to LHR on 2025-06-27
2025-05-27 12:32:47.430  INFO [67e69f05-3b7a-4cb1-a714-480e73c7bba8] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 12:32:47.435 DEBUG [d388686c-ea93-423e-b404-204f986b03dd] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:32:47.447 DEBUG [d388686c-ea93-423e-b404-204f986b03dd] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:32:47.455  WARN [d388686c-ea93-423e-b404-204f986b03dd] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:32:47.456  WARN [d388686c-ea93-423e-b404-204f986b03dd] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:33:48.924 DEBUG [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:33:48.925 DEBUG [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:33:48.926 DEBUG [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:33:48.927 DEBUG [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:33:48.928  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:33:48.928  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:33:48.928  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:33:48.928  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:33:48.928  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:33:48.990  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:33:48.990  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:33:48.990  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:33:48.990  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:33:48.990  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:33:48.991  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:33:48.991  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:33:48.991  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:33:48.991  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:33:48.991  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:33:48.991  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:33:48.992  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:33:48.992  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:33:48.992  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:33:48.992  INFO [5b58ad9c-6b3e-492e-a5d3-a32af621a686] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:33:53.107 DEBUG [b1e18985-5e77-4e6d-9e16-072061875e86] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:33:53.108 DEBUG [b1e18985-5e77-4e6d-9e16-072061875e86] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:33:53.108 DEBUG [b1e18985-5e77-4e6d-9e16-072061875e86] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:33:53.109 DEBUG [b1e18985-5e77-4e6d-9e16-072061875e86] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:33:53.110  INFO [b1e18985-5e77-4e6d-9e16-072061875e86] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:33:53.153  INFO [b1e18985-5e77-4e6d-9e16-072061875e86] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:33:53.162 DEBUG [a1d9adc0-0fd8-4e13-86ce-b60e168a5737] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:33:53.162 DEBUG [a1d9adc0-0fd8-4e13-86ce-b60e168a5737] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:33:53.163 DEBUG [a1d9adc0-0fd8-4e13-86ce-b60e168a5737] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:33:53.163 DEBUG [a1d9adc0-0fd8-4e13-86ce-b60e168a5737] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:33:53.164  INFO [a1d9adc0-0fd8-4e13-86ce-b60e168a5737] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:33:53.208  INFO [a1d9adc0-0fd8-4e13-86ce-b60e168a5737] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:33:57.524 DEBUG [dc74fd36-2864-43c7-bd54-0ae94c56320c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:33:57.535 DEBUG [dc74fd36-2864-43c7-bd54-0ae94c56320c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:33:57.536  INFO [dc74fd36-2864-43c7-bd54-0ae94c56320c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:33:57.642  INFO [dc74fd36-2864-43c7-bd54-0ae94c56320c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:33:57.651 DEBUG [583221b6-cd5d-4521-9d5a-dfb878c2ebb6] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:33:57.662 DEBUG [583221b6-cd5d-4521-9d5a-dfb878c2ebb6] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:33:57.663  INFO [583221b6-cd5d-4521-9d5a-dfb878c2ebb6] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:33:57.777  INFO [583221b6-cd5d-4521-9d5a-dfb878c2ebb6] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:33:59.418 DEBUG [911c279d-0a6c-45e5-8c33-c56a9406f7b4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:33:59.428 DEBUG [911c279d-0a6c-45e5-8c33-c56a9406f7b4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:33:59.429  INFO [911c279d-0a6c-45e5-8c33-c56a9406f7b4] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:33:59.480  INFO [911c279d-0a6c-45e5-8c33-c56a9406f7b4] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:33:59.491 DEBUG [fc0deaf0-8f16-4973-a9fc-24c8d8fa5029] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:33:59.501 DEBUG [fc0deaf0-8f16-4973-a9fc-24c8d8fa5029] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:33:59.502  INFO [fc0deaf0-8f16-4973-a9fc-24c8d8fa5029] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:33:59.553  INFO [fc0deaf0-8f16-4973-a9fc-24c8d8fa5029] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:34:02.928 DEBUG [350835a9-fe01-4911-9871-b70f6f05929e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:34:02.976 DEBUG [350835a9-fe01-4911-9871-b70f6f05929e] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:34:03.021 DEBUG [350835a9-fe01-4911-9871-b70f6f05929e] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:34:03.132 DEBUG [350835a9-fe01-4911-9871-b70f6f05929e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:34:03.259  INFO [350835a9-fe01-4911-9871-b70f6f05929e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:34:03.518  INFO [350835a9-fe01-4911-9871-b70f6f05929e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:34:38.095 DEBUG [b6289032-670c-44ee-b772-a9c7f220d05a] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:34:38.121 DEBUG [b6289032-670c-44ee-b772-a9c7f220d05a] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:34:38.122  INFO [b6289032-670c-44ee-b772-a9c7f220d05a] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:34:38.186  INFO [b6289032-670c-44ee-b772-a9c7f220d05a] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:34:39.789 DEBUG [c82d747f-4a1d-4adb-b9bb-fa62005e9fbd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:34:39.801 DEBUG [c82d747f-4a1d-4adb-b9bb-fa62005e9fbd] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:34:39.801  INFO [c82d747f-4a1d-4adb-b9bb-fa62005e9fbd] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:34:39.806  INFO [c82d747f-4a1d-4adb-b9bb-fa62005e9fbd] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:34:39.881 DEBUG [a0da9823-0cd1-43ec-ad67-6c061f48885a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:34:39.883 DEBUG [0a129655-1ea9-4680-9bcd-b133ea3c68a5] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:34:39.898 DEBUG [a0da9823-0cd1-43ec-ad67-6c061f48885a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:34:39.900 DEBUG [0a129655-1ea9-4680-9bcd-b133ea3c68a5] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:34:39.901  INFO [0a129655-1ea9-4680-9bcd-b133ea3c68a5] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:34:39.928  WARN [a0da9823-0cd1-43ec-ad67-6c061f48885a] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:34:39.928  WARN [a0da9823-0cd1-43ec-ad67-6c061f48885a] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:34:39.934  INFO [0a129655-1ea9-4680-9bcd-b133ea3c68a5] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:34:39.941 DEBUG [0da6ddfd-231e-42bc-a9b8-6cd1ba850a55] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:34:39.954 DEBUG [0da6ddfd-231e-42bc-a9b8-6cd1ba850a55] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:34:39.960  WARN [0da6ddfd-231e-42bc-a9b8-6cd1ba850a55] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:34:39.961  WARN [0da6ddfd-231e-42bc-a9b8-6cd1ba850a55] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:34:43.200 DEBUG [57389b39-a4d3-4070-b0df-90feafc94fba] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:34:43.212 DEBUG [57389b39-a4d3-4070-b0df-90feafc94fba] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:34:43.212  INFO [57389b39-a4d3-4070-b0df-90feafc94fba] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:34:43.262  INFO [57389b39-a4d3-4070-b0df-90feafc94fba] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:34:43.271 DEBUG [1abbdb7f-6e54-4a1c-854e-a2191b7743b9] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:34:43.281 DEBUG [1abbdb7f-6e54-4a1c-854e-a2191b7743b9] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:34:43.282  INFO [1abbdb7f-6e54-4a1c-854e-a2191b7743b9] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:34:43.337  INFO [1abbdb7f-6e54-4a1c-854e-a2191b7743b9] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:34:53.306 DEBUG [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:34:53.306 DEBUG [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:34:53.307 DEBUG [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:34:53.307 DEBUG [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:34:53.307  INFO [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:34:53.308  INFO [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:34:53.308  INFO [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:34:53.308  INFO [38e8811f-e30f-47fa-a914-deba0437ce7d] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:35:13.502 DEBUG [2e458bc1-9690-44ac-818d-4f579fdc66a0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:35:13.517 DEBUG [2e458bc1-9690-44ac-818d-4f579fdc66a0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:35:13.518  INFO [2e458bc1-9690-44ac-818d-4f579fdc66a0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:35:13.625  INFO [2e458bc1-9690-44ac-818d-4f579fdc66a0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:35:13.634 DEBUG [620a04c7-2d82-4f99-add5-d02b520b4956] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:35:13.646 DEBUG [620a04c7-2d82-4f99-add5-d02b520b4956] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:35:13.647  INFO [620a04c7-2d82-4f99-add5-d02b520b4956] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:35:13.746  INFO [620a04c7-2d82-4f99-add5-d02b520b4956] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:35:18.378 DEBUG [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:35:18.378 DEBUG [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:35:18.378 DEBUG [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:35:18.380 DEBUG [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:35:18.380  INFO [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:35:18.380  INFO [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:35:18.380  INFO [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:35:18.380  INFO [0a575b51-ac43-4b8d-9eff-fab617209de3] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:37:36.223 DEBUG [156ef3cf-e713-4d06-b0f7-154cc77176aa] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:37:36.242 DEBUG [156ef3cf-e713-4d06-b0f7-154cc77176aa] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:37:36.249  INFO [156ef3cf-e713-4d06-b0f7-154cc77176aa] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:37:36.249  INFO [156ef3cf-e713-4d06-b0f7-154cc77176aa] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:37:36.261 DEBUG [8e2c6d79-658c-43b8-9c9d-64bb2d4f3991] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:37:36.273 DEBUG [8e2c6d79-658c-43b8-9c9d-64bb2d4f3991] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:37:36.278  INFO [8e2c6d79-658c-43b8-9c9d-64bb2d4f3991] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:37:36.279  INFO [8e2c6d79-658c-43b8-9c9d-64bb2d4f3991] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:37:37.286 DEBUG [e8044e87-af46-4ba5-936d-993b3185f148] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:37:37.304 DEBUG [e8044e87-af46-4ba5-936d-993b3185f148] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:37:37.305  INFO [e8044e87-af46-4ba5-936d-993b3185f148] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:37:37.408  INFO [e8044e87-af46-4ba5-936d-993b3185f148] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:37:37.416 DEBUG [0b7651dd-3fb3-4b40-a4ef-c110544ceaaa] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:37:37.428 DEBUG [0b7651dd-3fb3-4b40-a4ef-c110544ceaaa] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:37:37.428  INFO [0b7651dd-3fb3-4b40-a4ef-c110544ceaaa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:37:37.526  INFO [0b7651dd-3fb3-4b40-a4ef-c110544ceaaa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:37:38.546 DEBUG [22f44330-3824-421b-924c-74f1d68ee64c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:37:38.562 DEBUG [22f44330-3824-421b-924c-74f1d68ee64c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:37:38.569  INFO [22f44330-3824-421b-924c-74f1d68ee64c] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:37:38.570  INFO [22f44330-3824-421b-924c-74f1d68ee64c] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:37:38.582 DEBUG [b28f61dd-e894-44b9-a292-9840d8d32330] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:37:38.595 DEBUG [b28f61dd-e894-44b9-a292-9840d8d32330] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:37:38.602  INFO [b28f61dd-e894-44b9-a292-9840d8d32330] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:37:38.603  INFO [b28f61dd-e894-44b9-a292-9840d8d32330] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:37:39.120 DEBUG [0103709a-02ac-4287-b58b-c2cd38421a56] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:37:39.133 DEBUG [0103709a-02ac-4287-b58b-c2cd38421a56] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:37:39.138  INFO [0103709a-02ac-4287-b58b-c2cd38421a56] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:37:39.138  INFO [0103709a-02ac-4287-b58b-c2cd38421a56] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:37:39.190  INFO [0103709a-02ac-4287-b58b-c2cd38421a56] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:37:39.199 DEBUG [1dc0a0d7-ad42-4b66-9209-52e2d45b5a1e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:37:39.214 DEBUG [1dc0a0d7-ad42-4b66-9209-52e2d45b5a1e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:37:39.220  INFO [1dc0a0d7-ad42-4b66-9209-52e2d45b5a1e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:37:39.221  INFO [1dc0a0d7-ad42-4b66-9209-52e2d45b5a1e] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:37:39.269  INFO [1dc0a0d7-ad42-4b66-9209-52e2d45b5a1e] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:40:39.140 DEBUG [4e3ee442-f3fa-41c8-bff8-be461e131905] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:40:39.161 DEBUG [4e3ee442-f3fa-41c8-bff8-be461e131905] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:40:39.169  INFO [4e3ee442-f3fa-41c8-bff8-be461e131905] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:40:39.170  INFO [4e3ee442-f3fa-41c8-bff8-be461e131905] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:40:39.186 DEBUG [ffdb8637-8909-47ba-849a-3ae8154a7fc2] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:40:39.196 DEBUG [ffdb8637-8909-47ba-849a-3ae8154a7fc2] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:40:39.201  INFO [ffdb8637-8909-47ba-849a-3ae8154a7fc2] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:40:39.201  INFO [ffdb8637-8909-47ba-849a-3ae8154a7fc2] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:40:57.305 DEBUG [2868f935-9831-4a6e-a7bf-6916b987ffbd] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:40:57.315 DEBUG [2868f935-9831-4a6e-a7bf-6916b987ffbd] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:40:57.316  INFO [2868f935-9831-4a6e-a7bf-6916b987ffbd] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:40:57.320  INFO [2868f935-9831-4a6e-a7bf-6916b987ffbd] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:40:57.374 DEBUG [f27f71b8-d3ee-49ce-9ebb-439a9ea43681] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:40:57.374 DEBUG [158faeb0-c205-49b2-aadf-5bdc2af44eff] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:40:57.375 DEBUG [c2dc1229-50c1-4220-b761-2f2cd47adcf1] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:40:57.390 DEBUG [f27f71b8-d3ee-49ce-9ebb-439a9ea43681] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:40:57.391 DEBUG [158faeb0-c205-49b2-aadf-5bdc2af44eff] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:40:57.391 DEBUG [c2dc1229-50c1-4220-b761-2f2cd47adcf1] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:40:57.391  INFO [c2dc1229-50c1-4220-b761-2f2cd47adcf1] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:40:57.396  INFO [f27f71b8-d3ee-49ce-9ebb-439a9ea43681] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:40:57.396  INFO [f27f71b8-d3ee-49ce-9ebb-439a9ea43681] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:40:57.396  WARN [158faeb0-c205-49b2-aadf-5bdc2af44eff] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:40:57.397  WARN [158faeb0-c205-49b2-aadf-5bdc2af44eff] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:40:57.409  INFO [c2dc1229-50c1-4220-b761-2f2cd47adcf1] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:40:57.412 DEBUG [45aa12e0-eab0-4d3e-a234-33a284f8931f] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:40:57.412 DEBUG [a4a5d96d-0ccb-4f11-b67c-929978d64cfd] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:40:57.426 DEBUG [45aa12e0-eab0-4d3e-a234-33a284f8931f] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:40:57.426 DEBUG [a4a5d96d-0ccb-4f11-b67c-929978d64cfd] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:40:57.434  INFO [45aa12e0-eab0-4d3e-a234-33a284f8931f] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:40:57.434  INFO [45aa12e0-eab0-4d3e-a234-33a284f8931f] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:40:57.434  WARN [a4a5d96d-0ccb-4f11-b67c-929978d64cfd] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:40:57.435  WARN [a4a5d96d-0ccb-4f11-b67c-929978d64cfd] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:41:49.043 DEBUG [4f4d06bf-cecf-4e60-a3a1-23f4c03c7f5d] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:41:49.057 DEBUG [4f4d06bf-cecf-4e60-a3a1-23f4c03c7f5d] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:41:49.063  INFO [4f4d06bf-cecf-4e60-a3a1-23f4c03c7f5d] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:41:49.063  INFO [4f4d06bf-cecf-4e60-a3a1-23f4c03c7f5d] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:41:49.108  INFO [4f4d06bf-cecf-4e60-a3a1-23f4c03c7f5d] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:41:49.116 DEBUG [c1f44a97-0960-4656-a8fc-546881cb94e2] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:41:49.127 DEBUG [c1f44a97-0960-4656-a8fc-546881cb94e2] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:41:49.131  INFO [c1f44a97-0960-4656-a8fc-546881cb94e2] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:41:49.131  INFO [c1f44a97-0960-4656-a8fc-546881cb94e2] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:41:49.178  INFO [c1f44a97-0960-4656-a8fc-546881cb94e2] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:41:50.027 DEBUG [cebef88b-622e-4e85-843d-300f8c70f7a0] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:41:50.040 DEBUG [cebef88b-622e-4e85-843d-300f8c70f7a0] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:41:50.045  INFO [cebef88b-622e-4e85-843d-300f8c70f7a0] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:41:50.046  INFO [cebef88b-622e-4e85-843d-300f8c70f7a0] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:41:50.058 DEBUG [20930aed-eca6-450a-a3d5-e465fa5b7e1f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:41:50.069 DEBUG [20930aed-eca6-450a-a3d5-e465fa5b7e1f] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:41:50.074  INFO [20930aed-eca6-450a-a3d5-e465fa5b7e1f] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:41:50.074  INFO [20930aed-eca6-450a-a3d5-e465fa5b7e1f] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:41:52.569 DEBUG [b084ce5b-d609-41d4-9d3e-36e3e29bf506] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:41:52.591 DEBUG [b084ce5b-d609-41d4-9d3e-36e3e29bf506] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:41:52.592  INFO [b084ce5b-d609-41d4-9d3e-36e3e29bf506] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:41:52.675  INFO [b084ce5b-d609-41d4-9d3e-36e3e29bf506] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:41:52.684 DEBUG [cb5860a9-0eaa-419e-8fc8-3bc9c2b711e2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:41:52.694 DEBUG [cb5860a9-0eaa-419e-8fc8-3bc9c2b711e2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:41:52.695  INFO [cb5860a9-0eaa-419e-8fc8-3bc9c2b711e2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:41:52.792  INFO [cb5860a9-0eaa-419e-8fc8-3bc9c2b711e2] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:42:12.570 DEBUG [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:42:12.571 DEBUG [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:42:12.571 DEBUG [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:42:12.572 DEBUG [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:42:12.573  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:42:12.573  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:42:12.573  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:42:12.573  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:42:12.573  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:42:12.634  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:42:12.634  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:42:12.634  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:42:12.634  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:42:12.634  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:42:12.635  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:42:12.635  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:42:12.635  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:42:12.635  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:42:12.635  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:42:12.635  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:42:12.636  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:42:12.637  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:42:12.637  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:42:12.637  INFO [8bf4eafc-af9d-45d1-8763-93a9213430cb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:42:14.329 DEBUG [edaee1ac-aed5-420f-bde5-dd74149f8956] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:42:14.367 DEBUG [edaee1ac-aed5-420f-bde5-dd74149f8956] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:42:14.367  INFO [edaee1ac-aed5-420f-bde5-dd74149f8956] 3964 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:42:14.469  INFO [edaee1ac-aed5-420f-bde5-dd74149f8956] 3964 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:42:14.478 DEBUG [1f9808b0-be33-455f-9600-33006d62d3cd] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:42:14.488 DEBUG [1f9808b0-be33-455f-9600-33006d62d3cd] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:42:14.489  INFO [1f9808b0-be33-455f-9600-33006d62d3cd] 3964 --- [nio-8080-exec-1] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:42:14.579  INFO [1f9808b0-be33-455f-9600-33006d62d3cd] 3964 --- [nio-8080-exec-1] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:42:33.500 DEBUG [1e69f5c8-661f-4320-811a-34628da58c54] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:42:33.513 DEBUG [1e69f5c8-661f-4320-811a-34628da58c54] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:42:33.513  INFO [1e69f5c8-661f-4320-811a-34628da58c54] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:42:33.640  INFO [1e69f5c8-661f-4320-811a-34628da58c54] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:42:33.657 DEBUG [b3ddb860-4e3c-4fb5-915a-51f9d103e399] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:42:33.670 DEBUG [b3ddb860-4e3c-4fb5-915a-51f9d103e399] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:42:33.671  INFO [b3ddb860-4e3c-4fb5-915a-51f9d103e399] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:42:33.788  INFO [b3ddb860-4e3c-4fb5-915a-51f9d103e399] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:50:52.752 DEBUG [c3ed4be1-9568-446c-ba05-3deabf65908b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:50:52.766 DEBUG [c3ed4be1-9568-446c-ba05-3deabf65908b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:50:52.766  INFO [c3ed4be1-9568-446c-ba05-3deabf65908b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:50:52.810  INFO [c3ed4be1-9568-446c-ba05-3deabf65908b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:50:52.819 DEBUG [a30a575d-51e8-487f-9967-3986302a5623] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:50:52.827 DEBUG [a30a575d-51e8-487f-9967-3986302a5623] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:50:52.828  INFO [a30a575d-51e8-487f-9967-3986302a5623] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:50:52.874  INFO [a30a575d-51e8-487f-9967-3986302a5623] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:50:53.700 DEBUG [615b15f9-fb6d-4f3a-a67b-98b09b8a834b] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:50:53.701 DEBUG [615b15f9-fb6d-4f3a-a67b-98b09b8a834b] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:50:53.701 DEBUG [615b15f9-fb6d-4f3a-a67b-98b09b8a834b] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:50:53.708 DEBUG [615b15f9-fb6d-4f3a-a67b-98b09b8a834b] 3964 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:50:53.708 DEBUG [615b15f9-fb6d-4f3a-a67b-98b09b8a834b] 3964 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:50:53.717 DEBUG [5d14910f-51ea-478b-947a-d2a914b9deb9] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:50:53.718 DEBUG [5d14910f-51ea-478b-947a-d2a914b9deb9] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:50:53.718 DEBUG [5d14910f-51ea-478b-947a-d2a914b9deb9] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:50:53.719 DEBUG [5d14910f-51ea-478b-947a-d2a914b9deb9] 3964 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:50:53.719 DEBUG [5d14910f-51ea-478b-947a-d2a914b9deb9] 3964 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:50:54.737 DEBUG [b2dadcb8-ce14-46d1-8665-ff69aae89aab] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:50:54.747 DEBUG [b2dadcb8-ce14-46d1-8665-ff69aae89aab] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:50:54.747  INFO [b2dadcb8-ce14-46d1-8665-ff69aae89aab] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:50:54.828  INFO [b2dadcb8-ce14-46d1-8665-ff69aae89aab] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:50:54.837 DEBUG [363a65bd-63a1-4a47-b32c-051037f9cab0] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:50:54.848 DEBUG [363a65bd-63a1-4a47-b32c-051037f9cab0] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:50:54.848  INFO [363a65bd-63a1-4a47-b32c-051037f9cab0] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:50:54.926  INFO [363a65bd-63a1-4a47-b32c-051037f9cab0] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:50:55.846 DEBUG [337764db-3efd-48be-895d-c96e79642e32] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:50:55.856 DEBUG [337764db-3efd-48be-895d-c96e79642e32] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:50:55.856  INFO [337764db-3efd-48be-895d-c96e79642e32] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:50:55.898  INFO [337764db-3efd-48be-895d-c96e79642e32] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:50:55.906 DEBUG [e45866b2-6c10-4c34-8cda-3af0f469a9e2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:50:55.914 DEBUG [e45866b2-6c10-4c34-8cda-3af0f469a9e2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:50:55.915  INFO [e45866b2-6c10-4c34-8cda-3af0f469a9e2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:50:55.957  INFO [e45866b2-6c10-4c34-8cda-3af0f469a9e2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:50:56.433 DEBUG [5d0cd844-56be-484f-872f-5208ffbb50aa] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:50:56.433 DEBUG [5d0cd844-56be-484f-872f-5208ffbb50aa] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:50:56.434 DEBUG [5d0cd844-56be-484f-872f-5208ffbb50aa] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:50:56.435 DEBUG [5d0cd844-56be-484f-872f-5208ffbb50aa] 3964 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:50:56.435 DEBUG [5d0cd844-56be-484f-872f-5208ffbb50aa] 3964 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:50:56.445 DEBUG [1f1782b4-d599-4dc8-a466-1d53790ea571] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:50:56.445 DEBUG [1f1782b4-d599-4dc8-a466-1d53790ea571] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:50:56.445 DEBUG [1f1782b4-d599-4dc8-a466-1d53790ea571] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:50:56.447 DEBUG [1f1782b4-d599-4dc8-a466-1d53790ea571] 3964 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:50:56.447 DEBUG [1f1782b4-d599-4dc8-a466-1d53790ea571] 3964 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:51:44.183 DEBUG [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:51:44.184 DEBUG [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:51:44.184 DEBUG [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:51:44.185 DEBUG [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:51:44.185  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:51:44.185  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:51:44.185  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:51:44.185  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:51:44.186  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:51:44.239  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:51:44.239  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:51:44.240  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:51:44.240  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:51:44.240  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:51:44.240  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:51:44.240  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:51:44.240  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:51:44.240  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:51:44.241  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:51:44.241  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:51:44.241  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:51:44.241  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:51:44.241  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:51:44.241  INFO [77db6d1a-ba28-4b91-a1bd-5e098539d196] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:51:45.953 DEBUG [33677c29-27fd-4a6d-b07e-ed33d3570523] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:51:45.973 DEBUG [33677c29-27fd-4a6d-b07e-ed33d3570523] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:51:45.974  INFO [33677c29-27fd-4a6d-b07e-ed33d3570523] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:51:46.066  INFO [33677c29-27fd-4a6d-b07e-ed33d3570523] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:51:46.073 DEBUG [1fae184a-c4c1-40fa-9949-c7a562249f19] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:51:46.082 DEBUG [1fae184a-c4c1-40fa-9949-c7a562249f19] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:51:46.083  INFO [1fae184a-c4c1-40fa-9949-c7a562249f19] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:51:46.166  INFO [1fae184a-c4c1-40fa-9949-c7a562249f19] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:51:46.746 DEBUG [d10342af-30d5-44b0-9079-6777661d52fe] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:51:46.747 DEBUG [d10342af-30d5-44b0-9079-6777661d52fe] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:51:46.747 DEBUG [d10342af-30d5-44b0-9079-6777661d52fe] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:51:46.748 DEBUG [d10342af-30d5-44b0-9079-6777661d52fe] 3964 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:51:46.749 DEBUG [d10342af-30d5-44b0-9079-6777661d52fe] 3964 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:51:46.758 DEBUG [d5ada7ec-cd77-4423-939d-664715227886] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:51:46.758 DEBUG [d5ada7ec-cd77-4423-939d-664715227886] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:51:46.758 DEBUG [d5ada7ec-cd77-4423-939d-664715227886] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:51:46.759 DEBUG [d5ada7ec-cd77-4423-939d-664715227886] 3964 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:51:46.760 DEBUG [d5ada7ec-cd77-4423-939d-664715227886] 3964 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:51:49.485 DEBUG [1b1adce1-609e-4aa7-85f6-46ae2ec9135c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:51:49.495 DEBUG [1b1adce1-609e-4aa7-85f6-46ae2ec9135c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:51:49.495  INFO [1b1adce1-609e-4aa7-85f6-46ae2ec9135c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:51:49.500  INFO [1b1adce1-609e-4aa7-85f6-46ae2ec9135c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:51:49.518 DEBUG [57b0e6e3-e1eb-4e04-a6dc-26f5017cfe06] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:51:49.530 DEBUG [57b0e6e3-e1eb-4e04-a6dc-26f5017cfe06] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:51:49.535  WARN [57b0e6e3-e1eb-4e04-a6dc-26f5017cfe06] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:51:49.536  WARN [57b0e6e3-e1eb-4e04-a6dc-26f5017cfe06] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:51:49.719 DEBUG [57b49d23-bab8-4e97-aab0-5d2e9063c885] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:51:49.729 DEBUG [57b49d23-bab8-4e97-aab0-5d2e9063c885] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:51:49.730  INFO [57b49d23-bab8-4e97-aab0-5d2e9063c885] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:51:49.734  INFO [57b49d23-bab8-4e97-aab0-5d2e9063c885] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:51:49.745 DEBUG [7b87b857-4133-47b3-b2c0-5dc6480431fb] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:51:49.755 DEBUG [7b87b857-4133-47b3-b2c0-5dc6480431fb] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:51:49.761  WARN [7b87b857-4133-47b3-b2c0-5dc6480431fb] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:51:49.761  WARN [7b87b857-4133-47b3-b2c0-5dc6480431fb] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:51:50.757 DEBUG [275ad402-57cc-4cf7-9203-0d048d6c1246] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 12:51:50.757 DEBUG [275ad402-57cc-4cf7-9203-0d048d6c1246] 3964 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 12:51:55.982 DEBUG [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 12:51:55.983 DEBUG [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:51:55.983 DEBUG [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 12:51:55.984  INFO [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 12:51:56.151  INFO [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 12:51:56.151  INFO [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 12:51:56.221 DEBUG [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 12:51:56.221  INFO [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 12:51:56.245  INFO [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 12:51:56.246  INFO [ea414fe0-d580-4a55-891b-10d24d8ca5ff] 3964 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 12:51:56.282 DEBUG [b5cfe83a-8c5e-4acb-8884-02c62f917f6f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:51:56.282 DEBUG [4da6d7a4-0e78-49ad-830e-f29ab390efb5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:51:56.294 DEBUG [b5cfe83a-8c5e-4acb-8884-02c62f917f6f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:51:56.295  INFO [b5cfe83a-8c5e-4acb-8884-02c62f917f6f] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:51:56.295 DEBUG [4da6d7a4-0e78-49ad-830e-f29ab390efb5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:51:56.301  WARN [4da6d7a4-0e78-49ad-830e-f29ab390efb5] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:51:56.302  WARN [4da6d7a4-0e78-49ad-830e-f29ab390efb5] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:51:56.306  INFO [b5cfe83a-8c5e-4acb-8884-02c62f917f6f] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:51:56.673 DEBUG [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:51:56.673 DEBUG [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:51:56.673 DEBUG [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:51:56.674 DEBUG [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:51:56.674  INFO [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:51:56.675  INFO [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:51:56.675  INFO [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:51:56.675  INFO [9345fd5e-2f86-4202-826a-5790170599fa] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:51:57.511 DEBUG [a15eea61-3176-4997-b458-161d33888d38] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:51:57.522 DEBUG [a15eea61-3176-4997-b458-161d33888d38] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:51:57.523  INFO [a15eea61-3176-4997-b458-161d33888d38] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:51:57.614  INFO [a15eea61-3176-4997-b458-161d33888d38] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:51:57.621 DEBUG [d13a4f58-44d1-4ee4-9180-5b9cbcc195dc] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:51:57.632 DEBUG [d13a4f58-44d1-4ee4-9180-5b9cbcc195dc] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:51:57.632  INFO [d13a4f58-44d1-4ee4-9180-5b9cbcc195dc] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:51:57.717  INFO [d13a4f58-44d1-4ee4-9180-5b9cbcc195dc] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:51:58.144 DEBUG [212c866c-bdc5-45f1-9eb3-c5f7960fe291] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:51:58.145 DEBUG [212c866c-bdc5-45f1-9eb3-c5f7960fe291] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:51:58.145 DEBUG [212c866c-bdc5-45f1-9eb3-c5f7960fe291] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:51:58.146 DEBUG [212c866c-bdc5-45f1-9eb3-c5f7960fe291] 3964 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:51:58.146 DEBUG [212c866c-bdc5-45f1-9eb3-c5f7960fe291] 3964 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:51:58.153 DEBUG [657bd9f4-15dd-4760-9141-c7f1e031534a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:51:58.153 DEBUG [657bd9f4-15dd-4760-9141-c7f1e031534a] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:51:58.154 DEBUG [657bd9f4-15dd-4760-9141-c7f1e031534a] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:51:58.155 DEBUG [657bd9f4-15dd-4760-9141-c7f1e031534a] 3964 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:51:58.155 DEBUG [657bd9f4-15dd-4760-9141-c7f1e031534a] 3964 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:52:11.497 DEBUG [49504bf9-24b8-4944-b606-c3e7809324b5] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:52:11.512 DEBUG [49504bf9-24b8-4944-b606-c3e7809324b5] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:52:11.512  INFO [49504bf9-24b8-4944-b606-c3e7809324b5] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:52:11.519  INFO [49504bf9-24b8-4944-b606-c3e7809324b5] 3964 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:52:11.608 DEBUG [ae10f3d5-9d90-4fb8-bcb8-72b10ee6be93] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:52:11.609 DEBUG [f447bf3f-0e94-4f35-b6a8-872bbdcdccc7] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:52:11.609 DEBUG [c5b0bb11-290d-42ef-a5fd-3107e8d5d38a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:52:11.646 DEBUG [f447bf3f-0e94-4f35-b6a8-872bbdcdccc7] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:52:11.647  INFO [f447bf3f-0e94-4f35-b6a8-872bbdcdccc7] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:52:11.648 DEBUG [ae10f3d5-9d90-4fb8-bcb8-72b10ee6be93] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:52:11.648 DEBUG [c5b0bb11-290d-42ef-a5fd-3107e8d5d38a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:52:11.650  INFO [c5b0bb11-290d-42ef-a5fd-3107e8d5d38a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:52:11.658  WARN [ae10f3d5-9d90-4fb8-bcb8-72b10ee6be93] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:52:11.659  WARN [ae10f3d5-9d90-4fb8-bcb8-72b10ee6be93] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:52:11.670 DEBUG [0e92fbfc-5ed6-49fd-92d2-296ad91034e2] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:52:11.675  INFO [c5b0bb11-290d-42ef-a5fd-3107e8d5d38a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:52:11.712 DEBUG [0e92fbfc-5ed6-49fd-92d2-296ad91034e2] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:52:11.720  WARN [0e92fbfc-5ed6-49fd-92d2-296ad91034e2] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:52:11.721  WARN [0e92fbfc-5ed6-49fd-92d2-296ad91034e2] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:52:11.829  INFO [f447bf3f-0e94-4f35-b6a8-872bbdcdccc7] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:52:11.839 DEBUG [78e499eb-21d1-4dfa-b19f-84bcc713ea35] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:52:11.853 DEBUG [78e499eb-21d1-4dfa-b19f-84bcc713ea35] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:52:11.853  INFO [78e499eb-21d1-4dfa-b19f-84bcc713ea35] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:52:11.997  INFO [78e499eb-21d1-4dfa-b19f-84bcc713ea35] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:52:12.427 DEBUG [9199cc55-0a8b-4ec9-8ef2-86f337d295e4] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:52:12.428 DEBUG [9199cc55-0a8b-4ec9-8ef2-86f337d295e4] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:52:12.428 DEBUG [9199cc55-0a8b-4ec9-8ef2-86f337d295e4] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:52:12.429 DEBUG [9199cc55-0a8b-4ec9-8ef2-86f337d295e4] 3964 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:52:12.429 DEBUG [9199cc55-0a8b-4ec9-8ef2-86f337d295e4] 3964 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:52:12.448 DEBUG [0f424fa0-fe10-4e2f-9142-93e96f4a15b7] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:52:12.449 DEBUG [0f424fa0-fe10-4e2f-9142-93e96f4a15b7] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:52:12.449 DEBUG [0f424fa0-fe10-4e2f-9142-93e96f4a15b7] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:52:12.450 DEBUG [0f424fa0-fe10-4e2f-9142-93e96f4a15b7] 3964 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 12:52:12.450 DEBUG [0f424fa0-fe10-4e2f-9142-93e96f4a15b7] 3964 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 12:52:23.556 DEBUG [f9cda452-52d9-4770-927d-161a737f0d4c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:52:23.568 DEBUG [f9cda452-52d9-4770-927d-161a737f0d4c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:52:23.568  INFO [f9cda452-52d9-4770-927d-161a737f0d4c] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:52:23.573  INFO [f9cda452-52d9-4770-927d-161a737f0d4c] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:52:23.672 DEBUG [827b0420-7cc1-4d8e-adca-3f904acb6436] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:52:23.681 DEBUG [448e8cc7-02a4-4643-a553-7b933fa13cbe] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:52:23.681 DEBUG [7f4616b4-0c9f-4d3f-aa79-63faea9d5146] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:52:23.714 DEBUG [827b0420-7cc1-4d8e-adca-3f904acb6436] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:52:23.715 DEBUG [7f4616b4-0c9f-4d3f-aa79-63faea9d5146] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:52:23.718  INFO [7f4616b4-0c9f-4d3f-aa79-63faea9d5146] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:52:23.719 DEBUG [448e8cc7-02a4-4643-a553-7b933fa13cbe] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:52:23.720  INFO [448e8cc7-02a4-4643-a553-7b933fa13cbe] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:52:23.724  WARN [827b0420-7cc1-4d8e-adca-3f904acb6436] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:52:23.725  WARN [827b0420-7cc1-4d8e-adca-3f904acb6436] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:52:23.731  INFO [7f4616b4-0c9f-4d3f-aa79-63faea9d5146] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:52:23.749 DEBUG [45e141a1-9f4d-430f-894c-7343aadd54b1] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:52:23.761 DEBUG [45e141a1-9f4d-430f-894c-7343aadd54b1] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:52:23.811  WARN [45e141a1-9f4d-430f-894c-7343aadd54b1] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:52:23.811  WARN [45e141a1-9f4d-430f-894c-7343aadd54b1] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:52:23.907  INFO [448e8cc7-02a4-4643-a553-7b933fa13cbe] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:52:23.917 DEBUG [c63cf1e3-1d19-4e56-b9e6-acc376bc182d] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:52:23.928 DEBUG [c63cf1e3-1d19-4e56-b9e6-acc376bc182d] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:52:23.928  INFO [c63cf1e3-1d19-4e56-b9e6-acc376bc182d] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:52:24.025  INFO [c63cf1e3-1d19-4e56-b9e6-acc376bc182d] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:52:24.938 DEBUG [f797d0a2-a19b-4e51-b1d4-1df7e47c0583] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:52:24.949 DEBUG [f797d0a2-a19b-4e51-b1d4-1df7e47c0583] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:52:24.949  INFO [f797d0a2-a19b-4e51-b1d4-1df7e47c0583] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:52:25.046  INFO [f797d0a2-a19b-4e51-b1d4-1df7e47c0583] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:52:25.054 DEBUG [c3409ecf-0d40-441d-abd6-75ae96d430f0] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:52:25.065 DEBUG [c3409ecf-0d40-441d-abd6-75ae96d430f0] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:52:25.065  INFO [c3409ecf-0d40-441d-abd6-75ae96d430f0] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:52:25.166  INFO [c3409ecf-0d40-441d-abd6-75ae96d430f0] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:56:47.484 DEBUG [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:56:47.485 DEBUG [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:56:47.485 DEBUG [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:56:47.486 DEBUG [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:56:47.487  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:56:47.487  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:56:47.487  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:56:47.487  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 12:56:47.487  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 12:56:47.546  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 12:56:47.547  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 12:56:47.547  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 12:56:47.547  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 12:56:47.548  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 12:56:47.548  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 12:56:47.548  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 12:56:47.548  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 12:56:47.548  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 12:56:47.548  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 12:56:47.548  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 12:56:47.549  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 12:56:47.549  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 12:56:47.549  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 12:56:47.549  INFO [5f966a30-359a-4831-999b-cd8df210ca45] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 12:56:49.177 DEBUG [fada8dab-044b-4d52-9933-950b58faaed3] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:56:49.198 DEBUG [fada8dab-044b-4d52-9933-950b58faaed3] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:56:49.209  INFO [fada8dab-044b-4d52-9933-950b58faaed3] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:56:49.210  INFO [fada8dab-044b-4d52-9933-950b58faaed3] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:56:49.264  INFO [fada8dab-044b-4d52-9933-950b58faaed3] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:56:49.273 DEBUG [4cf71f07-0269-4d3f-bfc0-db0c415bd679] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:56:49.285 DEBUG [4cf71f07-0269-4d3f-bfc0-db0c415bd679] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:56:49.290  INFO [4cf71f07-0269-4d3f-bfc0-db0c415bd679] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:56:49.290  INFO [4cf71f07-0269-4d3f-bfc0-db0c415bd679] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:56:49.337  INFO [4cf71f07-0269-4d3f-bfc0-db0c415bd679] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:56:49.947 DEBUG [3cac1523-96ab-42b3-b5e0-86eee43edd4d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:56:49.965 DEBUG [3cac1523-96ab-42b3-b5e0-86eee43edd4d] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:56:49.970  INFO [3cac1523-96ab-42b3-b5e0-86eee43edd4d] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:56:49.970  INFO [3cac1523-96ab-42b3-b5e0-86eee43edd4d] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:56:49.981 DEBUG [2666d5fd-cbec-4cdb-8014-45025cc59a57] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:56:49.991 DEBUG [2666d5fd-cbec-4cdb-8014-45025cc59a57] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:56:49.996  INFO [2666d5fd-cbec-4cdb-8014-45025cc59a57] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:56:49.996  INFO [2666d5fd-cbec-4cdb-8014-45025cc59a57] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:56:51.373 DEBUG [1d9c4171-e34c-4976-ad64-907d373c3759] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:56:51.402 DEBUG [1d9c4171-e34c-4976-ad64-907d373c3759] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:56:51.431  INFO [1d9c4171-e34c-4976-ad64-907d373c3759] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:56:51.432  INFO [1d9c4171-e34c-4976-ad64-907d373c3759] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:56:51.715  INFO [1d9c4171-e34c-4976-ad64-907d373c3759] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:56:51.726 DEBUG [7f85d900-3e6f-4aea-ba04-106b4beb04ac] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:56:51.767 DEBUG [7f85d900-3e6f-4aea-ba04-106b4beb04ac] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:56:51.792  INFO [7f85d900-3e6f-4aea-ba04-106b4beb04ac] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:56:51.794  INFO [7f85d900-3e6f-4aea-ba04-106b4beb04ac] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:56:51.905  INFO [7f85d900-3e6f-4aea-ba04-106b4beb04ac] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:56:52.093 DEBUG [139fd9eb-67e2-4dbc-a53a-d413af197202] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:56:52.111 DEBUG [139fd9eb-67e2-4dbc-a53a-d413af197202] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:56:52.122  INFO [139fd9eb-67e2-4dbc-a53a-d413af197202] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:56:52.126  INFO [139fd9eb-67e2-4dbc-a53a-d413af197202] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:56:52.153 DEBUG [e0542f4f-5e49-464b-8726-eff7a94047ab] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:56:52.168 DEBUG [e0542f4f-5e49-464b-8726-eff7a94047ab] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:56:52.177  INFO [e0542f4f-5e49-464b-8726-eff7a94047ab] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:56:52.178  INFO [e0542f4f-5e49-464b-8726-eff7a94047ab] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:56:52.570 DEBUG [4de87fd3-4c0a-4491-971c-f14415cd2902] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:56:52.595 DEBUG [4de87fd3-4c0a-4491-971c-f14415cd2902] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:56:52.605  INFO [4de87fd3-4c0a-4491-971c-f14415cd2902] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:56:52.605  INFO [4de87fd3-4c0a-4491-971c-f14415cd2902] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:56:52.659  INFO [4de87fd3-4c0a-4491-971c-f14415cd2902] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:56:52.666 DEBUG [67fdc755-f470-49e8-834d-303c786d7047] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 12:56:52.678 DEBUG [67fdc755-f470-49e8-834d-303c786d7047] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 12:56:52.683  INFO [67fdc755-f470-49e8-834d-303c786d7047] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 12:56:52.683  INFO [67fdc755-f470-49e8-834d-303c786d7047] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 12:56:52.734  INFO [67fdc755-f470-49e8-834d-303c786d7047] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 12:56:53.286 DEBUG [cfed696e-fd5c-47fa-859b-0aabe806620c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:56:53.298 DEBUG [cfed696e-fd5c-47fa-859b-0aabe806620c] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:56:53.305  INFO [cfed696e-fd5c-47fa-859b-0aabe806620c] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:56:53.305  INFO [cfed696e-fd5c-47fa-859b-0aabe806620c] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:56:53.321 DEBUG [16d14f4e-5069-4477-bbb2-f0cfa21d1f4b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 12:56:53.334 DEBUG [16d14f4e-5069-4477-bbb2-f0cfa21d1f4b] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 12:56:53.340  INFO [16d14f4e-5069-4477-bbb2-f0cfa21d1f4b] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 12:56:53.341  INFO [16d14f4e-5069-4477-bbb2-f0cfa21d1f4b] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 12:56:54.291 DEBUG [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:56:54.292 DEBUG [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:56:54.292 DEBUG [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:56:54.292 DEBUG [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:56:54.293  INFO [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:56:54.293  INFO [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:56:54.293  INFO [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:56:54.293  INFO [b235330d-85e8-4fbf-acd2-b79ddebcf4ab] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:57:01.085 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 12:57:01.086 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:57:01.086 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:57:01.087 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 12:57:01.087  INFO [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Family vacation to Rome in July with 2 kids
2025-05-27 12:57:01.087  INFO [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 12:57:01.088  INFO [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 12:57:01.088 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Family vacation to Rome in July with 2 kids";
2025-05-27 12:57:01.090  INFO [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 12:57:02.794 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "FCO",
  "departureDate": "2025-07-15",
  "returnDate": "2025-07-22",
  "tripType": "roundTrip",
  "adults": 2,
  "children": 2,
  "infants": 0
}
```
2025-05-27 12:57:02.795 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 12:57:02.795 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 12:57:02.795 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 12:57:02.796 DEBUG [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:57:02.796  INFO [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:57:02.796  INFO [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=FCO, departureDate=2025-07-15, returnDate=2025-07-22, tripType=roundTrip, adults=2, children=2, infants=0
2025-05-27 12:57:02.796  INFO [4ebe5837-5ea5-4c7a-bbfc-1c0ce23a3494] 3964 --- [nio-8080-exec-9] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: FCO
2025-05-27 12:57:06.532 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 12:57:06.536 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:57:06.537 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:57:06.539 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 12:57:06.541  INFO [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Family vacation to Rome in July with 2 kids
2025-05-27 12:57:06.541  INFO [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 12:57:06.541  INFO [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 12:57:06.542 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Family vacation to Rome in July with 2 kids";
2025-05-27 12:57:06.546  INFO [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 12:57:08.138 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "FCO",
  "departureDate": "2025-07-15",
  "returnDate": "2025-07-22",
  "tripType": "roundTrip",
  "adults": 2,
  "children": 2,
  "infants": 0
}
```
2025-05-27 12:57:08.138 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 12:57:08.138 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 12:57:08.139 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 12:57:08.139 DEBUG [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:57:08.139  INFO [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 12:57:08.139  INFO [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=FCO, departureDate=2025-07-15, returnDate=2025-07-22, tripType=roundTrip, adults=2, children=2, infants=0
2025-05-27 12:57:08.139  INFO [fe1b6b8a-8580-4d51-bd70-3f5719a2af79] 3964 --- [nio-8080-exec-5] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: FCO
2025-05-27 12:57:09.979 DEBUG [f2c0fe18-4909-4560-8ff4-8def40ae9ae4] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:57:09.993 DEBUG [f2c0fe18-4909-4560-8ff4-8def40ae9ae4] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:57:09.993  INFO [f2c0fe18-4909-4560-8ff4-8def40ae9ae4] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:57:09.999  INFO [f2c0fe18-4909-4560-8ff4-8def40ae9ae4] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:57:10.095 DEBUG [7d793f97-f8c6-4337-84c6-de177a34775b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:57:10.095 DEBUG [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-15&tripType=oneWay
2025-05-27 12:57:10.096 DEBUG [db863301-f367-4d1c-8733-9ca0022d0bea] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:57:10.096 DEBUG [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:57:10.096 DEBUG [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:57:10.097 DEBUG [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-15&tripType=oneWay
2025-05-27 12:57:10.098  INFO [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-07-15, Return=null, Pax=1/0/0
2025-05-27 12:57:10.098  INFO [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-07-15
2025-05-27 12:57:10.105  WARN [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No flights found for search: OTP to FCO on 2025-07-15
2025-05-27 12:57:10.105  INFO [8a381638-9223-4a54-9f18-7b0b731afc92] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 12:57:10.112 DEBUG [db863301-f367-4d1c-8733-9ca0022d0bea] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:57:10.113  INFO [db863301-f367-4d1c-8733-9ca0022d0bea] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:57:10.113 DEBUG [7d793f97-f8c6-4337-84c6-de177a34775b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:57:10.120 DEBUG [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-15&tripType=oneWay
2025-05-27 12:57:10.121  WARN [7d793f97-f8c6-4337-84c6-de177a34775b] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:57:10.121 DEBUG [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:57:10.121 DEBUG [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:57:10.122  WARN [7d793f97-f8c6-4337-84c6-de177a34775b] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:57:10.122 DEBUG [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-15&tripType=oneWay
2025-05-27 12:57:10.125  INFO [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-07-15, Return=null, Pax=1/0/0
2025-05-27 12:57:10.125  INFO [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-07-15
2025-05-27 12:57:10.130  INFO [db863301-f367-4d1c-8733-9ca0022d0bea] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:57:10.133  WARN [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No flights found for search: OTP to FCO on 2025-07-15
2025-05-27 12:57:10.134  INFO [d57a3043-f5ac-4425-9c38-c90248ed0cad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 12:57:10.137 DEBUG [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=FCO&destination=OTP&departureDate=2025-07-22&tripType=oneWay
2025-05-27 12:57:10.138 DEBUG [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:57:10.138 DEBUG [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:57:10.139 DEBUG [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=FCO&destination=OTP&departureDate=2025-07-22&tripType=oneWay
2025-05-27 12:57:10.140  INFO [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=FCO, Dest=OTP, Depart=2025-07-22, Return=null, Pax=1/0/0
2025-05-27 12:57:10.140  INFO [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from FCO to OTP on 2025-07-22
2025-05-27 12:57:10.146 DEBUG [9c04ae01-75a9-43dd-a126-9d3ea6122f37] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:57:10.149  WARN [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No flights found for search: FCO to OTP on 2025-07-22
2025-05-27 12:57:10.150  INFO [979ce1b3-fa34-42c3-b074-ac66effed8ff] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 12:57:10.159 DEBUG [9c04ae01-75a9-43dd-a126-9d3ea6122f37] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:57:10.165  WARN [9c04ae01-75a9-43dd-a126-9d3ea6122f37] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:57:10.165  WARN [9c04ae01-75a9-43dd-a126-9d3ea6122f37] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:57:10.177 DEBUG [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=FCO&destination=OTP&departureDate=2025-07-22&tripType=oneWay
2025-05-27 12:57:10.177 DEBUG [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:57:10.177 DEBUG [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:57:10.178 DEBUG [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=FCO&destination=OTP&departureDate=2025-07-22&tripType=oneWay
2025-05-27 12:57:10.179  INFO [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=FCO, Dest=OTP, Depart=2025-07-22, Return=null, Pax=1/0/0
2025-05-27 12:57:10.179  INFO [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from FCO to OTP on 2025-07-22
2025-05-27 12:57:10.185  WARN [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No flights found for search: FCO to OTP on 2025-07-22
2025-05-27 12:57:10.186  INFO [66dfdac9-84af-455a-bb96-2ddff49af6c0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 12:57:16.182 DEBUG [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:57:16.182 DEBUG [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:57:16.182 DEBUG [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:57:16.183 DEBUG [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:57:16.183  INFO [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:57:16.183  INFO [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:57:16.184  INFO [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:57:16.184  INFO [1b0f35e5-68df-48e4-8a57-5337c2f3fe79] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:58:19.785 DEBUG [f390b4c8-8918-424e-b540-0d51c34c62cd] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:58:19.798 DEBUG [f390b4c8-8918-424e-b540-0d51c34c62cd] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:58:19.799  INFO [f390b4c8-8918-424e-b540-0d51c34c62cd] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:58:19.804  INFO [f390b4c8-8918-424e-b540-0d51c34c62cd] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:58:19.878 DEBUG [db4759ff-2a29-4ce4-812a-cbe83f678a95] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:58:19.878 DEBUG [39e54a50-d758-45cd-ae34-7e86e5bdfb72] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:19.892 DEBUG [2c09dc3a-d795-4a2e-9de5-e96ff22e6916] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:58:19.892 DEBUG [db4759ff-2a29-4ce4-812a-cbe83f678a95] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:58:19.895 DEBUG [39e54a50-d758-45cd-ae34-7e86e5bdfb72] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:19.895  INFO [39e54a50-d758-45cd-ae34-7e86e5bdfb72] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:19.902  WARN [db4759ff-2a29-4ce4-812a-cbe83f678a95] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:58:19.903  WARN [db4759ff-2a29-4ce4-812a-cbe83f678a95] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:58:19.908 DEBUG [2c09dc3a-d795-4a2e-9de5-e96ff22e6916] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:58:19.908  INFO [2c09dc3a-d795-4a2e-9de5-e96ff22e6916] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:58:19.930  INFO [2c09dc3a-d795-4a2e-9de5-e96ff22e6916] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:58:19.931 DEBUG [46824737-e681-4443-9643-2698ea80016e] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:58:19.956 DEBUG [46824737-e681-4443-9643-2698ea80016e] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:58:19.964  WARN [46824737-e681-4443-9643-2698ea80016e] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:58:19.965  WARN [46824737-e681-4443-9643-2698ea80016e] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:58:20.040  INFO [39e54a50-d758-45cd-ae34-7e86e5bdfb72] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:20.054 DEBUG [4153e142-aca0-4bff-bd46-285b154cce2a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:20.066 DEBUG [4153e142-aca0-4bff-bd46-285b154cce2a] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:20.067  INFO [4153e142-aca0-4bff-bd46-285b154cce2a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:20.161  INFO [4153e142-aca0-4bff-bd46-285b154cce2a] 3964 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:20.694 DEBUG [33884607-08fa-4664-93c2-23f560c76807] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:58:20.704 DEBUG [33884607-08fa-4664-93c2-23f560c76807] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:58:20.705  INFO [33884607-08fa-4664-93c2-23f560c76807] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:58:20.813  INFO [33884607-08fa-4664-93c2-23f560c76807] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:58:20.821 DEBUG [8fab51ca-d17f-4c53-905b-8e367b8c686e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:58:20.833 DEBUG [8fab51ca-d17f-4c53-905b-8e367b8c686e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:58:20.833  INFO [8fab51ca-d17f-4c53-905b-8e367b8c686e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:58:20.938  INFO [8fab51ca-d17f-4c53-905b-8e367b8c686e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:58:21.352 DEBUG [129351b6-903a-459b-bab3-239ea1981616] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:58:21.361 DEBUG [129351b6-903a-459b-bab3-239ea1981616] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:58:21.362  INFO [129351b6-903a-459b-bab3-239ea1981616] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:58:21.406  INFO [129351b6-903a-459b-bab3-239ea1981616] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:58:21.415 DEBUG [cf913ac0-5d5f-4b01-887b-71d35ddf54a1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:58:21.425 DEBUG [cf913ac0-5d5f-4b01-887b-71d35ddf54a1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:58:21.425  INFO [cf913ac0-5d5f-4b01-887b-71d35ddf54a1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:58:21.477  INFO [cf913ac0-5d5f-4b01-887b-71d35ddf54a1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:58:21.853 DEBUG [87d66bde-eddc-40a0-a3bb-044b6ce4dfdf] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:21.868 DEBUG [87d66bde-eddc-40a0-a3bb-044b6ce4dfdf] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:21.868  INFO [87d66bde-eddc-40a0-a3bb-044b6ce4dfdf] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:21.954  INFO [87d66bde-eddc-40a0-a3bb-044b6ce4dfdf] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:21.963 DEBUG [7ae8662c-2d6e-4247-af18-29e2facd5713] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:21.974 DEBUG [7ae8662c-2d6e-4247-af18-29e2facd5713] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:21.975  INFO [7ae8662c-2d6e-4247-af18-29e2facd5713] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:22.063  INFO [7ae8662c-2d6e-4247-af18-29e2facd5713] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:23.599 DEBUG [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 12:58:23.603 DEBUG [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 12:58:23.607 DEBUG [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 12:58:23.609 DEBUG [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 12:58:23.610  INFO [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 12:58:23.610  INFO [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 12:58:23.610  INFO [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 12:58:23.610  INFO [088e6b49-93e9-414e-a25c-b75206518ffb] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 12:58:24.309 DEBUG [0fc11d22-d4e1-4f1b-b7de-d35b8a5617be] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:24.320 DEBUG [0fc11d22-d4e1-4f1b-b7de-d35b8a5617be] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:24.321  INFO [0fc11d22-d4e1-4f1b-b7de-d35b8a5617be] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:24.421  INFO [0fc11d22-d4e1-4f1b-b7de-d35b8a5617be] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:24.428 DEBUG [d4837f65-acf3-4b46-93f9-0821f9b17679] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:24.441 DEBUG [d4837f65-acf3-4b46-93f9-0821f9b17679] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:24.441  INFO [d4837f65-acf3-4b46-93f9-0821f9b17679] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:24.608  INFO [d4837f65-acf3-4b46-93f9-0821f9b17679] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:25.722 DEBUG [737a61d3-6538-4e2a-8920-4b92e4cff99d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:58:25.733 DEBUG [737a61d3-6538-4e2a-8920-4b92e4cff99d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:58:25.734  INFO [737a61d3-6538-4e2a-8920-4b92e4cff99d] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:58:25.829  INFO [737a61d3-6538-4e2a-8920-4b92e4cff99d] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:58:25.836 DEBUG [1668e990-bb45-424f-82f8-19e24a530d81] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:58:25.846 DEBUG [1668e990-bb45-424f-82f8-19e24a530d81] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:58:25.847  INFO [1668e990-bb45-424f-82f8-19e24a530d81] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:58:25.936  INFO [1668e990-bb45-424f-82f8-19e24a530d81] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:58:26.644 DEBUG [24a5a603-0b70-4d14-8a25-aeb1f4c4c43f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:58:26.653 DEBUG [24a5a603-0b70-4d14-8a25-aeb1f4c4c43f] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:58:26.654  INFO [24a5a603-0b70-4d14-8a25-aeb1f4c4c43f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:58:26.695  INFO [24a5a603-0b70-4d14-8a25-aeb1f4c4c43f] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:58:26.702 DEBUG [9514d70d-c86b-43b0-ae3a-03d274ac5275] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:58:26.711 DEBUG [9514d70d-c86b-43b0-ae3a-03d274ac5275] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:58:26.711  INFO [9514d70d-c86b-43b0-ae3a-03d274ac5275] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:58:26.754  INFO [9514d70d-c86b-43b0-ae3a-03d274ac5275] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:58:27.231 DEBUG [aea198a5-ef3e-481e-8ffa-52e96e841600] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:27.243 DEBUG [aea198a5-ef3e-481e-8ffa-52e96e841600] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:27.244  INFO [aea198a5-ef3e-481e-8ffa-52e96e841600] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:27.329  INFO [aea198a5-ef3e-481e-8ffa-52e96e841600] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:27.336 DEBUG [d49aceb4-53e3-4acf-a1cf-0f0658a13a82] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:58:27.346 DEBUG [d49aceb4-53e3-4acf-a1cf-0f0658a13a82] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:58:27.346  INFO [d49aceb4-53e3-4acf-a1cf-0f0658a13a82] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:58:27.423  INFO [d49aceb4-53e3-4acf-a1cf-0f0658a13a82] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:58:27.975 DEBUG [a30e70ad-a026-4250-bde5-3a3496887521] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:58:27.985 DEBUG [a30e70ad-a026-4250-bde5-3a3496887521] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:58:27.985  INFO [a30e70ad-a026-4250-bde5-3a3496887521] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:58:28.074  INFO [a30e70ad-a026-4250-bde5-3a3496887521] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:58:28.081 DEBUG [9c7d4ac5-2724-4630-995d-de0a12054413] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 12:58:28.091 DEBUG [9c7d4ac5-2724-4630-995d-de0a12054413] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 12:58:28.091  INFO [9c7d4ac5-2724-4630-995d-de0a12054413] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 12:58:28.186  INFO [9c7d4ac5-2724-4630-995d-de0a12054413] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 12:58:28.499 DEBUG [6fb26035-16f5-4fdf-a730-127c86a1deb1] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:58:28.509 DEBUG [6fb26035-16f5-4fdf-a730-127c86a1deb1] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:58:28.509  INFO [6fb26035-16f5-4fdf-a730-127c86a1deb1] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:58:28.551  INFO [6fb26035-16f5-4fdf-a730-127c86a1deb1] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:58:28.561 DEBUG [aa66b9fc-7e2e-44ba-918e-22f58fde4e30] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 12:58:28.571 DEBUG [aa66b9fc-7e2e-44ba-918e-22f58fde4e30] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 12:58:28.571  INFO [aa66b9fc-7e2e-44ba-918e-22f58fde4e30] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 12:58:28.612  INFO [aa66b9fc-7e2e-44ba-918e-22f58fde4e30] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 12:59:58.620 DEBUG [b1550dec-e092-4aa9-919d-df49da1850c4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 12:59:58.633 DEBUG [b1550dec-e092-4aa9-919d-df49da1850c4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 12:59:58.634  INFO [b1550dec-e092-4aa9-919d-df49da1850c4] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 12:59:58.641  INFO [b1550dec-e092-4aa9-919d-df49da1850c4] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 12:59:58.743 DEBUG [39eedb87-82f0-4c16-9842-0674b470a957] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:59:58.743 DEBUG [81392a47-2b9a-49cb-8786-944f50afa343] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:59:58.743 DEBUG [1ec2ebda-8f38-44cf-bd34-56cebeedcb78] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 12:59:58.777 DEBUG [1ec2ebda-8f38-44cf-bd34-56cebeedcb78] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 12:59:58.777  INFO [1ec2ebda-8f38-44cf-bd34-56cebeedcb78] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 12:59:58.778 DEBUG [39eedb87-82f0-4c16-9842-0674b470a957] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:59:58.778 DEBUG [81392a47-2b9a-49cb-8786-944f50afa343] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:59:58.779  INFO [81392a47-2b9a-49cb-8786-944f50afa343] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:59:58.785  WARN [39eedb87-82f0-4c16-9842-0674b470a957] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:59:58.786  WARN [39eedb87-82f0-4c16-9842-0674b470a957] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:59:58.799 DEBUG [0474a1e4-0e9d-4739-9670-c029c4eb1cf7] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 12:59:58.799  INFO [1ec2ebda-8f38-44cf-bd34-56cebeedcb78] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 12:59:58.821 DEBUG [0474a1e4-0e9d-4739-9670-c029c4eb1cf7] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 12:59:58.829  WARN [0474a1e4-0e9d-4739-9670-c029c4eb1cf7] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 12:59:58.830  WARN [0474a1e4-0e9d-4739-9670-c029c4eb1cf7] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 12:59:58.909  INFO [81392a47-2b9a-49cb-8786-944f50afa343] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 12:59:58.920 DEBUG [0ebff808-6af2-45ba-b1a9-b1e0609dca5f] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 12:59:58.934 DEBUG [0ebff808-6af2-45ba-b1a9-b1e0609dca5f] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 12:59:58.934  INFO [0ebff808-6af2-45ba-b1a9-b1e0609dca5f] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 12:59:59.031  INFO [0ebff808-6af2-45ba-b1a9-b1e0609dca5f] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:00:33.079 DEBUG [c52a5a5a-9a38-43a9-8789-fb28de6eb872] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:00:33.098 DEBUG [c52a5a5a-9a38-43a9-8789-fb28de6eb872] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:00:33.099  INFO [c52a5a5a-9a38-43a9-8789-fb28de6eb872] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:00:33.265  INFO [c52a5a5a-9a38-43a9-8789-fb28de6eb872] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:00:39.364 DEBUG [e0d9b8f7-b7df-4ce9-8389-0975b39b457c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:00:39.374 DEBUG [e0d9b8f7-b7df-4ce9-8389-0975b39b457c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:00:39.374  INFO [e0d9b8f7-b7df-4ce9-8389-0975b39b457c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:00:39.474  INFO [e0d9b8f7-b7df-4ce9-8389-0975b39b457c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:00:39.484 DEBUG [968183c8-24d3-46a6-bc39-4016d3c9498b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:00:39.496 DEBUG [968183c8-24d3-46a6-bc39-4016d3c9498b] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:00:39.496  INFO [968183c8-24d3-46a6-bc39-4016d3c9498b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:00:39.594  INFO [968183c8-24d3-46a6-bc39-4016d3c9498b] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:00:39.773 DEBUG [ff7ce0a5-427d-46d2-b5aa-0f4713bfcb03] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 13:00:39.781 DEBUG [ff7ce0a5-427d-46d2-b5aa-0f4713bfcb03] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 13:00:39.782  INFO [ff7ce0a5-427d-46d2-b5aa-0f4713bfcb03] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 13:00:39.832  INFO [ff7ce0a5-427d-46d2-b5aa-0f4713bfcb03] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 13:00:39.842 DEBUG [e03bddeb-3aab-4d76-b5da-8b85786d415e] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 13:00:39.855 DEBUG [e03bddeb-3aab-4d76-b5da-8b85786d415e] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 13:00:39.855  INFO [e03bddeb-3aab-4d76-b5da-8b85786d415e] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 13:00:39.899  INFO [e03bddeb-3aab-4d76-b5da-8b85786d415e] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 13:00:40.207 DEBUG [954729b2-1210-416b-a1ed-4419baf4a2f0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:00:40.219 DEBUG [954729b2-1210-416b-a1ed-4419baf4a2f0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:00:40.220  INFO [954729b2-1210-416b-a1ed-4419baf4a2f0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:00:40.302  INFO [954729b2-1210-416b-a1ed-4419baf4a2f0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:00:40.310 DEBUG [ae0cfe30-c6c8-40f5-9749-55642bffa6b7] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:00:40.319 DEBUG [ae0cfe30-c6c8-40f5-9749-55642bffa6b7] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:00:40.320  INFO [ae0cfe30-c6c8-40f5-9749-55642bffa6b7] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:00:40.400  INFO [ae0cfe30-c6c8-40f5-9749-55642bffa6b7] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:00:54.769 DEBUG [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 13:00:54.770 DEBUG [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:00:54.770 DEBUG [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:00:54.771 DEBUG [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 13:00:54.772  INFO [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 13:00:54.772  INFO [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 13:00:54.772  INFO [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 13:00:54.772  INFO [c9dfe2ec-8741-4bf0-8134-3b058bee9d46] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 13:00:56.252 DEBUG [915da3e2-6106-4640-bec5-404b964b7c5a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:00:56.264 DEBUG [915da3e2-6106-4640-bec5-404b964b7c5a] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:00:56.264  INFO [915da3e2-6106-4640-bec5-404b964b7c5a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:00:56.356  INFO [915da3e2-6106-4640-bec5-404b964b7c5a] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:00:56.364 DEBUG [91f96ccd-5edc-4644-b079-3ae629fc3970] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:00:56.373 DEBUG [91f96ccd-5edc-4644-b079-3ae629fc3970] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:00:56.373  INFO [91f96ccd-5edc-4644-b079-3ae629fc3970] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:00:56.473  INFO [91f96ccd-5edc-4644-b079-3ae629fc3970] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:00:58.722 DEBUG [0c5045d3-19c9-458e-87db-98aa07e629ed] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:00:58.734 DEBUG [0c5045d3-19c9-458e-87db-98aa07e629ed] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:00:58.735  INFO [0c5045d3-19c9-458e-87db-98aa07e629ed] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:00:58.874  INFO [0c5045d3-19c9-458e-87db-98aa07e629ed] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:00:58.882 DEBUG [289ff8e0-9b90-40a2-9995-56d58b12b550] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:00:58.893 DEBUG [289ff8e0-9b90-40a2-9995-56d58b12b550] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:00:58.893  INFO [289ff8e0-9b90-40a2-9995-56d58b12b550] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:00:59.024  INFO [289ff8e0-9b90-40a2-9995-56d58b12b550] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:00:59.150 DEBUG [b0b057d2-25d0-4406-9dc8-309dacb5869b] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 13:00:59.163 DEBUG [b0b057d2-25d0-4406-9dc8-309dacb5869b] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 13:00:59.164  INFO [b0b057d2-25d0-4406-9dc8-309dacb5869b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 13:00:59.247  INFO [b0b057d2-25d0-4406-9dc8-309dacb5869b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 13:00:59.260 DEBUG [88053e73-e960-4f01-afa6-c286eb3a5941] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 13:00:59.274 DEBUG [88053e73-e960-4f01-afa6-c286eb3a5941] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 13:00:59.275  INFO [88053e73-e960-4f01-afa6-c286eb3a5941] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 13:00:59.326  INFO [88053e73-e960-4f01-afa6-c286eb3a5941] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 13:01:01.799 DEBUG [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 13:01:01.800 DEBUG [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:01:01.800 DEBUG [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:01:01.801 DEBUG [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 13:01:01.801  INFO [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 13:01:01.801  INFO [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 13:01:01.802  INFO [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 13:01:01.802  INFO [54c2e641-4577-4a95-8894-bde2072e9a20] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 13:01:03.193 DEBUG [3642411e-9d86-4293-a358-670850d0b61c] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:03.206 DEBUG [3642411e-9d86-4293-a358-670850d0b61c] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:03.206  INFO [3642411e-9d86-4293-a358-670850d0b61c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:03.294  INFO [3642411e-9d86-4293-a358-670850d0b61c] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:03.302 DEBUG [928c2888-ef86-4ad6-9957-a9493b6f7290] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:03.311 DEBUG [928c2888-ef86-4ad6-9957-a9493b6f7290] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:03.312  INFO [928c2888-ef86-4ad6-9957-a9493b6f7290] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:03.392  INFO [928c2888-ef86-4ad6-9957-a9493b6f7290] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:17.810 DEBUG [64e39fa6-6db6-410e-a239-0214baef98ab] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:17.840 DEBUG [64e39fa6-6db6-410e-a239-0214baef98ab] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:17.840  INFO [64e39fa6-6db6-410e-a239-0214baef98ab] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:17.957  INFO [64e39fa6-6db6-410e-a239-0214baef98ab] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:36.055 DEBUG [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 13:01:36.056 DEBUG [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:01:36.056 DEBUG [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:01:36.056 DEBUG [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 13:01:36.061  INFO [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 13:01:36.062  INFO [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 13:01:36.062  INFO [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 13:01:36.062  INFO [c9867c35-e48d-4f65-b942-e96dec9b7177] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 13:01:37.124 DEBUG [ace3d2c4-bccb-42c0-857a-06e71584d8a1] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:37.138 DEBUG [ace3d2c4-bccb-42c0-857a-06e71584d8a1] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:37.139  INFO [ace3d2c4-bccb-42c0-857a-06e71584d8a1] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:37.229  INFO [ace3d2c4-bccb-42c0-857a-06e71584d8a1] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:37.237 DEBUG [499e7c1c-813b-4d97-b8ac-c41a496397ac] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:37.248 DEBUG [499e7c1c-813b-4d97-b8ac-c41a496397ac] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:37.248  INFO [499e7c1c-813b-4d97-b8ac-c41a496397ac] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:37.331  INFO [499e7c1c-813b-4d97-b8ac-c41a496397ac] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:37.858 DEBUG [b8d0f1ea-6e16-404a-907f-b75b9e38a2cc] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:01:37.869 DEBUG [b8d0f1ea-6e16-404a-907f-b75b9e38a2cc] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:01:37.869  INFO [b8d0f1ea-6e16-404a-907f-b75b9e38a2cc] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:01:37.958  INFO [b8d0f1ea-6e16-404a-907f-b75b9e38a2cc] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:01:37.968 DEBUG [e20d4b0f-da56-41b4-aa8e-bc3f560c683d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:01:37.977 DEBUG [e20d4b0f-da56-41b4-aa8e-bc3f560c683d] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:01:37.977  INFO [e20d4b0f-da56-41b4-aa8e-bc3f560c683d] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:01:38.068  INFO [e20d4b0f-da56-41b4-aa8e-bc3f560c683d] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:01:38.335 DEBUG [d57c396c-566b-4eec-b1cd-d2028440de3a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 13:01:38.342 DEBUG [d57c396c-566b-4eec-b1cd-d2028440de3a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 13:01:38.342  INFO [d57c396c-566b-4eec-b1cd-d2028440de3a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 13:01:38.383  INFO [d57c396c-566b-4eec-b1cd-d2028440de3a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 13:01:38.390 DEBUG [995c3e21-e155-45cc-9566-8cbfec2f0ae9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 13:01:38.399 DEBUG [995c3e21-e155-45cc-9566-8cbfec2f0ae9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 13:01:38.400  INFO [995c3e21-e155-45cc-9566-8cbfec2f0ae9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 13:01:38.448  INFO [995c3e21-e155-45cc-9566-8cbfec2f0ae9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 13:01:38.910 DEBUG [85d44ebe-4d73-4b8b-bf82-31c55cceaed6] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:38.922 DEBUG [85d44ebe-4d73-4b8b-bf82-31c55cceaed6] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:38.922  INFO [85d44ebe-4d73-4b8b-bf82-31c55cceaed6] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:39.004  INFO [85d44ebe-4d73-4b8b-bf82-31c55cceaed6] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:39.012 DEBUG [973ad69c-a497-4bd5-aa9c-3de6305b7b44] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:39.021 DEBUG [973ad69c-a497-4bd5-aa9c-3de6305b7b44] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:39.021  INFO [973ad69c-a497-4bd5-aa9c-3de6305b7b44] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:39.099  INFO [973ad69c-a497-4bd5-aa9c-3de6305b7b44] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:40.138 DEBUG [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 13:01:40.139 DEBUG [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:01:40.139 DEBUG [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:01:40.140 DEBUG [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 13:01:40.140  INFO [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 13:01:40.140  INFO [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 13:01:40.140  INFO [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 13:01:40.140  INFO [02a81f6e-1448-41d7-9a71-bf9a26d4f816] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 13:01:41.023 DEBUG [426130e2-cf42-47bb-be33-4f23396b5bc4] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:41.033 DEBUG [426130e2-cf42-47bb-be33-4f23396b5bc4] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:41.034  INFO [426130e2-cf42-47bb-be33-4f23396b5bc4] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:41.110  INFO [426130e2-cf42-47bb-be33-4f23396b5bc4] 3964 --- [nio-8080-exec-2] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:01:41.117 DEBUG [841f5e99-382f-4005-abb8-3ae8003ddfd5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:01:41.128 DEBUG [841f5e99-382f-4005-abb8-3ae8003ddfd5] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:01:41.129  INFO [841f5e99-382f-4005-abb8-3ae8003ddfd5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:01:41.203  INFO [841f5e99-382f-4005-abb8-3ae8003ddfd5] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:02:06.745 DEBUG [199188fb-460d-4474-9295-0d18ffbd1a4e] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:06.756 DEBUG [199188fb-460d-4474-9295-0d18ffbd1a4e] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:02:06.757  INFO [199188fb-460d-4474-9295-0d18ffbd1a4e] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:02:06.857  INFO [199188fb-460d-4474-9295-0d18ffbd1a4e] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:02:06.867 DEBUG [afd2df05-df81-40bd-8959-784837531a4d] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:06.878 DEBUG [afd2df05-df81-40bd-8959-784837531a4d] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:02:06.879  INFO [afd2df05-df81-40bd-8959-784837531a4d] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:02:06.986  INFO [afd2df05-df81-40bd-8959-784837531a4d] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:02:09.757 DEBUG [136435f2-01f8-45b1-8fd4-16ffd5162ebe] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 13:02:09.770 DEBUG [136435f2-01f8-45b1-8fd4-16ffd5162ebe] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 13:02:09.770  INFO [136435f2-01f8-45b1-8fd4-16ffd5162ebe] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 13:02:09.775  INFO [136435f2-01f8-45b1-8fd4-16ffd5162ebe] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 13:02:09.864 DEBUG [768fc3bf-57a0-47e5-9541-c46a81eb4f8b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:02:09.869 DEBUG [d3f90a45-bd85-48fe-9465-4aa44e2993f2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 13:02:09.885 DEBUG [25cff150-f0f0-477d-8710-e9850b9e76b8] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 13:02:09.887 DEBUG [d3f90a45-bd85-48fe-9465-4aa44e2993f2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 13:02:09.887 DEBUG [768fc3bf-57a0-47e5-9541-c46a81eb4f8b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:02:09.888  INFO [768fc3bf-57a0-47e5-9541-c46a81eb4f8b] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:02:09.895  WARN [d3f90a45-bd85-48fe-9465-4aa44e2993f2] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 13:02:09.895  WARN [d3f90a45-bd85-48fe-9465-4aa44e2993f2] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 13:02:09.899 DEBUG [25cff150-f0f0-477d-8710-e9850b9e76b8] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 13:02:09.899  INFO [25cff150-f0f0-477d-8710-e9850b9e76b8] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 13:02:09.907 DEBUG [3fc4b08e-91be-4719-8aa3-e7369b2e5492] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 13:02:09.912  INFO [25cff150-f0f0-477d-8710-e9850b9e76b8] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 13:02:09.920 DEBUG [3fc4b08e-91be-4719-8aa3-e7369b2e5492] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 13:02:09.926  WARN [3fc4b08e-91be-4719-8aa3-e7369b2e5492] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 13:02:09.927  WARN [3fc4b08e-91be-4719-8aa3-e7369b2e5492] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 13:02:09.990  INFO [768fc3bf-57a0-47e5-9541-c46a81eb4f8b] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:02:09.999 DEBUG [bfdc96ac-eda7-47a0-a8e7-3a74d0f7aa22] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:02:10.010 DEBUG [bfdc96ac-eda7-47a0-a8e7-3a74d0f7aa22] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:02:10.011  INFO [bfdc96ac-eda7-47a0-a8e7-3a74d0f7aa22] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:02:10.184  INFO [bfdc96ac-eda7-47a0-a8e7-3a74d0f7aa22] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:02:17.299 DEBUG [3f39b175-c06c-43b0-8253-2e4abba486db] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:17.309 DEBUG [3f39b175-c06c-43b0-8253-2e4abba486db] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:02:17.309  INFO [3f39b175-c06c-43b0-8253-2e4abba486db] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:02:17.403  INFO [3f39b175-c06c-43b0-8253-2e4abba486db] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:02:17.411 DEBUG [161e0fdc-c7f3-43f9-b51b-59b6e7d3d4b8] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:17.422 DEBUG [161e0fdc-c7f3-43f9-b51b-59b6e7d3d4b8] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:02:17.422  INFO [161e0fdc-c7f3-43f9-b51b-59b6e7d3d4b8] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:02:17.522  INFO [161e0fdc-c7f3-43f9-b51b-59b6e7d3d4b8] 3964 --- [nio-8080-exec-6] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:02:19.595 DEBUG [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 13:02:19.596 DEBUG [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:02:19.596 DEBUG [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:02:19.596 DEBUG [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 13:02:19.597  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 13:02:19.597  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 13:02:19.597  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 13:02:19.598  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 13:02:19.598  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 13:02:19.650  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 13:02:19.650  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 13:02:19.651  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 13:02:19.652  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 13:02:19.652  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 13:02:19.652  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 13:02:19.652  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 13:02:19.652  INFO [5c68991f-c662-4f05-822a-146850895471] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 13:02:20.100 DEBUG [d2757053-e000-4b33-9bf6-0acb35b60d2a] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:02:20.114 DEBUG [d2757053-e000-4b33-9bf6-0acb35b60d2a] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:02:20.115  INFO [d2757053-e000-4b33-9bf6-0acb35b60d2a] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:02:20.204  INFO [d2757053-e000-4b33-9bf6-0acb35b60d2a] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:02:20.210 DEBUG [36ba2a17-4ad3-4436-91d5-9c7da2131cf7] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:02:20.221 DEBUG [36ba2a17-4ad3-4436-91d5-9c7da2131cf7] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:02:20.221  INFO [36ba2a17-4ad3-4436-91d5-9c7da2131cf7] 3964 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:02:20.301  INFO [36ba2a17-4ad3-4436-91d5-9c7da2131cf7] 3964 --- [nio-8080-exec-3] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:02:39.217 DEBUG [e8ea6314-c813-46e6-94b1-b9bf63774407] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:39.217 DEBUG [e8ea6314-c813-46e6-94b1-b9bf63774407] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:02:39.217 DEBUG [e8ea6314-c813-46e6-94b1-b9bf63774407] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:02:39.218 DEBUG [e8ea6314-c813-46e6-94b1-b9bf63774407] 3964 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 13:02:39.219 DEBUG [e8ea6314-c813-46e6-94b1-b9bf63774407] 3964 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 13:02:39.238 DEBUG [8b008895-f9af-4538-94a0-b2e6e9f3421b] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:39.239 DEBUG [8b008895-f9af-4538-94a0-b2e6e9f3421b] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:02:39.239 DEBUG [8b008895-f9af-4538-94a0-b2e6e9f3421b] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:02:39.240 DEBUG [8b008895-f9af-4538-94a0-b2e6e9f3421b] 3964 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 13:02:39.240 DEBUG [8b008895-f9af-4538-94a0-b2e6e9f3421b] 3964 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@29a7af27
2025-05-27 13:02:49.777 DEBUG [a91b0349-4643-490d-a70b-b66b70fe24fc] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 13:02:49.788 DEBUG [a91b0349-4643-490d-a70b-b66b70fe24fc] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 13:02:49.788  INFO [a91b0349-4643-490d-a70b-b66b70fe24fc] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 13:02:49.793  INFO [a91b0349-4643-490d-a70b-b66b70fe24fc] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 13:02:49.855 DEBUG [605dec65-444a-4c9e-ad73-cdea7a6b13cb] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 13:02:49.867 DEBUG [d951e772-6bab-45ee-ab73-e40144bf54ca] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:02:49.873 DEBUG [605dec65-444a-4c9e-ad73-cdea7a6b13cb] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 13:02:49.875 DEBUG [b6e19dde-4bd6-47ed-b154-71e5787db415] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 13:02:49.884  WARN [605dec65-444a-4c9e-ad73-cdea7a6b13cb] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 13:02:49.885  WARN [605dec65-444a-4c9e-ad73-cdea7a6b13cb] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 13:02:49.890 DEBUG [d951e772-6bab-45ee-ab73-e40144bf54ca] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:02:49.892 DEBUG [b6e19dde-4bd6-47ed-b154-71e5787db415] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 13:02:49.896 DEBUG [701e2df2-cfc6-4fd7-bb92-e296da67ac16] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 13:02:49.899  INFO [b6e19dde-4bd6-47ed-b154-71e5787db415] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 13:02:49.900  INFO [d951e772-6bab-45ee-ab73-e40144bf54ca] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:02:49.931 DEBUG [701e2df2-cfc6-4fd7-bb92-e296da67ac16] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 13:02:49.936  INFO [b6e19dde-4bd6-47ed-b154-71e5787db415] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 13:02:49.939  WARN [701e2df2-cfc6-4fd7-bb92-e296da67ac16] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 13:02:49.940  WARN [701e2df2-cfc6-4fd7-bb92-e296da67ac16] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 13:02:50.026  INFO [d951e772-6bab-45ee-ab73-e40144bf54ca] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:02:50.033 DEBUG [1524bbbf-cfa0-4349-b593-67d75cb768b3] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 13:02:50.043 DEBUG [1524bbbf-cfa0-4349-b593-67d75cb768b3] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 13:02:50.044  INFO [1524bbbf-cfa0-4349-b593-67d75cb768b3] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 13:02:50.132  INFO [1524bbbf-cfa0-4349-b593-67d75cb768b3] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 13:02:51.024 DEBUG [75f9ddc0-80a1-4d27-b7ec-af5212930a19] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:51.035 DEBUG [75f9ddc0-80a1-4d27-b7ec-af5212930a19] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:02:51.035  INFO [75f9ddc0-80a1-4d27-b7ec-af5212930a19] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:02:51.121  INFO [75f9ddc0-80a1-4d27-b7ec-af5212930a19] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:02:51.128 DEBUG [65e3acaf-348f-471f-986e-de15664ff08f] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 13:02:51.138 DEBUG [65e3acaf-348f-471f-986e-de15664ff08f] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 13:02:51.138  INFO [65e3acaf-348f-471f-986e-de15664ff08f] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 13:02:51.229  INFO [65e3acaf-348f-471f-986e-de15664ff08f] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 13:02:52.712 DEBUG [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 13:02:52.713 DEBUG [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 13:02:52.713 DEBUG [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 13:02:52.713 DEBUG [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 13:02:52.714  INFO [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 13:02:52.715  INFO [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 13:02:52.715  INFO [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 13:02:52.715  INFO [317c12ab-636b-447c-9125-0375ea1d9cd8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 14:45:20.291 DEBUG [a2270a4b-eef3-4bb8-b84c-4a2f99f7a18d] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:45:20.324 DEBUG [a2270a4b-eef3-4bb8-b84c-4a2f99f7a18d] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:45:20.326  INFO [a2270a4b-eef3-4bb8-b84c-4a2f99f7a18d] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:45:20.469  INFO [a2270a4b-eef3-4bb8-b84c-4a2f99f7a18d] 3964 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:45:20.481 DEBUG [154eb983-c314-4d9b-9bd8-09e7a55122f4] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:45:20.528 DEBUG [154eb983-c314-4d9b-9bd8-09e7a55122f4] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:45:20.531  INFO [154eb983-c314-4d9b-9bd8-09e7a55122f4] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:45:20.690  INFO [154eb983-c314-4d9b-9bd8-09e7a55122f4] 3964 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:45:21.464 DEBUG [4e8d32a8-945a-4635-93cb-ac6054936317] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 14:45:21.484 DEBUG [4e8d32a8-945a-4635-93cb-ac6054936317] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 14:45:21.492  INFO [4e8d32a8-945a-4635-93cb-ac6054936317] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 14:45:21.492  INFO [4e8d32a8-945a-4635-93cb-ac6054936317] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 14:45:21.503 DEBUG [6d4e9820-6638-4faf-b98c-90501ef7b033] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 14:45:21.523 DEBUG [6d4e9820-6638-4faf-b98c-90501ef7b033] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 14:45:21.536  INFO [6d4e9820-6638-4faf-b98c-90501ef7b033] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 14:45:21.538  INFO [6d4e9820-6638-4faf-b98c-90501ef7b033] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 14:45:22.773  WARN [NONE] 3964 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h16m18s563ms485s400ns).
2025-05-27 14:45:22.863 DEBUG [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 14:45:22.863 DEBUG [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:45:22.863 DEBUG [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:45:22.864 DEBUG [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 14:45:22.867  INFO [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 14:45:22.868  INFO [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:45:22.868  INFO [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 14:45:22.868  INFO [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 14:45:22.869  INFO [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 14:45:22.876  INFO [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 14:45:22.876  WARN [8bc55e20-ad5e-4085-9792-a601f88fa17c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 14:45:26.910 DEBUG [ae5c72b8-2ffb-43a5-8ada-d9e64a314238] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:45:26.932 DEBUG [ae5c72b8-2ffb-43a5-8ada-d9e64a314238] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:45:26.932  INFO [ae5c72b8-2ffb-43a5-8ada-d9e64a314238] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:45:27.119  INFO [ae5c72b8-2ffb-43a5-8ada-d9e64a314238] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:45:27.133 DEBUG [3ee4e3f9-cfbd-46cd-8953-ee22f7a4e0df] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:45:27.146 DEBUG [3ee4e3f9-cfbd-46cd-8953-ee22f7a4e0df] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:45:27.147  INFO [3ee4e3f9-cfbd-46cd-8953-ee22f7a4e0df] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:45:27.261  INFO [3ee4e3f9-cfbd-46cd-8953-ee22f7a4e0df] 3964 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:45:27.373 DEBUG [dec00fca-684f-41bc-8ac9-0e4975bede84] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 14:45:27.381 DEBUG [dec00fca-684f-41bc-8ac9-0e4975bede84] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 14:45:27.382  INFO [dec00fca-684f-41bc-8ac9-0e4975bede84] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 14:45:27.483  INFO [dec00fca-684f-41bc-8ac9-0e4975bede84] 3964 --- [nio-8080-exec-3] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 14:45:27.492 DEBUG [fc931cec-7717-4cd0-9cd7-accd39931355] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 14:45:27.503 DEBUG [fc931cec-7717-4cd0-9cd7-accd39931355] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 14:45:27.503  INFO [fc931cec-7717-4cd0-9cd7-accd39931355] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 14:45:27.598  INFO [fc931cec-7717-4cd0-9cd7-accd39931355] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 14:45:28.117 DEBUG [ab3bd5f5-5f97-40b9-81d4-80fedd3f286d] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 14:45:28.126 DEBUG [ab3bd5f5-5f97-40b9-81d4-80fedd3f286d] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 14:45:28.127  INFO [ab3bd5f5-5f97-40b9-81d4-80fedd3f286d] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 14:45:28.171  INFO [ab3bd5f5-5f97-40b9-81d4-80fedd3f286d] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 14:45:28.180 DEBUG [f97201fe-c625-4d5f-8be5-5fe2e324ff8f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 14:45:28.191 DEBUG [f97201fe-c625-4d5f-8be5-5fe2e324ff8f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 14:45:28.191  INFO [f97201fe-c625-4d5f-8be5-5fe2e324ff8f] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 14:45:28.237  INFO [f97201fe-c625-4d5f-8be5-5fe2e324ff8f] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 14:45:28.550 DEBUG [747c3905-3389-4bad-a71f-ce3e970023bc] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 14:45:28.568 DEBUG [747c3905-3389-4bad-a71f-ce3e970023bc] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 14:45:28.569  INFO [747c3905-3389-4bad-a71f-ce3e970023bc] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 14:45:28.670  INFO [747c3905-3389-4bad-a71f-ce3e970023bc] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 14:45:28.681 DEBUG [645c46a7-be3c-45b1-a027-ea0e1ae13c88] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 14:45:28.693 DEBUG [645c46a7-be3c-45b1-a027-ea0e1ae13c88] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 14:45:28.694  INFO [645c46a7-be3c-45b1-a027-ea0e1ae13c88] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 14:45:28.770 DEBUG [75bc1db0-d465-484c-9207-b0b7e8398a20] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:45:28.781 DEBUG [75bc1db0-d465-484c-9207-b0b7e8398a20] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:45:28.781  INFO [75bc1db0-d465-484c-9207-b0b7e8398a20] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:45:28.799  INFO [645c46a7-be3c-45b1-a027-ea0e1ae13c88] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 14:45:28.858  INFO [75bc1db0-d465-484c-9207-b0b7e8398a20] 3964 --- [nio-8080-exec-6] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:45:28.865 DEBUG [2b4d9a1c-d568-4e56-bf28-6311393e6049] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:45:28.875 DEBUG [2b4d9a1c-d568-4e56-bf28-6311393e6049] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:45:28.876  INFO [2b4d9a1c-d568-4e56-bf28-6311393e6049] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:45:28.957  INFO [2b4d9a1c-d568-4e56-bf28-6311393e6049] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:45:29.665 DEBUG [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 14:45:29.666 DEBUG [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:45:29.666 DEBUG [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:45:29.667 DEBUG [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 14:45:29.668  INFO [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 14:45:29.668  INFO [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:45:29.668  INFO [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 14:45:29.669  INFO [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 14:45:29.669  INFO [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 14:45:29.676  INFO [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 14:45:29.676  WARN [4fb285ae-d9b8-42b1-a00b-b4f4bd98c8aa] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 14:45:33.876 DEBUG [e16fc2c5-a5b6-47d3-af61-2367303d92a2] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:45:33.885 DEBUG [e16fc2c5-a5b6-47d3-af61-2367303d92a2] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:45:33.886  INFO [e16fc2c5-a5b6-47d3-af61-2367303d92a2] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:45:33.890  INFO [e16fc2c5-a5b6-47d3-af61-2367303d92a2] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:45:33.910 DEBUG [9e1db287-f3bf-4b5f-ba05-caa638af5111] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:45:33.929 DEBUG [9e1db287-f3bf-4b5f-ba05-caa638af5111] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:45:33.938  WARN [9e1db287-f3bf-4b5f-ba05-caa638af5111] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:45:33.939  WARN [9e1db287-f3bf-4b5f-ba05-caa638af5111] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:45:34.112 DEBUG [87372bf7-a554-45ec-8273-2a73530e2aad] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:45:34.120 DEBUG [87372bf7-a554-45ec-8273-2a73530e2aad] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:45:34.121  INFO [87372bf7-a554-45ec-8273-2a73530e2aad] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:45:34.124  INFO [87372bf7-a554-45ec-8273-2a73530e2aad] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:45:34.138 DEBUG [d4813845-9a88-42ee-8fd2-e80cad2939a8] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:45:34.148 DEBUG [d4813845-9a88-42ee-8fd2-e80cad2939a8] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:45:34.154  WARN [d4813845-9a88-42ee-8fd2-e80cad2939a8] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:45:34.155  WARN [d4813845-9a88-42ee-8fd2-e80cad2939a8] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:45:35.013 DEBUG [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 14:45:35.014 DEBUG [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:45:35.014 DEBUG [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:45:35.014 DEBUG [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 14:45:35.015  INFO [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 14:45:35.015  INFO [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:45:35.015  INFO [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 14:45:35.015  INFO [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 14:45:35.015  INFO [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 14:45:35.022  INFO [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 14:45:35.022  WARN [756279e0-9e6e-4a2d-a969-dc4463cdfa50] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 14:45:41.742 DEBUG [816cfbb9-6fca-47f0-9722-b8386a7a0cd0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:45:41.775 DEBUG [816cfbb9-6fca-47f0-9722-b8386a7a0cd0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:45:41.776  INFO [816cfbb9-6fca-47f0-9722-b8386a7a0cd0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:45:41.787  INFO [816cfbb9-6fca-47f0-9722-b8386a7a0cd0] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:45:42.034 DEBUG [1520b998-d152-4807-8d44-66b0edd232b2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:45:42.037 DEBUG [e6995771-7728-4279-b401-139bc7117be4] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 14:45:42.047 DEBUG [1520b998-d152-4807-8d44-66b0edd232b2] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:45:42.048 DEBUG [e6995771-7728-4279-b401-139bc7117be4] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 14:45:42.049  INFO [e6995771-7728-4279-b401-139bc7117be4] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 14:45:42.054  WARN [1520b998-d152-4807-8d44-66b0edd232b2] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:45:42.055  WARN [1520b998-d152-4807-8d44-66b0edd232b2] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:45:42.063  INFO [e6995771-7728-4279-b401-139bc7117be4] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 14:45:42.064 DEBUG [009a4184-60b2-4cf5-97e3-abfb438094c2] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:45:42.080 DEBUG [009a4184-60b2-4cf5-97e3-abfb438094c2] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:45:42.088  WARN [009a4184-60b2-4cf5-97e3-abfb438094c2] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:45:42.088  WARN [009a4184-60b2-4cf5-97e3-abfb438094c2] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:45:42.577 DEBUG [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 14:45:42.577 DEBUG [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:45:42.578 DEBUG [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:45:42.579 DEBUG [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 14:45:42.579  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 14:45:42.579  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:45:42.579  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 14:45:42.580  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 14:45:42.580  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 14:45:42.625  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 14:45:42.625  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 14:45:42.626  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 14:45:42.627  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 14:45:42.627  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 14:45:42.627  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 14:45:42.627  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 14:45:42.628  INFO [a0847774-df11-4b91-b220-c73265924b18] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 14:53:06.532 DEBUG [5bfce107-2d2c-4ba9-a07e-dc82c2df9528] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 14:53:06.532 DEBUG [5bfce107-2d2c-4ba9-a07e-dc82c2df9528] 3964 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 14:53:08.936 DEBUG [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:08.936 DEBUG [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:53:08.936 DEBUG [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:53:08.937 DEBUG [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:08.937  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 14:53:08.938  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:53:08.938  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 14:53:08.938  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 14:53:08.938  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 14:53:08.982  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 14:53:08.983  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 14:53:08.983  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 14:53:08.983  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 14:53:08.983  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 14:53:08.983  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 14:53:08.984  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 14:53:08.984  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 14:53:08.984  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 14:53:08.984  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 14:53:08.984  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 14:53:08.984  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 14:53:08.985  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 14:53:08.985  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 14:53:08.985  INFO [ee68812c-4b3e-440a-a170-637e51beecaf] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 14:53:15.278 DEBUG [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:15.278 DEBUG [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:53:15.278 DEBUG [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:53:15.279 DEBUG [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:15.279  INFO [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 14:53:15.279  INFO [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:53:15.280  INFO [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 14:53:15.280  INFO [97c6e05c-eae4-45ba-a3cd-1914d6fe9ded] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 14:53:26.836 DEBUG [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 14:53:26.837 DEBUG [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:53:26.837 DEBUG [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 14:53:26.839  INFO [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 14:53:27.021  INFO [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 14:53:27.021  INFO [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 14:53:27.094 DEBUG [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 14:53:27.094  INFO [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 14:53:27.117  INFO [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 14:53:27.117  INFO [d167b2e2-ef14-41d8-b734-3657a4eca040] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 14:53:27.151 DEBUG [0229b76f-862a-4f37-888d-ad51c0f8b9e8] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:53:27.151 DEBUG [de8b0a29-3b52-488f-b302-61f958e3ff79] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 14:53:27.164 DEBUG [de8b0a29-3b52-488f-b302-61f958e3ff79] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 14:53:27.164  INFO [de8b0a29-3b52-488f-b302-61f958e3ff79] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 14:53:27.164 DEBUG [0229b76f-862a-4f37-888d-ad51c0f8b9e8] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:53:27.168  WARN [0229b76f-862a-4f37-888d-ad51c0f8b9e8] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:53:27.169  WARN [0229b76f-862a-4f37-888d-ad51c0f8b9e8] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:53:27.173  INFO [de8b0a29-3b52-488f-b302-61f958e3ff79] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 14:53:28.432 DEBUG [06045cae-566b-46a8-9075-5666a86fe964] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 14:53:28.445 DEBUG [06045cae-566b-46a8-9075-5666a86fe964] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 14:53:28.450  INFO [06045cae-566b-46a8-9075-5666a86fe964] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 14:53:28.450  INFO [06045cae-566b-46a8-9075-5666a86fe964] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 14:53:28.459 DEBUG [b0c8c731-e288-42cb-b977-9a58f4c90688] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 14:53:28.469 DEBUG [b0c8c731-e288-42cb-b977-9a58f4c90688] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 14:53:28.474  INFO [b0c8c731-e288-42cb-b977-9a58f4c90688] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 14:53:28.474  INFO [b0c8c731-e288-42cb-b977-9a58f4c90688] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 14:53:29.521 DEBUG [fbaeb262-7ce5-4071-b81e-468fbf096b6f] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 14:53:29.536 DEBUG [fbaeb262-7ce5-4071-b81e-468fbf096b6f] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 14:53:29.543  INFO [fbaeb262-7ce5-4071-b81e-468fbf096b6f] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 14:53:29.544  INFO [fbaeb262-7ce5-4071-b81e-468fbf096b6f] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 14:53:29.615  INFO [fbaeb262-7ce5-4071-b81e-468fbf096b6f] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 14:53:29.626 DEBUG [59e2465d-f6b1-4923-917c-1f647795084f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 14:53:29.637 DEBUG [59e2465d-f6b1-4923-917c-1f647795084f] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 14:53:29.642  INFO [59e2465d-f6b1-4923-917c-1f647795084f] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user2
2025-05-27 14:53:29.642  INFO [59e2465d-f6b1-4923-917c-1f647795084f] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 2
2025-05-27 14:53:29.702  INFO [59e2465d-f6b1-4923-917c-1f647795084f] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 2
2025-05-27 14:53:30.871 DEBUG [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:30.871 DEBUG [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:53:30.871 DEBUG [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:53:30.872 DEBUG [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:30.873  INFO [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 14:53:30.873  INFO [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:53:30.873  INFO [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 14:53:30.873  INFO [ee61564f-7df1-4ad4-bdd6-f006929ddab8] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 14:53:31.648 DEBUG [7ce7d05a-877b-47fd-b582-5b1a8573687a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:53:31.681 DEBUG [7ce7d05a-877b-47fd-b582-5b1a8573687a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:53:31.681  INFO [7ce7d05a-877b-47fd-b582-5b1a8573687a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:53:31.771  INFO [7ce7d05a-877b-47fd-b582-5b1a8573687a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:53:31.779 DEBUG [b9163006-3462-4c8e-bd41-072bff3188d1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:53:31.789 DEBUG [b9163006-3462-4c8e-bd41-072bff3188d1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:53:31.789  INFO [b9163006-3462-4c8e-bd41-072bff3188d1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:53:31.870  INFO [b9163006-3462-4c8e-bd41-072bff3188d1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:53:33.201 DEBUG [4d37db9f-77b4-4d16-bb36-9f9b88b583b2] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 14:53:33.210 DEBUG [4d37db9f-77b4-4d16-bb36-9f9b88b583b2] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 14:53:33.211  INFO [4d37db9f-77b4-4d16-bb36-9f9b88b583b2] 3964 --- [io-8080-exec-10] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 14:53:33.300  INFO [4d37db9f-77b4-4d16-bb36-9f9b88b583b2] 3964 --- [io-8080-exec-10] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 14:53:33.307 DEBUG [05dedd62-3bc3-485d-9d06-e9c08ea8ce7e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 14:53:33.318 DEBUG [05dedd62-3bc3-485d-9d06-e9c08ea8ce7e] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 14:53:33.318  INFO [05dedd62-3bc3-485d-9d06-e9c08ea8ce7e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 14:53:33.411  INFO [05dedd62-3bc3-485d-9d06-e9c08ea8ce7e] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UsersController        : Returning 4 users.
2025-05-27 14:53:33.768 DEBUG [b3015b82-2ccc-45a0-943d-43960feb62b7] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 14:53:33.778 DEBUG [b3015b82-2ccc-45a0-943d-43960feb62b7] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 14:53:33.778  INFO [b3015b82-2ccc-45a0-943d-43960feb62b7] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 14:53:33.819  INFO [b3015b82-2ccc-45a0-943d-43960feb62b7] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 14:53:33.826 DEBUG [07ff9cc6-c294-4ae2-97c2-f1d9e726afd3] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights
2025-05-27 14:53:33.835 DEBUG [07ff9cc6-c294-4ae2-97c2-f1d9e726afd3] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights
2025-05-27 14:53:33.836  INFO [07ff9cc6-c294-4ae2-97c2-f1d9e726afd3] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Request received for all flights
2025-05-27 14:53:33.879  INFO [07ff9cc6-c294-4ae2-97c2-f1d9e726afd3] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 32 flights.
2025-05-27 14:53:34.364 DEBUG [6b3e0d23-76b2-4409-9a51-749bf013396b] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:53:34.376 DEBUG [6b3e0d23-76b2-4409-9a51-749bf013396b] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:53:34.376  INFO [6b3e0d23-76b2-4409-9a51-749bf013396b] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:53:34.454  INFO [6b3e0d23-76b2-4409-9a51-749bf013396b] 3964 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:53:34.464 DEBUG [6e1a9768-86d6-4794-a89c-bf86facaf075] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 14:53:34.474 DEBUG [6e1a9768-86d6-4794-a89c-bf86facaf075] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 14:53:34.475  INFO [6e1a9768-86d6-4794-a89c-bf86facaf075] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 14:53:34.567  INFO [6e1a9768-86d6-4794-a89c-bf86facaf075] 3964 --- [nio-8080-exec-7] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 14:53:35.106 DEBUG [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:35.108 DEBUG [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:53:35.110 DEBUG [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:53:35.113 DEBUG [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 14:53:35.119  INFO [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 14:53:35.119  INFO [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:53:35.119  INFO [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 14:53:35.119  INFO [35f4cd5b-90f6-40ce-a82e-02b942764261] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 14:56:45.029 DEBUG [eba59335-72ff-4d16-9d6c-119fdf132fd3] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:56:45.032 DEBUG [434b6349-e6cc-4b35-8475-8a164464e362] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 14:56:45.042 DEBUG [eba59335-72ff-4d16-9d6c-119fdf132fd3] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:56:45.042 DEBUG [434b6349-e6cc-4b35-8475-8a164464e362] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 14:56:45.043  INFO [434b6349-e6cc-4b35-8475-8a164464e362] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 14:56:45.048  WARN [eba59335-72ff-4d16-9d6c-119fdf132fd3] 3964 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:56:45.048  WARN [eba59335-72ff-4d16-9d6c-119fdf132fd3] 3964 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:56:45.060 DEBUG [7744f1d7-aacc-4147-a863-ac442b06bdf7] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:56:45.068  INFO [434b6349-e6cc-4b35-8475-8a164464e362] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 14:56:45.089 DEBUG [7744f1d7-aacc-4147-a863-ac442b06bdf7] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:56:45.109  WARN [7744f1d7-aacc-4147-a863-ac442b06bdf7] 3964 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:56:45.111  WARN [7744f1d7-aacc-4147-a863-ac442b06bdf7] 3964 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:56:45.336 DEBUG [c2fb02bf-01cf-4295-ac1b-04b904a526ea] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:56:45.347 DEBUG [c2fb02bf-01cf-4295-ac1b-04b904a526ea] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:56:45.348  INFO [c2fb02bf-01cf-4295-ac1b-04b904a526ea] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:56:45.353  INFO [c2fb02bf-01cf-4295-ac1b-04b904a526ea] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:56:45.413 DEBUG [53e6778c-9cf8-4e09-8d29-11377b722183] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:56:45.425 DEBUG [53e6778c-9cf8-4e09-8d29-11377b722183] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:56:45.432  WARN [53e6778c-9cf8-4e09-8d29-11377b722183] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:56:45.432  WARN [53e6778c-9cf8-4e09-8d29-11377b722183] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:56:45.443 DEBUG [d46faf95-d297-434f-b541-34be5afdfa03] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:56:45.539 DEBUG [d46faf95-d297-434f-b541-34be5afdfa03] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:56:45.553  WARN [d46faf95-d297-434f-b541-34be5afdfa03] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:56:45.575  WARN [d46faf95-d297-434f-b541-34be5afdfa03] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:56:58.289 DEBUG [f0ea640b-bc23-45ce-bc2f-69e971e2d5e7] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:56:58.297 DEBUG [f0ea640b-bc23-45ce-bc2f-69e971e2d5e7] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:56:58.297  INFO [f0ea640b-bc23-45ce-bc2f-69e971e2d5e7] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:56:58.306  INFO [f0ea640b-bc23-45ce-bc2f-69e971e2d5e7] 3964 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:56:58.358 DEBUG [58461ac1-45aa-4042-a7b7-bac3af823cd5] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:56:58.360 DEBUG [3a103d14-61d7-4e92-8b31-499b3e8d420c] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 14:56:58.369 DEBUG [58461ac1-45aa-4042-a7b7-bac3af823cd5] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:56:58.370 DEBUG [3a103d14-61d7-4e92-8b31-499b3e8d420c] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 14:56:58.370  INFO [3a103d14-61d7-4e92-8b31-499b3e8d420c] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 14:56:58.374  WARN [58461ac1-45aa-4042-a7b7-bac3af823cd5] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:56:58.375  WARN [58461ac1-45aa-4042-a7b7-bac3af823cd5] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:56:58.380  INFO [3a103d14-61d7-4e92-8b31-499b3e8d420c] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 14:56:58.387 DEBUG [5aeabcdb-48a9-424b-aadd-0532333892b8] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:56:58.402 DEBUG [5aeabcdb-48a9-424b-aadd-0532333892b8] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:56:58.411  WARN [5aeabcdb-48a9-424b-aadd-0532333892b8] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:56:58.412  WARN [5aeabcdb-48a9-424b-aadd-0532333892b8] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:57:10.787 DEBUG [6fa9b889-79be-4ae8-85c8-53dda3d8f9d1] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:57:10.806 DEBUG [6fa9b889-79be-4ae8-85c8-53dda3d8f9d1] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:57:10.807  INFO [6fa9b889-79be-4ae8-85c8-53dda3d8f9d1] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:57:10.813  INFO [6fa9b889-79be-4ae8-85c8-53dda3d8f9d1] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:57:10.870 DEBUG [664ea41a-fc02-4fd6-a914-e2ee5f3b3f29] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:57:10.873 DEBUG [b9f4ac0c-2c69-46cb-940f-7d6d3d76761f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 14:57:10.884 DEBUG [664ea41a-fc02-4fd6-a914-e2ee5f3b3f29] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:57:10.884 DEBUG [b9f4ac0c-2c69-46cb-940f-7d6d3d76761f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 14:57:10.885  INFO [b9f4ac0c-2c69-46cb-940f-7d6d3d76761f] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 14:57:10.890  WARN [664ea41a-fc02-4fd6-a914-e2ee5f3b3f29] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:57:10.891  WARN [664ea41a-fc02-4fd6-a914-e2ee5f3b3f29] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:57:10.897  INFO [b9f4ac0c-2c69-46cb-940f-7d6d3d76761f] 3964 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 14:57:10.904 DEBUG [3d7909e9-309e-4365-868f-b7f2115fb67a] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:57:10.918 DEBUG [3d7909e9-309e-4365-868f-b7f2115fb67a] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:57:10.926  WARN [3d7909e9-309e-4365-868f-b7f2115fb67a] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:57:10.927  WARN [3d7909e9-309e-4365-868f-b7f2115fb67a] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:57:21.957 DEBUG [0fedee5f-fc19-4448-939b-56f25e33fd72] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 14:57:21.957 DEBUG [4c3737e1-d5fe-4002-a41e-7b3ef42d0d78] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:57:21.967 DEBUG [0fedee5f-fc19-4448-939b-56f25e33fd72] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 14:57:21.968 DEBUG [4c3737e1-d5fe-4002-a41e-7b3ef42d0d78] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:57:21.968  INFO [0fedee5f-fc19-4448-939b-56f25e33fd72] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 14:57:21.973  WARN [4c3737e1-d5fe-4002-a41e-7b3ef42d0d78] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:57:21.973  WARN [4c3737e1-d5fe-4002-a41e-7b3ef42d0d78] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:57:21.977  INFO [0fedee5f-fc19-4448-939b-56f25e33fd72] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 14:57:21.989 DEBUG [ad478b47-9c5c-4883-9396-a0a4f723eea8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:57:22.002 DEBUG [ad478b47-9c5c-4883-9396-a0a4f723eea8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:57:22.008  WARN [ad478b47-9c5c-4883-9396-a0a4f723eea8] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:57:22.009  WARN [ad478b47-9c5c-4883-9396-a0a4f723eea8] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:57:22.240 DEBUG [9193aece-0d75-4761-8b15-8c560b05f580] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:57:22.253 DEBUG [9193aece-0d75-4761-8b15-8c560b05f580] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:57:22.253  INFO [9193aece-0d75-4761-8b15-8c560b05f580] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:57:22.260  INFO [9193aece-0d75-4761-8b15-8c560b05f580] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:57:22.322 DEBUG [cc19d3d5-d37d-4cef-b4c0-0d54453590c2] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:57:22.341 DEBUG [cc19d3d5-d37d-4cef-b4c0-0d54453590c2] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:57:22.353  WARN [cc19d3d5-d37d-4cef-b4c0-0d54453590c2] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:57:22.354  WARN [cc19d3d5-d37d-4cef-b4c0-0d54453590c2] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:57:22.364 DEBUG [787d1b4f-6b86-4b63-9e40-bc6e2be52651] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:57:22.387 DEBUG [787d1b4f-6b86-4b63-9e40-bc6e2be52651] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:57:22.399  WARN [787d1b4f-6b86-4b63-9e40-bc6e2be52651] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:57:22.401  WARN [787d1b4f-6b86-4b63-9e40-bc6e2be52651] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:58:37.763 DEBUG [4f21bb40-b4fe-4f11-aa66-379f64fe22fe] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:58:37.778 DEBUG [4f21bb40-b4fe-4f11-aa66-379f64fe22fe] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:58:37.783  WARN [4f21bb40-b4fe-4f11-aa66-379f64fe22fe] 3964 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:58:37.785  WARN [4f21bb40-b4fe-4f11-aa66-379f64fe22fe] 3964 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:59:54.737 DEBUG [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 14:59:54.738 DEBUG [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:59:54.738 DEBUG [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:59:54.738 DEBUG [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 14:59:54.739  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 14:59:54.739  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:59:54.739  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 14:59:54.739  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 14:59:54.740  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 14:59:54.791  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 14:59:54.792  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 14:59:54.792  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 14:59:54.792  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 14:59:54.792  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 14:59:54.792  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 14:59:54.792  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 14:59:54.793  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 14:59:54.793  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 14:59:54.793  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 14:59:54.793  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 14:59:54.793  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 14:59:54.793  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 14:59:54.793  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 14:59:54.794  INFO [d7347ab8-c29a-4688-8d36-34d28e9594ba] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 14:59:57.946 DEBUG [b5ad257c-552e-45dc-9136-da54bcf68656] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 14:59:57.957 DEBUG [b5ad257c-552e-45dc-9136-da54bcf68656] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 14:59:57.957  INFO [b5ad257c-552e-45dc-9136-da54bcf68656] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 14:59:57.962  INFO [b5ad257c-552e-45dc-9136-da54bcf68656] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 14:59:58.059 DEBUG [4ab51dd7-b198-47a0-91a4-33956f54b39f] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:59:58.059 DEBUG [91c36c68-3967-4ec7-9e1d-140f20095483] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 14:59:58.076 DEBUG [91c36c68-3967-4ec7-9e1d-140f20095483] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 14:59:58.077 DEBUG [4ab51dd7-b198-47a0-91a4-33956f54b39f] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:59:58.078  INFO [91c36c68-3967-4ec7-9e1d-140f20095483] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 14:59:58.085  WARN [4ab51dd7-b198-47a0-91a4-33956f54b39f] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:59:58.086  WARN [4ab51dd7-b198-47a0-91a4-33956f54b39f] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:59:58.091  INFO [91c36c68-3967-4ec7-9e1d-140f20095483] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 14:59:58.100 DEBUG [1e857f87-70aa-459f-a574-9ac6aa8e6af5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 14:59:58.124 DEBUG [1e857f87-70aa-459f-a574-9ac6aa8e6af5] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 14:59:58.132  WARN [1e857f87-70aa-459f-a574-9ac6aa8e6af5] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 14:59:58.133  WARN [1e857f87-70aa-459f-a574-9ac6aa8e6af5] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 14:59:58.178 DEBUG [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 14:59:58.179 DEBUG [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 14:59:58.180 DEBUG [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 14:59:58.187 DEBUG [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 14:59:58.192  INFO [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 14:59:58.193  INFO [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 14:59:58.193  INFO [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 14:59:58.193  INFO [a3bfd3fe-89e6-4708-ab94-da669078bf7c] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 14:59:59.048 DEBUG [2493f56a-bbdb-40fd-be8b-009e9ed15173] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 14:59:59.049 DEBUG [2493f56a-bbdb-40fd-be8b-009e9ed15173] 3964 --- [nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:00:00.805 DEBUG [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:00.806 DEBUG [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:00.806 DEBUG [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:00:00.806 DEBUG [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:00.807  INFO [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:00:00.807  INFO [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:00:00.807  INFO [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:00:00.807  INFO [ae8ef744-1b29-4ae7-a060-770996e51f4b] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:00:08.201 DEBUG [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:08.202 DEBUG [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:08.202 DEBUG [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:00:08.203 DEBUG [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:08.204  INFO [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:00:08.204  INFO [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:00:08.204  INFO [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:00:08.204  INFO [70ac54d1-e430-49d4-9e5e-05129cdc20c2] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:00:15.806 DEBUG [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:15.807 DEBUG [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:15.807 DEBUG [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:00:15.808 DEBUG [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:15.808  INFO [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:00:15.808  INFO [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:00:15.809  INFO [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:00:15.809  INFO [867fd3af-b5a4-44c2-ac08-430ff39f597d] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:00:21.974 DEBUG [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 15:00:21.974 DEBUG [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:21.975 DEBUG [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 15:00:21.976  INFO [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 15:00:22.146  INFO [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 15:00:22.146  INFO [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 15:00:22.283 DEBUG [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 15:00:22.284  INFO [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Authentication successful for user: user1
2025-05-27 15:00:22.306  INFO [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Updated last login time for user: user1
2025-05-27 15:00:22.307  INFO [763e5560-f262-4b2d-91fe-8e1ea369ef17] 3964 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user1
2025-05-27 15:00:22.359 DEBUG [7a7bd973-eb79-4d25-ab3a-d54a65268b28] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:00:22.359 DEBUG [ca7d9405-f9b6-4e8b-84fd-f05824f51d95] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:00:22.359 DEBUG [1d7dc789-34bc-42cd-9e5d-5cc4552b689f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:00:22.445 DEBUG [1d7dc789-34bc-42cd-9e5d-5cc4552b689f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:00:22.446 DEBUG [7a7bd973-eb79-4d25-ab3a-d54a65268b28] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:00:22.446  INFO [1d7dc789-34bc-42cd-9e5d-5cc4552b689f] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:00:22.450 DEBUG [ca7d9405-f9b6-4e8b-84fd-f05824f51d95] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:00:22.522  WARN [7a7bd973-eb79-4d25-ab3a-d54a65268b28] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:00:22.522  WARN [7a7bd973-eb79-4d25-ab3a-d54a65268b28] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:00:22.525  INFO [1d7dc789-34bc-42cd-9e5d-5cc4552b689f] 3964 --- [nio-8080-exec-6] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user user1 with ID 1, creating a new one.
2025-05-27 15:00:22.527  INFO [ca7d9405-f9b6-4e8b-84fd-f05824f51d95] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 15:00:22.528  INFO [ca7d9405-f9b6-4e8b-84fd-f05824f51d95] 3964 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 15:00:22.544  INFO [1d7dc789-34bc-42cd-9e5d-5cc4552b689f] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 15:00:22.817 DEBUG [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:22.818 DEBUG [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:22.818 DEBUG [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:00:22.819 DEBUG [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:22.819  INFO [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:00:22.819  INFO [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:00:22.819  INFO [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:00:22.820  INFO [d392764b-6cb0-4804-acf7-841943c32854] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:00:24.773 DEBUG [cc8543da-176d-468f-9cdd-874afa05e7ff] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:00:24.855 DEBUG [cc8543da-176d-468f-9cdd-874afa05e7ff] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:00:24.924  INFO [cc8543da-176d-468f-9cdd-874afa05e7ff] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 15:00:24.924  INFO [cc8543da-176d-468f-9cdd-874afa05e7ff] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 15:00:24.934 DEBUG [de93e562-5c7f-43dd-b884-193896b5be10] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:00:25.022 DEBUG [de93e562-5c7f-43dd-b884-193896b5be10] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:00:25.092  INFO [de93e562-5c7f-43dd-b884-193896b5be10] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 15:00:25.092  INFO [de93e562-5c7f-43dd-b884-193896b5be10] 3964 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 15:00:26.547 DEBUG [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:26.548 DEBUG [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:26.549 DEBUG [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:00:26.549 DEBUG [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:26.550  INFO [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:00:26.550  INFO [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:00:26.550  INFO [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:00:26.550  INFO [27506672-b5ad-4b35-a7cf-1978070b4575] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:00:27.444 DEBUG [466c2766-ae82-4626-8e1a-22598d33194d] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:00:27.445 DEBUG [466c2766-ae82-4626-8e1a-22598d33194d] 3964 --- [nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:00:29.059 DEBUG [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:29.060 DEBUG [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:29.060 DEBUG [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:00:29.061 DEBUG [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:29.061  INFO [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:00:29.062  INFO [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:00:29.062  INFO [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:00:29.062  INFO [64a70fb0-94f9-4bef-8aac-9a2fb1d582bc] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:00:31.947 DEBUG [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:31.948 DEBUG [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:00:31.948 DEBUG [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:00:31.949 DEBUG [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:00:31.949  INFO [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:00:31.950  INFO [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:00:31.950  INFO [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:00:31.950  INFO [cbd7132b-8ff9-45a8-8523-7c5f572465f9] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:03:46.209 DEBUG [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:03:46.210 DEBUG [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:03:46.210 DEBUG [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:03:46.211 DEBUG [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:03:46.212  INFO [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:03:46.212  INFO [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:03:46.212  INFO [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:03:46.212  INFO [4f4850d2-39f2-49f5-b581-5a16c89f24af] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:04:04.652 DEBUG [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 15:04:04.652 DEBUG [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:04.653 DEBUG [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 15:04:04.653  INFO [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 15:04:04.842  INFO [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 15:04:04.842  INFO [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 15:04:04.976 DEBUG [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 15:04:04.976  INFO [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : Authentication successful for user: user1
2025-05-27 15:04:04.996  INFO [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : Updated last login time for user: user1
2025-05-27 15:04:04.996  INFO [60da602c-5833-4031-98cc-8374148c35df] 3964 --- [nio-8080-exec-6] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user1
2025-05-27 15:04:05.037 DEBUG [e1c59bbd-0bee-4fcd-b40d-34ebb5faad55] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:04:05.043 DEBUG [77ba2ed8-001e-4f48-8a7e-0ad907ae1d95] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:04:05.044 DEBUG [62f1a163-fb39-4233-bd60-baddb027f1b8] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:04:05.119 DEBUG [e1c59bbd-0bee-4fcd-b40d-34ebb5faad55] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:04:05.121 DEBUG [62f1a163-fb39-4233-bd60-baddb027f1b8] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:04:05.121 DEBUG [77ba2ed8-001e-4f48-8a7e-0ad907ae1d95] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:04:05.122  INFO [62f1a163-fb39-4233-bd60-baddb027f1b8] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:04:05.190  WARN [e1c59bbd-0bee-4fcd-b40d-34ebb5faad55] 3964 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:04:05.191  WARN [e1c59bbd-0bee-4fcd-b40d-34ebb5faad55] 3964 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:04:05.194  INFO [77ba2ed8-001e-4f48-8a7e-0ad907ae1d95] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 15:04:05.194  INFO [77ba2ed8-001e-4f48-8a7e-0ad907ae1d95] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 15:04:05.200  INFO [62f1a163-fb39-4233-bd60-baddb027f1b8] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 15:04:05.486 DEBUG [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:05.487 DEBUG [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:05.487 DEBUG [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:04:05.488 DEBUG [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:05.488  INFO [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:04:05.489  INFO [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:04:05.489  INFO [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:04:05.489  INFO [50fab4ed-6b8c-4190-a2c2-873841a5d4da] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:04:07.805 DEBUG [eb974c18-65cd-4bc8-8b50-8fad7f7ab7f7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:04:07.898 DEBUG [eb974c18-65cd-4bc8-8b50-8fad7f7ab7f7] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:04:07.898  INFO [eb974c18-65cd-4bc8-8b50-8fad7f7ab7f7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:04:07.971  INFO [eb974c18-65cd-4bc8-8b50-8fad7f7ab7f7] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 15:04:07.980 DEBUG [6fea8f45-6eec-4dc2-a7bb-ce4dc1a603a0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:04:08.056 DEBUG [6fea8f45-6eec-4dc2-a7bb-ce4dc1a603a0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:04:08.056  INFO [6fea8f45-6eec-4dc2-a7bb-ce4dc1a603a0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:04:08.127  INFO [6fea8f45-6eec-4dc2-a7bb-ce4dc1a603a0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 15:04:10.805 DEBUG [317ae964-ebd1-438d-9803-3b12e6fabd0e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:04:10.882 DEBUG [317ae964-ebd1-438d-9803-3b12e6fabd0e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:04:10.949  INFO [317ae964-ebd1-438d-9803-3b12e6fabd0e] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user1
2025-05-27 15:04:10.949  INFO [317ae964-ebd1-438d-9803-3b12e6fabd0e] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 1
2025-05-27 15:04:10.954  INFO [317ae964-ebd1-438d-9803-3b12e6fabd0e] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 1
2025-05-27 15:04:10.968 DEBUG [6730cce7-7422-4173-afba-277d23385bc1] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:04:11.044 DEBUG [6730cce7-7422-4173-afba-277d23385bc1] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:04:11.108  INFO [6730cce7-7422-4173-afba-277d23385bc1] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user1
2025-05-27 15:04:11.108  INFO [6730cce7-7422-4173-afba-277d23385bc1] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 1
2025-05-27 15:04:11.112  INFO [6730cce7-7422-4173-afba-277d23385bc1] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 1
2025-05-27 15:04:14.299 DEBUG [ddaf8b04-3641-4a4c-b0bd-6d14c21866c0] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:04:14.383 DEBUG [ddaf8b04-3641-4a4c-b0bd-6d14c21866c0] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:04:14.384  INFO [ddaf8b04-3641-4a4c-b0bd-6d14c21866c0] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: user1
2025-05-27 15:04:14.454  INFO [ddaf8b04-3641-4a4c-b0bd-6d14c21866c0] 3964 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: user1
2025-05-27 15:04:14.506 DEBUG [126f7cba-deb6-4682-a92e-e27208b8715b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:04:14.506 DEBUG [4c0278bc-2c9f-4701-8983-00cd25915d8c] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:04:14.605 DEBUG [126f7cba-deb6-4682-a92e-e27208b8715b] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:04:14.605 DEBUG [4c0278bc-2c9f-4701-8983-00cd25915d8c] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:04:14.605  INFO [4c0278bc-2c9f-4701-8983-00cd25915d8c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:04:14.675  WARN [126f7cba-deb6-4682-a92e-e27208b8715b] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:04:14.676  WARN [126f7cba-deb6-4682-a92e-e27208b8715b] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:04:14.681  INFO [4c0278bc-2c9f-4701-8983-00cd25915d8c] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 15:04:14.686 DEBUG [8c28d267-7cef-46d2-8858-06aa9912b6b0] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:04:14.764 DEBUG [8c28d267-7cef-46d2-8858-06aa9912b6b0] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:04:14.834  WARN [8c28d267-7cef-46d2-8858-06aa9912b6b0] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:04:14.834  WARN [8c28d267-7cef-46d2-8858-06aa9912b6b0] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:04:15.689 DEBUG [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:15.690 DEBUG [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:15.690 DEBUG [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:04:15.691 DEBUG [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:15.691  INFO [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:04:15.691  INFO [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:04:15.691  INFO [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:04:15.691  INFO [d9b6a2ae-8de6-4b76-b455-2bfd001667fb] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:04:16.266 DEBUG [e82f36b5-e9c4-4344-bbdc-5d111e16c2dd] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:04:16.342 DEBUG [e82f36b5-e9c4-4344-bbdc-5d111e16c2dd] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:04:16.409  INFO [e82f36b5-e9c4-4344-bbdc-5d111e16c2dd] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 15:04:16.409  INFO [e82f36b5-e9c4-4344-bbdc-5d111e16c2dd] 3964 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 15:04:16.419 DEBUG [ee891733-cbf1-4320-93e9-a15f48141eca] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:04:16.489 DEBUG [ee891733-cbf1-4320-93e9-a15f48141eca] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:04:16.552  INFO [ee891733-cbf1-4320-93e9-a15f48141eca] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 15:04:16.552  INFO [ee891733-cbf1-4320-93e9-a15f48141eca] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 15:04:17.232 DEBUG [3ffbd098-cc4c-48a5-9057-fe00e79faf8b] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:04:17.311 DEBUG [3ffbd098-cc4c-48a5-9057-fe00e79faf8b] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:04:17.379  INFO [3ffbd098-cc4c-48a5-9057-fe00e79faf8b] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user1
2025-05-27 15:04:17.379  INFO [3ffbd098-cc4c-48a5-9057-fe00e79faf8b] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 1
2025-05-27 15:04:17.384  INFO [3ffbd098-cc4c-48a5-9057-fe00e79faf8b] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 1
2025-05-27 15:04:17.391 DEBUG [68acbcf0-b3d6-42cb-81b2-380fa4777be9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:04:17.466 DEBUG [68acbcf0-b3d6-42cb-81b2-380fa4777be9] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:04:17.530  INFO [68acbcf0-b3d6-42cb-81b2-380fa4777be9] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user1
2025-05-27 15:04:17.531  INFO [68acbcf0-b3d6-42cb-81b2-380fa4777be9] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 1
2025-05-27 15:04:17.534  INFO [68acbcf0-b3d6-42cb-81b2-380fa4777be9] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 1
2025-05-27 15:04:17.944 DEBUG [509861c3-5d2d-40dc-aeb3-cd73ce6f87a9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:04:17.944 DEBUG [509861c3-5d2d-40dc-aeb3-cd73ce6f87a9] 3964 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:04:18.495 DEBUG [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:18.495 DEBUG [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:18.496 DEBUG [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:04:18.497 DEBUG [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:18.497  INFO [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:04:18.498  INFO [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:04:18.498  INFO [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:04:18.498  INFO [b12f0844-a8b2-407f-bffe-6a27e4ee541d] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:04:23.007 DEBUG [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:23.008 DEBUG [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:23.008 DEBUG [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 68FD2E462E54535FD697683681AEFB78
2025-05-27 15:04:23.008 DEBUG [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:23.009  INFO [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:04:23.009  INFO [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:04:23.009  INFO [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:04:23.009  INFO [c09e9459-88ab-481a-a260-e0d99b0000e9] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:04:43.100 DEBUG [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 15:04:43.101 DEBUG [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:43.101 DEBUG [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 15:04:43.102  INFO [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 15:04:43.275  INFO [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 15:04:43.275  INFO [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 15:04:43.350 DEBUG [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 15:04:43.351  INFO [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 15:04:43.366  INFO [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 15:04:43.366  INFO [c3ce99d1-95c9-4475-80cc-46353d7a8331] 3964 --- [nio-8080-exec-9] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 15:04:43.407 DEBUG [a7ded968-c659-4f7f-933c-e630a37703d5] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:04:43.407 DEBUG [fb4908c7-ede9-40f9-ac10-561a17a55218] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:04:43.418 DEBUG [a7ded968-c659-4f7f-933c-e630a37703d5] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:04:43.418 DEBUG [fb4908c7-ede9-40f9-ac10-561a17a55218] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:04:43.418  INFO [a7ded968-c659-4f7f-933c-e630a37703d5] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:04:43.423  WARN [fb4908c7-ede9-40f9-ac10-561a17a55218] 3964 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:04:43.424  WARN [fb4908c7-ede9-40f9-ac10-561a17a55218] 3964 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:04:43.427  INFO [a7ded968-c659-4f7f-933c-e630a37703d5] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 15:04:44.236 DEBUG [eb5f4f86-4a5a-4d23-a55c-424c107b38f2] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:04:44.236 DEBUG [eb5f4f86-4a5a-4d23-a55c-424c107b38f2] 3964 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:04:48.747 DEBUG [fafc84c9-c2ec-4fab-b6cb-6953a6934252] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:04:48.749 DEBUG [fafc84c9-c2ec-4fab-b6cb-6953a6934252] 3964 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=vf-0-MKUIB3pHrZuCEe6BuMxIeWDNcA4TpGK1UZBJO0%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:04:50.548 DEBUG [5bc7e705-3fa6-40cb-b71b-854dfbc390d2] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=vf-0-MKUIB3pHrZuCEe6BuMxIeWDNcA4TpGK1UZBJO0%3D&code=4%2F0AUJR-x7KOdNm2XLPylQ3ex-O0J1-74oRVdmqIzGKklbSXM5u8D_oXn8lz11c8J_fByTnFQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 15:04:50.880  INFO [5bc7e705-3fa6-40cb-b71b-854dfbc390d2] 3964 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:04:50.938 DEBUG [5bc7e705-3fa6-40cb-b71b-854dfbc390d2] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C21255FE993EEFF3EDDA29D31373FDB3
2025-05-27 15:04:50.938 DEBUG [5bc7e705-3fa6-40cb-b71b-854dfbc390d2] 3964 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C21255FE993EEFF3EDDA29D31373FDB3], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:04:50.940 DEBUG [5bc7e705-3fa6-40cb-b71b-854dfbc390d2] 3964 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/login?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ3NDkwLCJleHAiOjE3NDg0MzM4OTB9.3vh7J31XpaH4Xg8XztYEGlk-52uJHawinrRURkaoB-z679pX332bKEVlo50pYtM4Td9SWE6MoVLdRUYudja08A&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDc0OTAsImV4cCI6MTc0ODk1MjI5MH0.Bc4ezmS_JIkp1ds4FhlVh2AV87JWJY1WVpKd6W7sftB_yVtXORmGkSXY5OdA8dpe0p6RznI2MrCjd_a5tNLH-w
2025-05-27 15:04:51.915 DEBUG [2267457e-a187-4f22-b301-4997ddb7f41e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:04:52.024 DEBUG [2267457e-a187-4f22-b301-4997ddb7f41e] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:04:52.025  INFO [2267457e-a187-4f22-b301-4997ddb7f41e] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:04:52.209  INFO [2267457e-a187-4f22-b301-4997ddb7f41e] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:04:52.254 DEBUG [5e74fd8d-7ea3-4465-af90-58ab13e1f448] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:04:52.254 DEBUG [6ef4096d-b3da-4894-a3e5-568864dd8af0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:04:52.404 DEBUG [6ef4096d-b3da-4894-a3e5-568864dd8af0] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5DA8E6CCF29D23ACD41EA517108D279D
2025-05-27 15:04:52.406 DEBUG [6ef4096d-b3da-4894-a3e5-568864dd8af0] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:04:52.408 DEBUG [5e74fd8d-7ea3-4465-af90-58ab13e1f448] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:04:52.409  INFO [5e74fd8d-7ea3-4465-af90-58ab13e1f448] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:04:52.561  WARN [6ef4096d-b3da-4894-a3e5-568864dd8af0] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:04:52.561  WARN [6ef4096d-b3da-4894-a3e5-568864dd8af0] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:04:52.569  INFO [5e74fd8d-7ea3-4465-af90-58ab13e1f448] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:04:52.958 DEBUG [b570eb18-c82f-4490-b39c-b5c9f7b34480] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:52.958 DEBUG [b570eb18-c82f-4490-b39c-b5c9f7b34480] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:52.959 DEBUG [b570eb18-c82f-4490-b39c-b5c9f7b34480] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:52.960  INFO [b570eb18-c82f-4490-b39c-b5c9f7b34480] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:04:52.960  INFO [b570eb18-c82f-4490-b39c-b5c9f7b34480] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:04:52.960  INFO [b570eb18-c82f-4490-b39c-b5c9f7b34480] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:04:52.960  INFO [b570eb18-c82f-4490-b39c-b5c9f7b34480] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:04:57.170 DEBUG [2d1dada5-8232-487a-bd73-248c12112d02] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:04:57.269 DEBUG [2d1dada5-8232-487a-bd73-248c12112d02] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CFCF9B1CB45D6A1F373158A5986B1899
2025-05-27 15:04:57.270 DEBUG [2d1dada5-8232-487a-bd73-248c12112d02] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:04:57.356  INFO [2d1dada5-8232-487a-bd73-248c12112d02] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:04:57.357  INFO [2d1dada5-8232-487a-bd73-248c12112d02] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:04:57.366 DEBUG [5f425ed3-18f4-4a2a-bb44-51faf247b8ad] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:04:57.456 DEBUG [5f425ed3-18f4-4a2a-bb44-51faf247b8ad] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:04:57.540  INFO [5f425ed3-18f4-4a2a-bb44-51faf247b8ad] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:04:57.540  INFO [5f425ed3-18f4-4a2a-bb44-51faf247b8ad] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:04:57.750 DEBUG [4fe31de5-8199-46bb-a1aa-f6a4f4b509c3] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:04:57.751 DEBUG [4fe31de5-8199-46bb-a1aa-f6a4f4b509c3] 3964 --- [nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:04:58.292 DEBUG [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:58.292 DEBUG [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:04:58.293 DEBUG [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:04:58.294  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:04:58.294  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:04:58.294  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:04:58.294  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 15:04:58.295  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 15:04:58.348  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 15:04:58.348  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 15:04:58.348  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 15:04:58.348  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 15:04:58.348  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 15:04:58.348  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 15:04:58.348  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 15:04:58.349  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 15:04:58.349  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 15:04:58.349  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 15:04:58.350  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 15:04:58.350  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 15:04:58.350  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 15:04:58.350  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 15:04:58.350  INFO [864678dd-cb71-4df6-bda6-270a57153936] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 15:05:08.379 DEBUG [e5808513-18c4-411b-b668-3a8b2938c445] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:05:08.380 DEBUG [e5808513-18c4-411b-b668-3a8b2938c445] 3964 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=1s70k6Zaal3y8-Ph8BFzE8t0RScjmipxR-21FoP_F6o%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:05:10.665 DEBUG [cd4d9801-cc3e-477b-ab29-939b6fb09182] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=1s70k6Zaal3y8-Ph8BFzE8t0RScjmipxR-21FoP_F6o%3D&code=4%2F0AUJR-x677BcSHeU-5YzpUUW40NcByGQYwWyq7TMUSKPD7F7QbX03nJG7Ex9Vdirxybm5Fg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:05:11.007  INFO [cd4d9801-cc3e-477b-ab29-939b6fb09182] 3964 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:05:11.075 DEBUG [cd4d9801-cc3e-477b-ab29-939b6fb09182] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8F54F8F936F1BB6CEAA751331862A30F
2025-05-27 15:05:11.075 DEBUG [cd4d9801-cc3e-477b-ab29-939b6fb09182] 3964 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8F54F8F936F1BB6CEAA751331862A30F], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:05:11.077 DEBUG [cd4d9801-cc3e-477b-ab29-939b6fb09182] 3964 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/login?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ3NTExLCJleHAiOjE3NDg0MzM5MTF9.u3pnoP8bXBTkLPXGJEMZtIef5qMbahkxFgN501o4T4uvqm7ZGiEPTc7LEDix-Pg-0QSnn81qEahZCKtKktZfpQ&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDc1MTEsImV4cCI6MTc0ODk1MjMxMX0.uhhk1zrfAJUxp7-OAnbpf9R3r1AZ1F8EPp_qIcSlTHnopjohNX0KGTb2z_4ScKMkWW6enbacnblL4661u3xF-w
2025-05-27 15:05:11.994 DEBUG [b18e9b2a-ae07-4abc-8f6e-cefd03bfda6f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:05:12.106 DEBUG [b18e9b2a-ae07-4abc-8f6e-cefd03bfda6f] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:05:12.107  INFO [b18e9b2a-ae07-4abc-8f6e-cefd03bfda6f] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:05:12.210  INFO [b18e9b2a-ae07-4abc-8f6e-cefd03bfda6f] 3964 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:05:12.249 DEBUG [82461284-1df7-4580-bd2f-88d54615ab59] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:05:12.250 DEBUG [3c2b0763-8a5e-4f2b-8662-39ecea781ce0] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:05:12.400 DEBUG [3c2b0763-8a5e-4f2b-8662-39ecea781ce0] 3964 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2B02566666268F3DC56B631850669CBE
2025-05-27 15:05:12.401 DEBUG [3c2b0763-8a5e-4f2b-8662-39ecea781ce0] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:05:12.402  INFO [3c2b0763-8a5e-4f2b-8662-39ecea781ce0] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:05:12.402 DEBUG [82461284-1df7-4580-bd2f-88d54615ab59] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:05:12.529  WARN [82461284-1df7-4580-bd2f-88d54615ab59] 3964 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:05:12.530  WARN [82461284-1df7-4580-bd2f-88d54615ab59] 3964 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:05:12.535  INFO [3c2b0763-8a5e-4f2b-8662-39ecea781ce0] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:05:12.870 DEBUG [6e22c5a6-4912-4947-95c2-b4d345091084] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:05:12.870 DEBUG [6e22c5a6-4912-4947-95c2-b4d345091084] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:05:12.871 DEBUG [6e22c5a6-4912-4947-95c2-b4d345091084] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:05:12.871  INFO [6e22c5a6-4912-4947-95c2-b4d345091084] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:05:12.871  INFO [6e22c5a6-4912-4947-95c2-b4d345091084] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:05:12.872  INFO [6e22c5a6-4912-4947-95c2-b4d345091084] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:05:12.872  INFO [6e22c5a6-4912-4947-95c2-b4d345091084] 3964 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:06:03.066 DEBUG [ae3bf62b-489e-4b60-afcb-0e1e3c8b0bc9] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:06:03.164 DEBUG [ae3bf62b-489e-4b60-afcb-0e1e3c8b0bc9] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 60B5FCAC82382F28FABC6744CD95F0E8
2025-05-27 15:06:03.164 DEBUG [ae3bf62b-489e-4b60-afcb-0e1e3c8b0bc9] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:06:03.165  INFO [ae3bf62b-489e-4b60-afcb-0e1e3c8b0bc9] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:06:03.254  INFO [ae3bf62b-489e-4b60-afcb-0e1e3c8b0bc9] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:06:03.262 DEBUG [bf537d89-8058-4642-9e6b-8c5f59ab7d12] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:06:03.350 DEBUG [bf537d89-8058-4642-9e6b-8c5f59ab7d12] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:06:03.350  INFO [bf537d89-8058-4642-9e6b-8c5f59ab7d12] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:06:03.435  INFO [bf537d89-8058-4642-9e6b-8c5f59ab7d12] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:06:29.711 DEBUG [ebfe60d6-0ca8-4030-aa01-1c1c22fad62a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:06:29.830 DEBUG [ebfe60d6-0ca8-4030-aa01-1c1c22fad62a] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 09153CDC11562420EAF7D64BC0525F62
2025-05-27 15:06:29.832 DEBUG [ebfe60d6-0ca8-4030-aa01-1c1c22fad62a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:06:29.925  INFO [ebfe60d6-0ca8-4030-aa01-1c1c22fad62a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:06:29.925  INFO [ebfe60d6-0ca8-4030-aa01-1c1c22fad62a] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:06:29.936 DEBUG [c2615cba-13f9-49d5-ad7a-324f535249ee] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:06:30.051 DEBUG [c2615cba-13f9-49d5-ad7a-324f535249ee] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:06:30.142  INFO [c2615cba-13f9-49d5-ad7a-324f535249ee] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:06:30.143  INFO [c2615cba-13f9-49d5-ad7a-324f535249ee] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:06:30.735 DEBUG [6af9adb9-ee79-4bfe-9ad9-d4f29aab565a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:06:30.955 DEBUG [6af9adb9-ee79-4bfe-9ad9-d4f29aab565a] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2BB80799F18CFD8D64538C15CB0C73E7
2025-05-27 15:06:30.956 DEBUG [6af9adb9-ee79-4bfe-9ad9-d4f29aab565a] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:06:31.077  INFO [6af9adb9-ee79-4bfe-9ad9-d4f29aab565a] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:06:31.078  INFO [6af9adb9-ee79-4bfe-9ad9-d4f29aab565a] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:06:31.083  INFO [6af9adb9-ee79-4bfe-9ad9-d4f29aab565a] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:06:31.094 DEBUG [a240f659-f36e-4f95-ac6f-f665ba148db6] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:06:31.187 DEBUG [a240f659-f36e-4f95-ac6f-f665ba148db6] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:06:31.276  INFO [a240f659-f36e-4f95-ac6f-f665ba148db6] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:06:31.276  INFO [a240f659-f36e-4f95-ac6f-f665ba148db6] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:06:31.280  INFO [a240f659-f36e-4f95-ac6f-f665ba148db6] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:06:32.830 DEBUG [5905d686-0a36-471c-8849-3967abdfc2ad] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:06:32.830 DEBUG [5905d686-0a36-471c-8849-3967abdfc2ad] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:06:32.831 DEBUG [5905d686-0a36-471c-8849-3967abdfc2ad] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:06:32.831  INFO [5905d686-0a36-471c-8849-3967abdfc2ad] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:06:32.832  INFO [5905d686-0a36-471c-8849-3967abdfc2ad] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:06:32.832  INFO [5905d686-0a36-471c-8849-3967abdfc2ad] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:06:32.832  INFO [5905d686-0a36-471c-8849-3967abdfc2ad] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:06:33.535 DEBUG [7b5b22ff-8d9b-412a-81dc-c6896a2de4fd] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:06:33.634 DEBUG [7b5b22ff-8d9b-412a-81dc-c6896a2de4fd] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5FAC38C212BFB3800BDAC83EB495658B
2025-05-27 15:06:33.634 DEBUG [7b5b22ff-8d9b-412a-81dc-c6896a2de4fd] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:06:33.634  INFO [7b5b22ff-8d9b-412a-81dc-c6896a2de4fd] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:06:33.773  INFO [7b5b22ff-8d9b-412a-81dc-c6896a2de4fd] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:06:33.784 DEBUG [fcf9ca24-60fb-4804-98c8-d26164b4acd9] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:06:33.884 DEBUG [fcf9ca24-60fb-4804-98c8-d26164b4acd9] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:06:33.884  INFO [fcf9ca24-60fb-4804-98c8-d26164b4acd9] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:06:33.979  INFO [fcf9ca24-60fb-4804-98c8-d26164b4acd9] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:06:51.108 DEBUG [d9c7d577-9e39-4185-9a90-4000237df38d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:06:51.109 DEBUG [d9c7d577-9e39-4185-9a90-4000237df38d] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:06:51.109 DEBUG [d9c7d577-9e39-4185-9a90-4000237df38d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:06:51.112  INFO [d9c7d577-9e39-4185-9a90-4000237df38d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:06:51.113  INFO [d9c7d577-9e39-4185-9a90-4000237df38d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:06:51.113  INFO [d9c7d577-9e39-4185-9a90-4000237df38d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:06:51.113  INFO [d9c7d577-9e39-4185-9a90-4000237df38d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:07:29.995 DEBUG [d1591b31-cdcd-4d22-a3c3-3dc646cd3c46] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:07:30.121 DEBUG [d1591b31-cdcd-4d22-a3c3-3dc646cd3c46] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DCF23A62C1EA29E0C455C7B0FFEBDEB3
2025-05-27 15:07:30.122 DEBUG [d1591b31-cdcd-4d22-a3c3-3dc646cd3c46] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:07:30.122  INFO [d1591b31-cdcd-4d22-a3c3-3dc646cd3c46] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:07:30.222  INFO [d1591b31-cdcd-4d22-a3c3-3dc646cd3c46] 3964 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:07:30.231 DEBUG [6b230be6-44a8-4519-8755-c1beb77511f4] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:07:30.325 DEBUG [6b230be6-44a8-4519-8755-c1beb77511f4] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:07:30.325  INFO [6b230be6-44a8-4519-8755-c1beb77511f4] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:07:30.418  INFO [6b230be6-44a8-4519-8755-c1beb77511f4] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:07:35.007 DEBUG [c3d80c8a-fb88-47c3-9767-070ccb4da3e6] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:07:35.100 DEBUG [c3d80c8a-fb88-47c3-9767-070ccb4da3e6] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 58DBD17FC6637B8BDC3BCEC398717DA6
2025-05-27 15:07:35.101 DEBUG [c3d80c8a-fb88-47c3-9767-070ccb4da3e6] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:07:35.189  INFO [c3d80c8a-fb88-47c3-9767-070ccb4da3e6] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:07:35.189  INFO [c3d80c8a-fb88-47c3-9767-070ccb4da3e6] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:07:35.194  INFO [c3d80c8a-fb88-47c3-9767-070ccb4da3e6] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:07:35.203 DEBUG [62427a50-8a31-48e8-ba8f-44bd14a1dece] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:07:35.308 DEBUG [62427a50-8a31-48e8-ba8f-44bd14a1dece] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:07:35.393  INFO [62427a50-8a31-48e8-ba8f-44bd14a1dece] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:07:35.393  INFO [62427a50-8a31-48e8-ba8f-44bd14a1dece] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:07:35.397  INFO [62427a50-8a31-48e8-ba8f-44bd14a1dece] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:07:36.010 DEBUG [c09ab5a3-b7d0-46f0-ac59-0baec5878785] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:07:36.104 DEBUG [c09ab5a3-b7d0-46f0-ac59-0baec5878785] 3964 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 234E1FBC2CA5EC0408B20345C4069648
2025-05-27 15:07:36.105 DEBUG [c09ab5a3-b7d0-46f0-ac59-0baec5878785] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:07:36.206  INFO [c09ab5a3-b7d0-46f0-ac59-0baec5878785] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:07:36.206  INFO [c09ab5a3-b7d0-46f0-ac59-0baec5878785] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:07:36.218 DEBUG [1663e46f-94bd-4552-9e17-d8fc5586c292] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:07:36.352 DEBUG [1663e46f-94bd-4552-9e17-d8fc5586c292] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:07:36.462  INFO [1663e46f-94bd-4552-9e17-d8fc5586c292] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:07:36.462  INFO [1663e46f-94bd-4552-9e17-d8fc5586c292] 3964 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:07:40.696 DEBUG [0719b38a-faf0-4925-b446-fab226fad2c4] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:07:40.696 DEBUG [0719b38a-faf0-4925-b446-fab226fad2c4] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:40.696 DEBUG [0719b38a-faf0-4925-b446-fab226fad2c4] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:07:40.697  INFO [0719b38a-faf0-4925-b446-fab226fad2c4] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:07:40.697  INFO [0719b38a-faf0-4925-b446-fab226fad2c4] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:07:40.697  INFO [0719b38a-faf0-4925-b446-fab226fad2c4] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:07:40.697  INFO [0719b38a-faf0-4925-b446-fab226fad2c4] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:07:42.754 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 15:07:42.755 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:42.756 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 15:07:42.757  INFO [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: One way to London next month
2025-05-27 15:07:42.757  INFO [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 15:07:42.757  INFO [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 15:07:42.757 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "One way to London next month";
2025-05-27 15:07:42.760  INFO [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 15:07:44.604 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "LHR",
  "departureDate": "2025-06-27",
  "returnDate": null,
  "tripType": "oneWay",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 15:07:44.604 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 15:07:44.605 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 15:07:44.605 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 15:07:44.606 DEBUG [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 15:07:44.606  INFO [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 15:07:44.606  INFO [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=LHR, departureDate=2025-06-27, returnDate=null, tripType=oneWay, adults=1, children=0, infants=0
2025-05-27 15:07:44.606  INFO [0dc93681-4f2e-4ded-a748-7329ce39efbd] 3964 --- [nio-8080-exec-6] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: LHR
2025-05-27 15:07:46.317 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 15:07:46.319 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:46.319 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 15:07:46.320  INFO [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Weekend trip from Bucharest to Paris
2025-05-27 15:07:46.321  INFO [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 15:07:46.321  INFO [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 15:07:46.321 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Weekend trip from Bucharest to Paris";
2025-05-27 15:07:46.323  INFO [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 15:07:47.822 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-06-03",
  "returnDate": "2025-06-05",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 15:07:47.822 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 15:07:47.823 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 15:07:47.823 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 15:07:47.823 DEBUG [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 15:07:47.823  INFO [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 15:07:47.823  INFO [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-06-03, returnDate=2025-06-05, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 15:07:47.824  INFO [386e1a77-4216-4b78-9b91-d6bc99d522e0] 3964 --- [nio-8080-exec-9] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 15:07:49.056 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 15:07:49.057 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:49.057 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 15:07:49.058  INFO [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Weekend trip from Bucharest to Paris
2025-05-27 15:07:49.058  INFO [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 15:07:49.058  INFO [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 15:07:49.059 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Weekend trip from Bucharest to Paris";
2025-05-27 15:07:49.060  INFO [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 15:07:50.600 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-06-03",
  "returnDate": "2025-06-06",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 15:07:50.601 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 15:07:50.601 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 15:07:50.601 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 15:07:50.602 DEBUG [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 15:07:50.602  INFO [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 15:07:50.602  INFO [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-06-03, returnDate=2025-06-06, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 15:07:50.602  INFO [245545a9-6a4e-458c-92be-b1d0f96d92c6] 3964 --- [nio-8080-exec-7] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 15:07:52.649 DEBUG [32f85aae-9ff3-4d7f-a8a6-1d62444021e1] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:07:52.902 DEBUG [32f85aae-9ff3-4d7f-a8a6-1d62444021e1] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:07:52.903  INFO [32f85aae-9ff3-4d7f-a8a6-1d62444021e1] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:07:53.878  INFO [32f85aae-9ff3-4d7f-a8a6-1d62444021e1] 3964 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:07:53.978 DEBUG [95b4a951-9678-4a88-a290-634028d241f1] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:07:53.978 DEBUG [01ea95bd-bfb1-483f-b87a-bf157f1988e8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:07:53.978 DEBUG [fad18162-ce4a-45d9-b334-bf159e2755f1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 15:07:53.981 DEBUG [fad18162-ce4a-45d9-b334-bf159e2755f1] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:53.983 DEBUG [fad18162-ce4a-45d9-b334-bf159e2755f1] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 15:07:53.985  INFO [fad18162-ce4a-45d9-b334-bf159e2755f1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 15:07:53.985  INFO [fad18162-ce4a-45d9-b334-bf159e2755f1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-06-03
2025-05-27 15:07:54.078  INFO [fad18162-ce4a-45d9-b334-bf159e2755f1] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 15:07:54.095 DEBUG [48ea9daa-f009-43b3-8506-d7f09b233ad6] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 15:07:54.096 DEBUG [48ea9daa-f009-43b3-8506-d7f09b233ad6] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:54.096 DEBUG [48ea9daa-f009-43b3-8506-d7f09b233ad6] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 15:07:54.098  INFO [48ea9daa-f009-43b3-8506-d7f09b233ad6] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 15:07:54.099  INFO [48ea9daa-f009-43b3-8506-d7f09b233ad6] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-06-03
2025-05-27 15:07:54.102 DEBUG [26bb5656-b237-4bdc-a619-d124d49d0ce9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 15:07:54.102 DEBUG [26bb5656-b237-4bdc-a619-d124d49d0ce9] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:54.105 DEBUG [26bb5656-b237-4bdc-a619-d124d49d0ce9] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 15:07:54.106  INFO [26bb5656-b237-4bdc-a619-d124d49d0ce9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-06, Return=null, Pax=1/0/0
2025-05-27 15:07:54.106  INFO [26bb5656-b237-4bdc-a619-d124d49d0ce9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-06
2025-05-27 15:07:54.117  WARN [26bb5656-b237-4bdc-a619-d124d49d0ce9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-06
2025-05-27 15:07:54.117  INFO [26bb5656-b237-4bdc-a619-d124d49d0ce9] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 15:07:54.161 DEBUG [01ea95bd-bfb1-483f-b87a-bf157f1988e8] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BB10FE8AA7F4826004CFCC996D028F5B
2025-05-27 15:07:54.162 DEBUG [01ea95bd-bfb1-483f-b87a-bf157f1988e8] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:07:54.162 DEBUG [95b4a951-9678-4a88-a290-634028d241f1] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:07:54.163  INFO [01ea95bd-bfb1-483f-b87a-bf157f1988e8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:07:54.172  INFO [48ea9daa-f009-43b3-8506-d7f09b233ad6] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 15:07:54.185 DEBUG [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 15:07:54.185 DEBUG [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:54.186 DEBUG [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id BB10FE8AA7F4826004CFCC996D028F5B
2025-05-27 15:07:54.187 DEBUG [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 15:07:54.188  INFO [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-06, Return=null, Pax=1/0/0
2025-05-27 15:07:54.189  INFO [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-06
2025-05-27 15:07:54.194  WARN [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-06
2025-05-27 15:07:54.194  INFO [acfb31db-0e39-499a-8473-30385a53232b] 3964 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 15:07:54.265  WARN [95b4a951-9678-4a88-a290-634028d241f1] 3964 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:07:54.266  WARN [95b4a951-9678-4a88-a290-634028d241f1] 3964 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:07:54.272  INFO [01ea95bd-bfb1-483f-b87a-bf157f1988e8] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:07:54.276 DEBUG [f53f4a43-7ba3-4953-8e97-ca92cf56e1e0] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:07:54.374 DEBUG [f53f4a43-7ba3-4953-8e97-ca92cf56e1e0] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:07:54.464  WARN [f53f4a43-7ba3-4953-8e97-ca92cf56e1e0] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:07:54.464  WARN [f53f4a43-7ba3-4953-8e97-ca92cf56e1e0] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:07:57.991 DEBUG [23d802cc-6bc6-4158-902b-f3e458b56e29] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:07:57.992 DEBUG [23d802cc-6bc6-4158-902b-f3e458b56e29] 3964 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:07:57.993 DEBUG [23d802cc-6bc6-4158-902b-f3e458b56e29] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:07:57.993  INFO [23d802cc-6bc6-4158-902b-f3e458b56e29] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:07:57.994  INFO [23d802cc-6bc6-4158-902b-f3e458b56e29] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:07:57.994  INFO [23d802cc-6bc6-4158-902b-f3e458b56e29] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:07:57.994  INFO [23d802cc-6bc6-4158-902b-f3e458b56e29] 3964 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:08:01.621 DEBUG [ce2d0b02-c8ee-479f-91f0-e9cfc7a06f5d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:08:01.752 DEBUG [ce2d0b02-c8ee-479f-91f0-e9cfc7a06f5d] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:08:01.753  INFO [ce2d0b02-c8ee-479f-91f0-e9cfc7a06f5d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:08:01.857  INFO [ce2d0b02-c8ee-479f-91f0-e9cfc7a06f5d] 3964 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:08:01.916 DEBUG [09e18126-5c04-48e9-a933-03a27fc5ebaa] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:08:01.918 DEBUG [9c51c37c-83fc-422e-b1d7-1490763c5e7b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:08:01.918 DEBUG [25e3ee05-4101-45a8-8a0d-251779680456] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 15:08:01.918 DEBUG [25e3ee05-4101-45a8-8a0d-251779680456] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:08:01.920 DEBUG [25e3ee05-4101-45a8-8a0d-251779680456] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 15:08:01.921  INFO [25e3ee05-4101-45a8-8a0d-251779680456] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 15:08:01.923  INFO [25e3ee05-4101-45a8-8a0d-251779680456] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 15:08:01.992  INFO [25e3ee05-4101-45a8-8a0d-251779680456] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 15:08:02.000 DEBUG [cbceb9e2-6f22-46da-abfc-1c8b207a036c] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 15:08:02.001 DEBUG [cbceb9e2-6f22-46da-abfc-1c8b207a036c] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:08:02.001 DEBUG [cbceb9e2-6f22-46da-abfc-1c8b207a036c] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 15:08:02.003  INFO [cbceb9e2-6f22-46da-abfc-1c8b207a036c] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 15:08:02.003  INFO [cbceb9e2-6f22-46da-abfc-1c8b207a036c] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 15:08:02.053 DEBUG [09e18126-5c04-48e9-a933-03a27fc5ebaa] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F68EB5B9386A345570B6517C48F0E500
2025-05-27 15:08:02.055 DEBUG [09e18126-5c04-48e9-a933-03a27fc5ebaa] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:08:02.061 DEBUG [9c51c37c-83fc-422e-b1d7-1490763c5e7b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:08:02.061  INFO [9c51c37c-83fc-422e-b1d7-1490763c5e7b] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:08:02.062  INFO [cbceb9e2-6f22-46da-abfc-1c8b207a036c] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 15:08:02.153  WARN [09e18126-5c04-48e9-a933-03a27fc5ebaa] 3964 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:08:02.154  WARN [09e18126-5c04-48e9-a933-03a27fc5ebaa] 3964 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:08:02.163 DEBUG [7bb63dc8-7e55-495a-bcc8-40f1b7d11469] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:08:02.166  INFO [9c51c37c-83fc-422e-b1d7-1490763c5e7b] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:08:02.268 DEBUG [7bb63dc8-7e55-495a-bcc8-40f1b7d11469] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:08:02.414  WARN [7bb63dc8-7e55-495a-bcc8-40f1b7d11469] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:08:02.415  WARN [7bb63dc8-7e55-495a-bcc8-40f1b7d11469] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:08:23.622 DEBUG [8f8a47bd-8183-4cf7-8d8b-08b1f8464adc] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 15:08:23.744 DEBUG [8f8a47bd-8183-4cf7-8d8b-08b1f8464adc] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9DE2C35A8304F4EE2A265281DF4F7352
2025-05-27 15:08:23.745 DEBUG [8f8a47bd-8183-4cf7-8d8b-08b1f8464adc] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-27 15:08:23.849  INFO [8f8a47bd-8183-4cf7-8d8b-08b1f8464adc] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 17 to persistent cart
2025-05-27 15:08:23.857  INFO [8f8a47bd-8183-4cf7-8d8b-08b1f8464adc] 3964 --- [nio-8080-exec-3] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 17 to cart for user ****@****.***
2025-05-27 15:08:23.878  INFO [8f8a47bd-8183-4cf7-8d8b-08b1f8464adc] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Flight ID 17 added/incremented in persistent cart for user ****@****.***.
2025-05-27 15:08:23.911 DEBUG [26a8f47d-20ef-44cd-8ea9-cefac96738fb] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:08:24.044 DEBUG [26a8f47d-20ef-44cd-8ea9-cefac96738fb] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 275953D851357CD7A7E207D15E7D0DD4
2025-05-27 15:08:24.045 DEBUG [26a8f47d-20ef-44cd-8ea9-cefac96738fb] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:08:24.045  INFO [26a8f47d-20ef-44cd-8ea9-cefac96738fb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:08:24.152  INFO [26a8f47d-20ef-44cd-8ea9-cefac96738fb] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:08:24.295 DEBUG [de175cdc-9535-44e1-b8c9-7e54f21a1e59] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:08:24.410 DEBUG [de175cdc-9535-44e1-b8c9-7e54f21a1e59] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1980DFA323E28E5AEE075DCE38015359
2025-05-27 15:08:24.411 DEBUG [de175cdc-9535-44e1-b8c9-7e54f21a1e59] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:08:24.411  INFO [de175cdc-9535-44e1-b8c9-7e54f21a1e59] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:08:24.507  INFO [de175cdc-9535-44e1-b8c9-7e54f21a1e59] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:08:24.516 DEBUG [40e94d6a-1ea1-4ad2-b0f5-e30f14e8e757] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:08:24.615 DEBUG [40e94d6a-1ea1-4ad2-b0f5-e30f14e8e757] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:08:24.615  INFO [40e94d6a-1ea1-4ad2-b0f5-e30f14e8e757] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:08:24.721  INFO [40e94d6a-1ea1-4ad2-b0f5-e30f14e8e757] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:08:28.577 DEBUG [8182367e-29a4-4f3c-9455-1b47ec490c54] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:08:28.700 DEBUG [8182367e-29a4-4f3c-9455-1b47ec490c54] 3964 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0826BC2850A5484381E59A0AFCD5AEE4
2025-05-27 15:08:28.701 DEBUG [8182367e-29a4-4f3c-9455-1b47ec490c54] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:08:28.706  INFO [8182367e-29a4-4f3c-9455-1b47ec490c54] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:08:28.808  INFO [8182367e-29a4-4f3c-9455-1b47ec490c54] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:08:28.816 DEBUG [83ccaf45-0414-4052-9cec-f203700b8fa0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:08:28.954 DEBUG [83ccaf45-0414-4052-9cec-f203700b8fa0] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:08:28.954  INFO [83ccaf45-0414-4052-9cec-f203700b8fa0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:08:29.073  INFO [83ccaf45-0414-4052-9cec-f203700b8fa0] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:08:41.578 DEBUG [891f591d-2a22-41f6-be48-a090e5ba7507] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:08:41.579 DEBUG [891f591d-2a22-41f6-be48-a090e5ba7507] 3964 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:08:41.579 DEBUG [891f591d-2a22-41f6-be48-a090e5ba7507] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:08:41.580  INFO [891f591d-2a22-41f6-be48-a090e5ba7507] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:08:41.580  INFO [891f591d-2a22-41f6-be48-a090e5ba7507] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:08:41.580  INFO [891f591d-2a22-41f6-be48-a090e5ba7507] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:08:41.580  INFO [891f591d-2a22-41f6-be48-a090e5ba7507] 3964 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:08:43.411 DEBUG [71266a40-2878-4d3b-8d84-6f7592422653] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:08:43.412 DEBUG [71266a40-2878-4d3b-8d84-6f7592422653] 3964 --- [nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:08:54.355 DEBUG [462eeff1-8f57-4e2d-910a-e917c41404e1] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:08:54.356 DEBUG [462eeff1-8f57-4e2d-910a-e917c41404e1] 3964 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:08:54.356 DEBUG [462eeff1-8f57-4e2d-910a-e917c41404e1] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:08:54.357  INFO [462eeff1-8f57-4e2d-910a-e917c41404e1] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:08:54.357  INFO [462eeff1-8f57-4e2d-910a-e917c41404e1] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:08:54.357  INFO [462eeff1-8f57-4e2d-910a-e917c41404e1] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:08:54.357  INFO [462eeff1-8f57-4e2d-910a-e917c41404e1] 3964 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:08:58.047 DEBUG [80e16e13-5490-4197-a011-f7241e72cdc0] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:08:58.048 DEBUG [80e16e13-5490-4197-a011-f7241e72cdc0] 3964 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=qi2y4hjKwKYrwVVtZwJ8gOSklk5xJaseF5PalKFIxGA%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:08:59.946 DEBUG [8dea33ed-5d1f-4dc2-95e9-9305d63a47ad] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=qi2y4hjKwKYrwVVtZwJ8gOSklk5xJaseF5PalKFIxGA%3D&code=4%2F0AUJR-x7CXJLsg2WqUQW6BA4I1iwxhpjTGiX7DZsFdLc-HNbF97wo7ae7qYIqq5umrrubbQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:09:00.299  INFO [8dea33ed-5d1f-4dc2-95e9-9305d63a47ad] 3964 --- [nio-8080-exec-3] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:09:00.354 DEBUG [8dea33ed-5d1f-4dc2-95e9-9305d63a47ad] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B9114133A235D0CAE5D3BBE4DBEBD33E
2025-05-27 15:09:00.354 DEBUG [8dea33ed-5d1f-4dc2-95e9-9305d63a47ad] 3964 --- [nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B9114133A235D0CAE5D3BBE4DBEBD33E], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:09:00.356 DEBUG [8dea33ed-5d1f-4dc2-95e9-9305d63a47ad] 3964 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/login?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ3NzQwLCJleHAiOjE3NDg0MzQxNDB9.Q837ndYSPNNDkou7qXLJJ4VXPA0QHusVhj-UZEIuNX3Hc97hWRthaSFkiCvCWk8R9hCKTmBC3JhGZpYJax7kEQ&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDc3NDAsImV4cCI6MTc0ODk1MjU0MH0.y2jmVBlK5eIvPYpJBO3eH-gSpWR9CwqzI-wp_YrbN9-Jvjs2OcuifnY5LC9YMaoTgY7bq572Rq8heYsfdomfNw
2025-05-27 15:09:01.578 DEBUG [1d184925-7c61-4686-bc11-d561449bf4e4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:09:01.759 DEBUG [1d184925-7c61-4686-bc11-d561449bf4e4] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:09:01.759  INFO [1d184925-7c61-4686-bc11-d561449bf4e4] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:09:01.952  INFO [1d184925-7c61-4686-bc11-d561449bf4e4] 3964 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:09:02.030 DEBUG [be22f876-a776-432f-afc9-fc0a6017aa18] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:09:02.030 DEBUG [860a0a4e-2e9c-47e1-98f4-6c0c0fb69051] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:09:02.185 DEBUG [be22f876-a776-432f-afc9-fc0a6017aa18] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 32BC587AA6FFF46524E73ECF895288A3
2025-05-27 15:09:02.187 DEBUG [be22f876-a776-432f-afc9-fc0a6017aa18] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:09:02.195 DEBUG [860a0a4e-2e9c-47e1-98f4-6c0c0fb69051] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:09:02.196  INFO [860a0a4e-2e9c-47e1-98f4-6c0c0fb69051] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:09:02.373  WARN [be22f876-a776-432f-afc9-fc0a6017aa18] 3964 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:09:02.374  WARN [be22f876-a776-432f-afc9-fc0a6017aa18] 3964 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:09:02.407  INFO [860a0a4e-2e9c-47e1-98f4-6c0c0fb69051] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:09:02.823 DEBUG [8e0d9487-aa57-4bdd-b776-04c6f7098deb] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:02.823 DEBUG [8e0d9487-aa57-4bdd-b776-04c6f7098deb] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:09:02.824 DEBUG [8e0d9487-aa57-4bdd-b776-04c6f7098deb] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:02.825  INFO [8e0d9487-aa57-4bdd-b776-04c6f7098deb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:09:02.825  INFO [8e0d9487-aa57-4bdd-b776-04c6f7098deb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:09:02.825  INFO [8e0d9487-aa57-4bdd-b776-04c6f7098deb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:09:02.825  INFO [8e0d9487-aa57-4bdd-b776-04c6f7098deb] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:09:06.594 DEBUG [29e2646c-7e71-466a-8234-c136f92f2a5a] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:09:06.594 DEBUG [29e2646c-7e71-466a-8234-c136f92f2a5a] 3964 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:09:08.149 DEBUG [d63d9d63-9674-45a5-837a-f352d51d2578] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:09:08.185 DEBUG [d63d9d63-9674-45a5-837a-f352d51d2578] 3964 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=OgJZiWLu2RhS777uk7QIEDxJ1VwyiPn3wtnQ4ad3MWM%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:09:10.332 DEBUG [eac33950-f300-452e-9d6c-42a12f27e24d] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=OgJZiWLu2RhS777uk7QIEDxJ1VwyiPn3wtnQ4ad3MWM%3D&code=4%2F0AUJR-x4iMl3qvseM-kUzwAnMzxzZeEclhvV3cz8usB_izsCFSsuvYzpzcsS6XKBxFUiJxw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 15:09:10.696  INFO [eac33950-f300-452e-9d6c-42a12f27e24d] 3964 --- [nio-8080-exec-8] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:09:10.751 DEBUG [eac33950-f300-452e-9d6c-42a12f27e24d] 3964 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 645463FB0ABF3068DD9D4558BA70FF7E
2025-05-27 15:09:10.751 DEBUG [eac33950-f300-452e-9d6c-42a12f27e24d] 3964 --- [nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=645463FB0ABF3068DD9D4558BA70FF7E], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:09:10.754 DEBUG [eac33950-f300-452e-9d6c-42a12f27e24d] 3964 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000/login?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ3NzUwLCJleHAiOjE3NDg0MzQxNTB9.f0Mr8xgq5IgadGlB8lg1dbwNoTTE9yqANiGh46_aYCH4ccMxppVeSu4LI8qlGwq5ImNifOkcbh8FlR6A_5pgNQ&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDc3NTAsImV4cCI6MTc0ODk1MjU1MH0.8hj69OdTVP_D1cnScdPkSBLlsAvSyM5ggonUL2r0fijm6YYhhvLrWbK9VR4mNxHQfaKWaXNIXpYpYQHwWkXy5A
2025-05-27 15:09:11.979 DEBUG [ca038891-21cf-4721-a03d-9e68e8ccdf5b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:09:12.112 DEBUG [ca038891-21cf-4721-a03d-9e68e8ccdf5b] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:09:12.112  INFO [ca038891-21cf-4721-a03d-9e68e8ccdf5b] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:09:12.256  INFO [ca038891-21cf-4721-a03d-9e68e8ccdf5b] 3964 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:09:12.311 DEBUG [f8cc0b5e-5e00-47d8-bc84-4c33144c7310] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:09:12.312 DEBUG [591ba43a-6f70-4840-90f0-a3237a6cd742] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:09:12.455 DEBUG [591ba43a-6f70-4840-90f0-a3237a6cd742] 3964 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E5C3FAAD57E5F041D70CE9263657F646
2025-05-27 15:09:12.455 DEBUG [591ba43a-6f70-4840-90f0-a3237a6cd742] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:09:12.456 DEBUG [f8cc0b5e-5e00-47d8-bc84-4c33144c7310] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:09:12.456  INFO [591ba43a-6f70-4840-90f0-a3237a6cd742] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:09:12.613  WARN [f8cc0b5e-5e00-47d8-bc84-4c33144c7310] 3964 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:09:12.615  WARN [f8cc0b5e-5e00-47d8-bc84-4c33144c7310] 3964 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:09:12.662  INFO [591ba43a-6f70-4840-90f0-a3237a6cd742] 3964 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:09:13.167 DEBUG [bd5cc5d5-7a55-4072-aaa7-ae75f20a8d12] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:13.173 DEBUG [bd5cc5d5-7a55-4072-aaa7-ae75f20a8d12] 3964 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:09:13.174 DEBUG [bd5cc5d5-7a55-4072-aaa7-ae75f20a8d12] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:13.175  INFO [bd5cc5d5-7a55-4072-aaa7-ae75f20a8d12] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:09:13.176  INFO [bd5cc5d5-7a55-4072-aaa7-ae75f20a8d12] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:09:13.177  INFO [bd5cc5d5-7a55-4072-aaa7-ae75f20a8d12] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:09:13.177  INFO [bd5cc5d5-7a55-4072-aaa7-ae75f20a8d12] 3964 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:09:16.985 DEBUG [779ca0d9-8d72-47cb-871a-8ff4459c12ec] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:09:17.087 DEBUG [779ca0d9-8d72-47cb-871a-8ff4459c12ec] 3964 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BD472BA4857009E3B739B74F641088A5
2025-05-27 15:09:17.088 DEBUG [779ca0d9-8d72-47cb-871a-8ff4459c12ec] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:09:17.178  INFO [779ca0d9-8d72-47cb-871a-8ff4459c12ec] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:09:17.178  INFO [779ca0d9-8d72-47cb-871a-8ff4459c12ec] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:09:17.188 DEBUG [6f92a859-46a4-4f39-ac57-a251fa5fecae] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:09:17.282 DEBUG [6f92a859-46a4-4f39-ac57-a251fa5fecae] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:09:17.372  INFO [6f92a859-46a4-4f39-ac57-a251fa5fecae] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:09:17.372  INFO [6f92a859-46a4-4f39-ac57-a251fa5fecae] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:09:18.013 DEBUG [c48169b3-c3d7-40fc-b40c-b3bf8dae8768] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:18.014 DEBUG [c48169b3-c3d7-40fc-b40c-b3bf8dae8768] 3964 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:09:18.017 DEBUG [c48169b3-c3d7-40fc-b40c-b3bf8dae8768] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:18.018  INFO [c48169b3-c3d7-40fc-b40c-b3bf8dae8768] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:09:18.018  INFO [c48169b3-c3d7-40fc-b40c-b3bf8dae8768] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:09:18.019  INFO [c48169b3-c3d7-40fc-b40c-b3bf8dae8768] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:09:18.019  INFO [c48169b3-c3d7-40fc-b40c-b3bf8dae8768] 3964 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:09:18.989 DEBUG [80945a95-df91-4947-9728-fd0de01d5168] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:09:19.096 DEBUG [80945a95-df91-4947-9728-fd0de01d5168] 3964 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E9143A466AE90167EE7D0879B55170D8
2025-05-27 15:09:19.098 DEBUG [80945a95-df91-4947-9728-fd0de01d5168] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:09:19.188  INFO [80945a95-df91-4947-9728-fd0de01d5168] 3964 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:09:19.188  INFO [80945a95-df91-4947-9728-fd0de01d5168] 3964 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:09:19.200 DEBUG [6412c6d7-9210-44bf-b926-f899deb9f683] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:09:19.296 DEBUG [6412c6d7-9210-44bf-b926-f899deb9f683] 3964 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:09:19.383  INFO [6412c6d7-9210-44bf-b926-f899deb9f683] 3964 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:09:19.383  INFO [6412c6d7-9210-44bf-b926-f899deb9f683] 3964 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:09:19.875 DEBUG [0e0c380d-7cd2-4d12-bb98-8017d2276546] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:19.875 DEBUG [0e0c380d-7cd2-4d12-bb98-8017d2276546] 3964 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:09:19.876 DEBUG [0e0c380d-7cd2-4d12-bb98-8017d2276546] 3964 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:19.876  INFO [0e0c380d-7cd2-4d12-bb98-8017d2276546] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:09:19.876  INFO [0e0c380d-7cd2-4d12-bb98-8017d2276546] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:09:19.877  INFO [0e0c380d-7cd2-4d12-bb98-8017d2276546] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:09:19.877  INFO [0e0c380d-7cd2-4d12-bb98-8017d2276546] 3964 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:09:21.718 DEBUG [a8f98017-606f-4c81-ba99-3aa46df289a6] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:09:21.844 DEBUG [a8f98017-606f-4c81-ba99-3aa46df289a6] 3964 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 43D457A69F4BA2520AF0B8F614DD569D
2025-05-27 15:09:21.844 DEBUG [a8f98017-606f-4c81-ba99-3aa46df289a6] 3964 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:09:21.845  INFO [a8f98017-606f-4c81-ba99-3aa46df289a6] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:09:21.940  INFO [a8f98017-606f-4c81-ba99-3aa46df289a6] 3964 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:09:21.949 DEBUG [56ef6087-43f4-42b8-9ed4-6a6df2abc461] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:09:22.048 DEBUG [56ef6087-43f4-42b8-9ed4-6a6df2abc461] 3964 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:09:22.048  INFO [56ef6087-43f4-42b8-9ed4-6a6df2abc461] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:09:22.144  INFO [56ef6087-43f4-42b8-9ed4-6a6df2abc461] 3964 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-27 15:09:25.958 DEBUG [d8c1f5d0-e47b-4f87-b097-9bd89b8ddc37] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:25.960 DEBUG [d8c1f5d0-e47b-4f87-b097-9bd89b8ddc37] 3964 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:09:25.961 DEBUG [d8c1f5d0-e47b-4f87-b097-9bd89b8ddc37] 3964 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:25.962  INFO [d8c1f5d0-e47b-4f87-b097-9bd89b8ddc37] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:09:25.962  INFO [d8c1f5d0-e47b-4f87-b097-9bd89b8ddc37] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:09:25.962  INFO [d8c1f5d0-e47b-4f87-b097-9bd89b8ddc37] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:09:25.962  INFO [d8c1f5d0-e47b-4f87-b097-9bd89b8ddc37] 3964 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:09:29.327 DEBUG [4cf6b93f-824c-4536-a766-3a9fedabd98a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:09:29.434 DEBUG [4cf6b93f-824c-4536-a766-3a9fedabd98a] 3964 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AD07704EB1CF1D9299AA4117826E41E5
2025-05-27 15:09:29.435 DEBUG [4cf6b93f-824c-4536-a766-3a9fedabd98a] 3964 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:09:29.533  INFO [4cf6b93f-824c-4536-a766-3a9fedabd98a] 3964 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:09:29.533  INFO [4cf6b93f-824c-4536-a766-3a9fedabd98a] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:09:29.538  INFO [4cf6b93f-824c-4536-a766-3a9fedabd98a] 3964 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:09:29.546 DEBUG [371f8e5a-3183-48b6-821e-658977abbb5f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:09:29.650 DEBUG [371f8e5a-3183-48b6-821e-658977abbb5f] 3964 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:09:29.733  INFO [371f8e5a-3183-48b6-821e-658977abbb5f] 3964 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:09:29.733  INFO [371f8e5a-3183-48b6-821e-658977abbb5f] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:09:29.737  INFO [371f8e5a-3183-48b6-821e-658977abbb5f] 3964 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:09:30.788 DEBUG [7e288b46-bde0-477d-bcaf-57205166b5c8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:09:30.891 DEBUG [7e288b46-bde0-477d-bcaf-57205166b5c8] 3964 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DF3CF36D44B176EC5156F400A7334AE6
2025-05-27 15:09:30.893 DEBUG [7e288b46-bde0-477d-bcaf-57205166b5c8] 3964 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:09:30.989  INFO [7e288b46-bde0-477d-bcaf-57205166b5c8] 3964 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:09:30.989  INFO [7e288b46-bde0-477d-bcaf-57205166b5c8] 3964 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:09:31.015 DEBUG [4408cfc4-c919-4986-a6a1-40d394ff5e23] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:09:31.117 DEBUG [4408cfc4-c919-4986-a6a1-40d394ff5e23] 3964 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:09:31.201  INFO [4408cfc4-c919-4986-a6a1-40d394ff5e23] 3964 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:09:31.201  INFO [4408cfc4-c919-4986-a6a1-40d394ff5e23] 3964 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:09:43.756 DEBUG [7e3071a6-6250-4cbd-90f7-d8d5abac3b75] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:43.756 DEBUG [7e3071a6-6250-4cbd-90f7-d8d5abac3b75] 3964 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:09:43.757 DEBUG [7e3071a6-6250-4cbd-90f7-d8d5abac3b75] 3964 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:09:43.757  INFO [7e3071a6-6250-4cbd-90f7-d8d5abac3b75] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:09:43.758  INFO [7e3071a6-6250-4cbd-90f7-d8d5abac3b75] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:09:43.758  INFO [7e3071a6-6250-4cbd-90f7-d8d5abac3b75] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:09:43.758  INFO [7e3071a6-6250-4cbd-90f7-d8d5abac3b75] 3964 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:10:22.239  INFO [NONE] 3964 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:10:22.243  INFO [NONE] 3964 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 15:10:22.247  INFO [NONE] 3964 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 15:10:41.775  INFO [NONE] 28348 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 28348 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 15:10:41.783 DEBUG [NONE] 28348 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 15:10:41.784  INFO [NONE] 28348 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 15:10:41.840  INFO [NONE] 28348 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 15:10:41.842  INFO [NONE] 28348 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 15:10:43.393  INFO [NONE] 28348 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 15:10:43.509  INFO [NONE] 28348 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 107 ms. Found 9 JPA repository interfaces.
2025-05-27 15:10:44.691  INFO [NONE] 28348 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 15:10:44.716  INFO [NONE] 28348 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 15:10:44.718  INFO [NONE] 28348 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 15:10:44.857  INFO [NONE] 28348 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 15:10:44.859  INFO [NONE] 28348 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3015 ms
2025-05-27 15:10:45.388  INFO [NONE] 28348 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 15:10:45.494  INFO [NONE] 28348 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 15:10:45.558  INFO [NONE] 28348 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 15:10:45.928  INFO [NONE] 28348 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 15:10:45.968  INFO [NONE] 28348 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 15:10:46.276  INFO [NONE] 28348 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e9522d6
2025-05-27 15:10:46.280  INFO [NONE] 28348 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 15:10:46.362  WARN [NONE] 28348 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 15:10:48.330  INFO [NONE] 28348 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 15:10:56.421  INFO [NONE] 28348 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:10:56.800  INFO [NONE] 28348 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 15:10:57.320 DEBUG [NONE] 28348 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 15:10:57.322 DEBUG [NONE] 28348 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 15:10:57.563  INFO [NONE] 28348 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 15:10:57.912  INFO [NONE] 28348 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 15:10:57.913  WARN [NONE] 28348 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 15:10:57.913  WARN [NONE] 28348 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 15:10:57.914  WARN [NONE] 28348 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 15:10:57.914  WARN [NONE] 28348 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 15:10:57.978  WARN [NONE] 28348 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 15:10:58.142  INFO [NONE] 28348 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 15:10:58.523  INFO [NONE] 28348 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 15:10:58.642  INFO [NONE] 28348 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75fe55e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63e631d2, org.springframework.security.web.context.SecurityContextHolderFilter@25ce4840, org.springframework.security.web.header.HeaderWriterFilter@17eae4ad, org.springframework.web.filter.CorsFilter@461d2e70, org.springframework.security.web.authentication.logout.LogoutFilter@201de96d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@52a5681d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7c26b956, org.example.xlr8travel.security.JwtAuthenticationFilter@29424769, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7bada468, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@f7f32c2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@359892, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6b2adf2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@790658d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cac70a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e39428, org.springframework.security.web.session.SessionManagementFilter@29ab96a1, org.springframework.security.web.access.ExceptionTranslationFilter@2f690ed7, org.springframework.security.web.access.intercept.AuthorizationFilter@77869fb1]
2025-05-27 15:10:59.306  INFO [NONE] 28348 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 15:10:59.396  INFO [NONE] 28348 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 15:10:59.407  INFO [NONE] 28348 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 18.229 seconds (process running for 18.968)
2025-05-27 15:11:19.089  INFO [NONE] 28348 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 15:11:19.090  INFO [NONE] 28348 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 15:11:19.093  INFO [NONE] 28348 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-27 15:11:19.114 DEBUG [3ec2b032-335e-422a-9f6c-94529114f8cb] 28348 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:11:19.280 ERROR [3ec2b032-335e-422a-9f6c-94529114f8cb] 28348 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 15:11:19.285 DEBUG [3ec2b032-335e-422a-9f6c-94529114f8cb] 28348 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:11:19.291  WARN [3ec2b032-335e-422a-9f6c-94529114f8cb] 28348 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 15:11:19.316 DEBUG [3ec2b032-335e-422a-9f6c-94529114f8cb] 28348 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:11:19.317 DEBUG [3ec2b032-335e-422a-9f6c-94529114f8cb] 28348 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@52fd97d7
2025-05-27 15:11:20.731 DEBUG [e084b1c2-5649-404e-9fbc-70c6eb898cad] 28348 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:11:20.733 DEBUG [e084b1c2-5649-404e-9fbc-70c6eb898cad] 28348 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:11:20.739 DEBUG [e084b1c2-5649-404e-9fbc-70c6eb898cad] 28348 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:11:20.941  INFO [e084b1c2-5649-404e-9fbc-70c6eb898cad] 28348 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:11:21.249 DEBUG [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:11:21.253 DEBUG [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:11:21.259 DEBUG [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:11:21.282  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:11:21.283  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:11:21.283  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:11:21.286  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 15:11:21.286  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 15:11:21.459  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 15:11:21.460  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 15:11:21.461  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 15:11:21.461  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 15:11:21.464  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 15:11:21.465  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 15:11:21.465  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 15:11:21.466  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 15:11:21.466  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 15:11:21.466  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 15:11:21.466  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 15:11:21.466  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 15:11:21.467  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 15:11:21.467  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 15:11:21.469  INFO [37ccf68e-c285-46f5-a248-b7c02c3c4b36] 28348 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 15:11:42.585 DEBUG [4f366b63-be0a-4064-8315-2f2f0a7f74d6] 28348 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:11:42.603 DEBUG [4f366b63-be0a-4064-8315-2f2f0a7f74d6] 28348 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=FK2JNVDSZTmOTNXT-g08RN0rTQ1F_jYVJWvcKacJEUA%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:11:44.752 DEBUG [f9a44123-152b-4370-bf7d-1cfda7894567] 28348 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=FK2JNVDSZTmOTNXT-g08RN0rTQ1F_jYVJWvcKacJEUA%3D&code=4%2F0AUJR-x5u5YUh-yHNSwyRF8daqAMSQ50yxX0mIXTO4cpZ-wWcVVOoQwRKi4IXMjiHU8fsLw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 15:11:45.351  INFO [f9a44123-152b-4370-bf7d-1cfda7894567] 28348 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 15:11:45.434  INFO [f9a44123-152b-4370-bf7d-1cfda7894567] 28348 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 15:11:45.449 DEBUG [f9a44123-152b-4370-bf7d-1cfda7894567] 28348 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FC7A104FEFA9F29FC7ECFA1D8468051D
2025-05-27 15:11:45.449 DEBUG [f9a44123-152b-4370-bf7d-1cfda7894567] 28348 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FC7A104FEFA9F29FC7ECFA1D8468051D], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:11:45.453 DEBUG [f9a44123-152b-4370-bf7d-1cfda7894567] 28348 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ3OTA1LCJleHAiOjE3NDg0MzQzMDV9.2RRGnRQTn3apAfrxkglE2wyZ_lKjkZEbLMxVQUaLDJY1ayeD0V_imnMwWtTovItPtf2tlfVWVOM6pJ5yWIkLgg&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDc5MDUsImV4cCI6MTc0ODk1MjcwNX0.cdmMgDLPg9QF_2IULPRq426mG-4YnyD68H4Sh2ldds8HUGxIN1tbycSjzs_KvkJHP-_2jk78HLTfs7FnfvjejQ
2025-05-27 15:11:46.406 DEBUG [f73f4122-f795-47ba-8222-f69d76341a03] 28348 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:11:46.417 ERROR [f73f4122-f795-47ba-8222-f69d76341a03] 28348 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:11:46.418 DEBUG [f73f4122-f795-47ba-8222-f69d76341a03] 28348 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:11:46.422 DEBUG [f73f4122-f795-47ba-8222-f69d76341a03] 28348 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:11:46.422 DEBUG [f73f4122-f795-47ba-8222-f69d76341a03] 28348 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@52fd97d7
2025-05-27 15:11:46.689 DEBUG [cd407e8f-b289-4c27-8537-9348ba928915] 28348 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:11:46.690 DEBUG [cd407e8f-b289-4c27-8537-9348ba928915] 28348 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:11:46.692 DEBUG [cd407e8f-b289-4c27-8537-9348ba928915] 28348 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:11:46.698  INFO [cd407e8f-b289-4c27-8537-9348ba928915] 28348 --- [nio-8080-exec-7] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:11:46.892 DEBUG [d54daa72-7e26-4e94-8c94-8936239897bc] 28348 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:11:46.893 DEBUG [d54daa72-7e26-4e94-8c94-8936239897bc] 28348 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:11:46.896 DEBUG [d54daa72-7e26-4e94-8c94-8936239897bc] 28348 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:11:46.897  INFO [d54daa72-7e26-4e94-8c94-8936239897bc] 28348 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:11:46.897  INFO [d54daa72-7e26-4e94-8c94-8936239897bc] 28348 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:11:46.898  INFO [d54daa72-7e26-4e94-8c94-8936239897bc] 28348 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:11:46.898  INFO [d54daa72-7e26-4e94-8c94-8936239897bc] 28348 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:11:55.753 DEBUG [bf3f90fb-faba-4f61-a02d-6ad45a5d12f3] 28348 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:11:55.758 DEBUG [bf3f90fb-faba-4f61-a02d-6ad45a5d12f3] 28348 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:11:55.761 DEBUG [bf3f90fb-faba-4f61-a02d-6ad45a5d12f3] 28348 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:11:55.763  INFO [bf3f90fb-faba-4f61-a02d-6ad45a5d12f3] 28348 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:11:55.763  INFO [bf3f90fb-faba-4f61-a02d-6ad45a5d12f3] 28348 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:11:55.763  INFO [bf3f90fb-faba-4f61-a02d-6ad45a5d12f3] 28348 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:11:55.764  INFO [bf3f90fb-faba-4f61-a02d-6ad45a5d12f3] 28348 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:11:57.277 DEBUG [7de19a3d-236f-4ea0-92f5-b142c2e2a2bd] 28348 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:11:57.277 DEBUG [7de19a3d-236f-4ea0-92f5-b142c2e2a2bd] 28348 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=ip_fp6eeqcsMOxLeEIkcM95jomPMCiigkD-o4XmXefs%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:11:59.051 DEBUG [8bb170b8-3943-46c4-822d-22e542a91924] 28348 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=ip_fp6eeqcsMOxLeEIkcM95jomPMCiigkD-o4XmXefs%3D&code=4%2F0AUJR-x4LQc8RhzD4mEPmEBmAyLMWYwWuUD4OqisEkvhk1rSfJAQU1KWTiPb05yV_KoVZ9w&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 15:11:59.327  INFO [8bb170b8-3943-46c4-822d-22e542a91924] 28348 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:11:59.346 DEBUG [8bb170b8-3943-46c4-822d-22e542a91924] 28348 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B9EFB7C1DE8EEA937EABB8E70DAB4AB8
2025-05-27 15:11:59.347 DEBUG [8bb170b8-3943-46c4-822d-22e542a91924] 28348 --- [nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B9EFB7C1DE8EEA937EABB8E70DAB4AB8], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:11:59.350 DEBUG [8bb170b8-3943-46c4-822d-22e542a91924] 28348 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ3OTE5LCJleHAiOjE3NDg0MzQzMTl9.S9uhjvSxB0o95juksPKz8xTnPL-WzmG2IE4QFVxJPzWPUb7Gk72bP87XiRJhy2HKI4hHc4utCRsICUoPTnjqxg&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDc5MTksImV4cCI6MTc0ODk1MjcxOX0.GrqGGveBoXOUkmxT2ZXRujE3rATwXTbIKnb50EcZVFZQR2bnslEBt-H6IYR4LEd5cw0O-4v2a8mAdnK1fvzKzw
2025-05-27 15:12:00.339 DEBUG [96a56884-899b-4c19-96c0-886f54c63380] 28348 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:12:00.348 ERROR [96a56884-899b-4c19-96c0-886f54c63380] 28348 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:12:00.349 DEBUG [96a56884-899b-4c19-96c0-886f54c63380] 28348 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:12:00.352 DEBUG [96a56884-899b-4c19-96c0-886f54c63380] 28348 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:12:00.352 DEBUG [96a56884-899b-4c19-96c0-886f54c63380] 28348 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@52fd97d7
2025-05-27 15:12:00.603 DEBUG [8da2b5a8-80bd-458c-ac38-4c7b272be24c] 28348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:12:00.604 DEBUG [8da2b5a8-80bd-458c-ac38-4c7b272be24c] 28348 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:12:00.605 DEBUG [8da2b5a8-80bd-458c-ac38-4c7b272be24c] 28348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:12:00.610  INFO [8da2b5a8-80bd-458c-ac38-4c7b272be24c] 28348 --- [nio-8080-exec-3] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:12:00.787 DEBUG [c2714167-9df8-4c16-91b8-6df639d27eba] 28348 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:12:00.788 DEBUG [c2714167-9df8-4c16-91b8-6df639d27eba] 28348 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:12:00.790 DEBUG [c2714167-9df8-4c16-91b8-6df639d27eba] 28348 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:12:00.791  INFO [c2714167-9df8-4c16-91b8-6df639d27eba] 28348 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:12:00.792  INFO [c2714167-9df8-4c16-91b8-6df639d27eba] 28348 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:12:00.792  INFO [c2714167-9df8-4c16-91b8-6df639d27eba] 28348 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:12:00.793  INFO [c2714167-9df8-4c16-91b8-6df639d27eba] 28348 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:12:43.487 DEBUG [7d3d850c-c4bc-4e59-8c45-b9aad49b7296] 28348 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:12:43.488 DEBUG [7d3d850c-c4bc-4e59-8c45-b9aad49b7296] 28348 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:12:43.490 DEBUG [7d3d850c-c4bc-4e59-8c45-b9aad49b7296] 28348 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:12:43.491  INFO [7d3d850c-c4bc-4e59-8c45-b9aad49b7296] 28348 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:12:43.491  INFO [7d3d850c-c4bc-4e59-8c45-b9aad49b7296] 28348 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:12:43.492  INFO [7d3d850c-c4bc-4e59-8c45-b9aad49b7296] 28348 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:12:43.492  INFO [7d3d850c-c4bc-4e59-8c45-b9aad49b7296] 28348 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:12:53.401 DEBUG [0fd5ed40-8622-49fc-a5a8-a5e1bb4ecfc9] 28348 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:12:53.401 DEBUG [0fd5ed40-8622-49fc-a5a8-a5e1bb4ecfc9] 28348 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:12:53.403 DEBUG [0fd5ed40-8622-49fc-a5a8-a5e1bb4ecfc9] 28348 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:12:53.404  INFO [0fd5ed40-8622-49fc-a5a8-a5e1bb4ecfc9] 28348 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:12:53.405  INFO [0fd5ed40-8622-49fc-a5a8-a5e1bb4ecfc9] 28348 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:12:53.405  INFO [0fd5ed40-8622-49fc-a5a8-a5e1bb4ecfc9] 28348 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:12:53.405  INFO [0fd5ed40-8622-49fc-a5a8-a5e1bb4ecfc9] 28348 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:15:20.208 DEBUG [bf644e9a-89ec-42f5-96af-504b921f79cd] 28348 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:15:20.241 ERROR [bf644e9a-89ec-42f5-96af-504b921f79cd] 28348 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:15:20.242 DEBUG [bf644e9a-89ec-42f5-96af-504b921f79cd] 28348 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:15:20.250 DEBUG [bf644e9a-89ec-42f5-96af-504b921f79cd] 28348 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:15:20.254 DEBUG [bf644e9a-89ec-42f5-96af-504b921f79cd] 28348 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@52fd97d7
2025-05-27 15:15:21.104 DEBUG [ca63105b-4c2a-4fe1-a5fb-b4e33e5b7822] 28348 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:15:21.105 DEBUG [ca63105b-4c2a-4fe1-a5fb-b4e33e5b7822] 28348 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:15:21.106 DEBUG [ca63105b-4c2a-4fe1-a5fb-b4e33e5b7822] 28348 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:15:21.114  INFO [ca63105b-4c2a-4fe1-a5fb-b4e33e5b7822] 28348 --- [io-8080-exec-10] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:15:21.282 DEBUG [682c4ed0-21e3-4118-a0fe-7407b1dc4238] 28348 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:15:21.283 DEBUG [682c4ed0-21e3-4118-a0fe-7407b1dc4238] 28348 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:15:21.285 DEBUG [682c4ed0-21e3-4118-a0fe-7407b1dc4238] 28348 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:15:21.286  INFO [682c4ed0-21e3-4118-a0fe-7407b1dc4238] 28348 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:15:21.286  INFO [682c4ed0-21e3-4118-a0fe-7407b1dc4238] 28348 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:15:21.286  INFO [682c4ed0-21e3-4118-a0fe-7407b1dc4238] 28348 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:15:21.287  INFO [682c4ed0-21e3-4118-a0fe-7407b1dc4238] 28348 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:16:13.399  INFO [NONE] 28348 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:16:13.402  INFO [NONE] 28348 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 15:16:13.410  INFO [NONE] 28348 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 15:16:32.671  INFO [NONE] 32512 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 32512 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 15:16:32.679 DEBUG [NONE] 32512 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 15:16:32.680  INFO [NONE] 32512 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 15:16:32.728  INFO [NONE] 32512 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 15:16:32.729  INFO [NONE] 32512 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 15:16:33.962  INFO [NONE] 32512 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 15:16:34.074  INFO [NONE] 32512 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104 ms. Found 9 JPA repository interfaces.
2025-05-27 15:16:35.059  INFO [NONE] 32512 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 15:16:35.075  INFO [NONE] 32512 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 15:16:35.075  INFO [NONE] 32512 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 15:16:35.157  INFO [NONE] 32512 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 15:16:35.158  INFO [NONE] 32512 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2428 ms
2025-05-27 15:16:35.477  INFO [NONE] 32512 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 15:16:35.558  INFO [NONE] 32512 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 15:16:35.601  INFO [NONE] 32512 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 15:16:35.874  INFO [NONE] 32512 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 15:16:35.909  INFO [NONE] 32512 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 15:16:36.095  INFO [NONE] 32512 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69307404
2025-05-27 15:16:36.097  INFO [NONE] 32512 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 15:16:36.154  WARN [NONE] 32512 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 15:16:37.600  INFO [NONE] 32512 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 15:16:44.643  INFO [NONE] 32512 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:16:44.931  INFO [NONE] 32512 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 15:16:45.325 DEBUG [NONE] 32512 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 15:16:45.326 DEBUG [NONE] 32512 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 15:16:45.500  INFO [NONE] 32512 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 15:16:45.760  INFO [NONE] 32512 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 15:16:45.761  WARN [NONE] 32512 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 15:16:45.761  WARN [NONE] 32512 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 15:16:45.761  WARN [NONE] 32512 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 15:16:45.761  WARN [NONE] 32512 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 15:16:45.810  WARN [NONE] 32512 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 15:16:45.932  INFO [NONE] 32512 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 15:16:46.389  INFO [NONE] 32512 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 15:16:46.500  INFO [NONE] 32512 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e3091e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a8dce6, org.springframework.security.web.context.SecurityContextHolderFilter@4f32d838, org.springframework.security.web.header.HeaderWriterFilter@383c6691, org.springframework.web.filter.CorsFilter@115c30d9, org.springframework.security.web.authentication.logout.LogoutFilter@643485cd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6b2adf2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4f95b12, org.example.xlr8travel.security.JwtAuthenticationFilter@5e600af4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b73572b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2f7d5a6f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6be64567, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@15d2f122, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c7536bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d9b5f49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75d30afc, org.springframework.security.web.session.SessionManagementFilter@175733cd, org.springframework.security.web.access.ExceptionTranslationFilter@3e93c8f9, org.springframework.security.web.access.intercept.AuthorizationFilter@3acf0075]
2025-05-27 15:16:47.629  INFO [NONE] 32512 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 15:16:47.713  INFO [NONE] 32512 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 15:16:47.728  INFO [NONE] 32512 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 15.566 seconds (process running for 17.014)
2025-05-27 15:16:52.167  INFO [NONE] 32512 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 15:16:52.168  INFO [NONE] 32512 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 15:16:52.169  INFO [NONE] 32512 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-27 15:16:52.188 DEBUG [6f20f7de-f852-4f1c-a75a-fbbb8a3afd8c] 32512 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:16:52.309 ERROR [6f20f7de-f852-4f1c-a75a-fbbb8a3afd8c] 32512 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:16:52.313 DEBUG [6f20f7de-f852-4f1c-a75a-fbbb8a3afd8c] 32512 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:16:52.318  WARN [6f20f7de-f852-4f1c-a75a-fbbb8a3afd8c] 32512 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 15:16:52.333 DEBUG [6f20f7de-f852-4f1c-a75a-fbbb8a3afd8c] 32512 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:16:52.334 DEBUG [6f20f7de-f852-4f1c-a75a-fbbb8a3afd8c] 32512 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@1a5608f1
2025-05-27 15:16:52.588 DEBUG [58655d12-36bb-43e4-80b5-ce09e6a3a91a] 32512 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:16:52.589 DEBUG [58655d12-36bb-43e4-80b5-ce09e6a3a91a] 32512 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:16:52.592 DEBUG [58655d12-36bb-43e4-80b5-ce09e6a3a91a] 32512 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:16:52.676  INFO [58655d12-36bb-43e4-80b5-ce09e6a3a91a] 32512 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:16:52.847 DEBUG [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:16:52.851 DEBUG [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:16:52.854 DEBUG [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:16:52.861  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:16:52.862  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:16:52.862  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:16:52.862  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 15:16:52.863  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 15:16:52.929  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 15:16:52.929  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 15:16:52.930  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 15:16:52.930  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 15:16:52.931  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 15:16:52.931  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 15:16:52.932  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 15:16:52.932  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 15:16:52.932  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 15:16:52.932  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 15:16:52.932  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 15:16:52.933  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 15:16:52.933  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 15:16:52.933  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 15:16:52.934  INFO [f3126bcf-d249-47a2-b289-68de26d4e83e] 32512 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 15:16:54.524 DEBUG [fa98a2cf-02e8-4fe6-b71d-5319a9002d4c] 32512 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:16:54.538 DEBUG [fa98a2cf-02e8-4fe6-b71d-5319a9002d4c] 32512 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=QSk_1udW5sO6t-DbRmzgqNbdf3S_52pWEy7i0X5sqrU%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:16:56.640 DEBUG [584bcaed-d8b0-4934-995a-d62128c3a507] 32512 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=QSk_1udW5sO6t-DbRmzgqNbdf3S_52pWEy7i0X5sqrU%3D&code=4%2F0AUJR-x42DPimYXRXO_b2HGgeLuWAZQxG_D-trk-6rbAY4qeUCBn8nULybjJMBnD6OJHQHg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:16:57.155  INFO [584bcaed-d8b0-4934-995a-d62128c3a507] 32512 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 15:16:57.237  INFO [584bcaed-d8b0-4934-995a-d62128c3a507] 32512 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 15:16:57.246 DEBUG [584bcaed-d8b0-4934-995a-d62128c3a507] 32512 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CCF4CE37186EFB671411851961B6210F
2025-05-27 15:16:57.247 DEBUG [584bcaed-d8b0-4934-995a-d62128c3a507] 32512 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CCF4CE37186EFB671411851961B6210F], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:16:57.251 DEBUG [584bcaed-d8b0-4934-995a-d62128c3a507] 32512 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:16:58.102 DEBUG [1bbda85f-a38e-46bb-9f89-4cfb551c003c] 32512 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:16:58.111 ERROR [1bbda85f-a38e-46bb-9f89-4cfb551c003c] 32512 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:16:58.112 DEBUG [1bbda85f-a38e-46bb-9f89-4cfb551c003c] 32512 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:16:58.114 DEBUG [1bbda85f-a38e-46bb-9f89-4cfb551c003c] 32512 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:16:58.115 DEBUG [1bbda85f-a38e-46bb-9f89-4cfb551c003c] 32512 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@1a5608f1
2025-05-27 15:16:58.380 DEBUG [c4de41ad-b129-479c-8817-a50ec28a387f] 32512 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:16:58.381 DEBUG [c4de41ad-b129-479c-8817-a50ec28a387f] 32512 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:16:58.383 DEBUG [c4de41ad-b129-479c-8817-a50ec28a387f] 32512 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:16:58.388  INFO [c4de41ad-b129-479c-8817-a50ec28a387f] 32512 --- [nio-8080-exec-7] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:16:58.559 DEBUG [20880e32-bdcd-4c28-804e-b88008fd514f] 32512 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:16:58.561 DEBUG [20880e32-bdcd-4c28-804e-b88008fd514f] 32512 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:16:58.562 DEBUG [20880e32-bdcd-4c28-804e-b88008fd514f] 32512 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:16:58.563  INFO [20880e32-bdcd-4c28-804e-b88008fd514f] 32512 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:16:58.564  INFO [20880e32-bdcd-4c28-804e-b88008fd514f] 32512 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:16:58.564  INFO [20880e32-bdcd-4c28-804e-b88008fd514f] 32512 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:16:58.564  INFO [20880e32-bdcd-4c28-804e-b88008fd514f] 32512 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:17:06.357 DEBUG [52ceb10f-e156-4573-939a-b0fd3186762a] 32512 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:17:06.358 DEBUG [52ceb10f-e156-4573-939a-b0fd3186762a] 32512 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:17:06.359 DEBUG [52ceb10f-e156-4573-939a-b0fd3186762a] 32512 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:17:06.360  INFO [52ceb10f-e156-4573-939a-b0fd3186762a] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:17:06.360  INFO [52ceb10f-e156-4573-939a-b0fd3186762a] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:17:06.361  INFO [52ceb10f-e156-4573-939a-b0fd3186762a] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:17:06.361  INFO [52ceb10f-e156-4573-939a-b0fd3186762a] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:17:07.799 DEBUG [40cc1488-0a9e-4ec0-b48f-46a5fa49c4a2] 32512 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:17:07.800 DEBUG [40cc1488-0a9e-4ec0-b48f-46a5fa49c4a2] 32512 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=vdlna4onXgN_6c1QlU8bWbltNcKqkOc_XuIZi36xPIs%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:17:09.443 DEBUG [7b241d9a-d63d-4e6f-9aaa-0a406153da9f] 32512 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=vdlna4onXgN_6c1QlU8bWbltNcKqkOc_XuIZi36xPIs%3D&code=4%2F0AUJR-x4bgz3crEfz7KTBiCj0OBp6sqHBSgodqiyuHyiXMBTEQdGgESJUmxWMB0OMpAkypw&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 15:17:09.685  INFO [7b241d9a-d63d-4e6f-9aaa-0a406153da9f] 32512 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:17:09.704 DEBUG [7b241d9a-d63d-4e6f-9aaa-0a406153da9f] 32512 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AF4F52148A8645C35DE3CEDA5188F209
2025-05-27 15:17:09.704 DEBUG [7b241d9a-d63d-4e6f-9aaa-0a406153da9f] 32512 --- [nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AF4F52148A8645C35DE3CEDA5188F209], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:17:09.706 DEBUG [7b241d9a-d63d-4e6f-9aaa-0a406153da9f] 32512 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:17:10.619 DEBUG [2ab9de3b-ebb7-4699-8cdb-d29225613628] 32512 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:17:10.628 ERROR [2ab9de3b-ebb7-4699-8cdb-d29225613628] 32512 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:17:10.629 DEBUG [2ab9de3b-ebb7-4699-8cdb-d29225613628] 32512 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:17:10.631 DEBUG [2ab9de3b-ebb7-4699-8cdb-d29225613628] 32512 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:17:10.632 DEBUG [2ab9de3b-ebb7-4699-8cdb-d29225613628] 32512 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@1a5608f1
2025-05-27 15:17:10.887 DEBUG [3f48357c-2860-4a63-a1b2-cb8dd5a818a5] 32512 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:17:10.887 DEBUG [3f48357c-2860-4a63-a1b2-cb8dd5a818a5] 32512 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:17:10.888 DEBUG [3f48357c-2860-4a63-a1b2-cb8dd5a818a5] 32512 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:17:10.893  INFO [3f48357c-2860-4a63-a1b2-cb8dd5a818a5] 32512 --- [nio-8080-exec-3] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:17:11.065 DEBUG [283785e4-9dce-4df3-807f-1ee7639cacfa] 32512 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:17:11.066 DEBUG [283785e4-9dce-4df3-807f-1ee7639cacfa] 32512 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:17:11.067 DEBUG [283785e4-9dce-4df3-807f-1ee7639cacfa] 32512 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:17:11.068  INFO [283785e4-9dce-4df3-807f-1ee7639cacfa] 32512 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:17:11.068  INFO [283785e4-9dce-4df3-807f-1ee7639cacfa] 32512 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:17:11.068  INFO [283785e4-9dce-4df3-807f-1ee7639cacfa] 32512 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:17:11.068  INFO [283785e4-9dce-4df3-807f-1ee7639cacfa] 32512 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:17:26.546 DEBUG [ae0afc6e-30b7-4909-9938-10820f8c015e] 32512 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:17:26.547 DEBUG [ae0afc6e-30b7-4909-9938-10820f8c015e] 32512 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=3xR26LBBPmiP787qSt56Lsl5Bbk7MHTnMDKl8sTNTmw%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:17:28.917 DEBUG [0ce71d11-7249-4f63-9b74-2b19e7fa9359] 32512 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=3xR26LBBPmiP787qSt56Lsl5Bbk7MHTnMDKl8sTNTmw%3D&code=4%2F0AUJR-x6jZulx2oc0LPrdWTCQco7rWWG5sVJivwaoyfOtKDMCy4H-ylTzUaGit63DPBQl7g&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 15:17:29.182  INFO [0ce71d11-7249-4f63-9b74-2b19e7fa9359] 32512 --- [nio-8080-exec-6] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:17:29.201 DEBUG [0ce71d11-7249-4f63-9b74-2b19e7fa9359] 32512 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F25969A3AE8B2CE5C53D163D0026BE46
2025-05-27 15:17:29.201 DEBUG [0ce71d11-7249-4f63-9b74-2b19e7fa9359] 32512 --- [nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F25969A3AE8B2CE5C53D163D0026BE46], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:17:29.203 DEBUG [0ce71d11-7249-4f63-9b74-2b19e7fa9359] 32512 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:17:30.368 DEBUG [f93313f6-3422-43c7-8a78-c3c54b21894b] 32512 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:17:30.381 ERROR [f93313f6-3422-43c7-8a78-c3c54b21894b] 32512 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:17:30.382 DEBUG [f93313f6-3422-43c7-8a78-c3c54b21894b] 32512 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:17:30.384 DEBUG [f93313f6-3422-43c7-8a78-c3c54b21894b] 32512 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:17:30.385 DEBUG [f93313f6-3422-43c7-8a78-c3c54b21894b] 32512 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@1a5608f1
2025-05-27 15:17:30.772 DEBUG [3aed1de2-c485-49a0-96e9-6caf6c80cbf6] 32512 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:17:30.773 DEBUG [3aed1de2-c485-49a0-96e9-6caf6c80cbf6] 32512 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:17:30.775 DEBUG [3aed1de2-c485-49a0-96e9-6caf6c80cbf6] 32512 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:17:30.780  INFO [3aed1de2-c485-49a0-96e9-6caf6c80cbf6] 32512 --- [nio-8080-exec-8] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:17:31.142 DEBUG [2787f1a2-4e56-4b9a-8c00-5ced226eee43] 32512 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:17:31.143 DEBUG [2787f1a2-4e56-4b9a-8c00-5ced226eee43] 32512 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:17:31.144 DEBUG [2787f1a2-4e56-4b9a-8c00-5ced226eee43] 32512 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:17:31.145  INFO [2787f1a2-4e56-4b9a-8c00-5ced226eee43] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:17:31.145  INFO [2787f1a2-4e56-4b9a-8c00-5ced226eee43] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:17:31.145  INFO [2787f1a2-4e56-4b9a-8c00-5ced226eee43] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:17:31.146  INFO [2787f1a2-4e56-4b9a-8c00-5ced226eee43] 32512 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:21:22.842 DEBUG [ad0de4cc-c730-4e97-94ef-e233d4164b71] 32512 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:21:22.843 DEBUG [ad0de4cc-c730-4e97-94ef-e233d4164b71] 32512 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:21:22.844 DEBUG [ad0de4cc-c730-4e97-94ef-e233d4164b71] 32512 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:21:22.845  INFO [ad0de4cc-c730-4e97-94ef-e233d4164b71] 32512 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:21:22.845  INFO [ad0de4cc-c730-4e97-94ef-e233d4164b71] 32512 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:21:22.845  INFO [ad0de4cc-c730-4e97-94ef-e233d4164b71] 32512 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:21:22.845  INFO [ad0de4cc-c730-4e97-94ef-e233d4164b71] 32512 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:22:05.125  INFO [NONE] 32512 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:22:05.128  INFO [NONE] 32512 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 15:22:05.134  INFO [NONE] 32512 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 15:22:18.443  INFO [NONE] 31916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 31916 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 15:22:18.448 DEBUG [NONE] 31916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 15:22:18.449  INFO [NONE] 31916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 15:22:18.484  INFO [NONE] 31916 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 15:22:18.484  INFO [NONE] 31916 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 15:22:19.580  INFO [NONE] 31916 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 15:22:19.760  INFO [NONE] 31916 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161 ms. Found 9 JPA repository interfaces.
2025-05-27 15:22:20.537  INFO [NONE] 31916 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 15:22:20.547  INFO [NONE] 31916 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 15:22:20.548  INFO [NONE] 31916 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 15:22:20.610  INFO [NONE] 31916 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 15:22:20.611  INFO [NONE] 31916 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2125 ms
2025-05-27 15:22:20.845  INFO [NONE] 31916 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 15:22:20.891  INFO [NONE] 31916 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 15:22:20.921  INFO [NONE] 31916 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 15:22:21.107  INFO [NONE] 31916 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 15:22:21.129  INFO [NONE] 31916 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 15:22:21.264  INFO [NONE] 31916 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75a448ad
2025-05-27 15:22:21.266  INFO [NONE] 31916 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 15:22:21.308  WARN [NONE] 31916 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 15:22:22.350  INFO [NONE] 31916 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 15:22:29.031  INFO [NONE] 31916 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:22:29.338  INFO [NONE] 31916 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 15:22:29.740 DEBUG [NONE] 31916 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 15:22:29.741 DEBUG [NONE] 31916 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 15:22:29.918  INFO [NONE] 31916 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 15:22:30.191  INFO [NONE] 31916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 15:22:30.192  WARN [NONE] 31916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 15:22:30.192  WARN [NONE] 31916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 15:22:30.192  WARN [NONE] 31916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 15:22:30.192  WARN [NONE] 31916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 15:22:30.238  WARN [NONE] 31916 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 15:22:30.340  INFO [NONE] 31916 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 15:22:30.604  INFO [NONE] 31916 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 15:22:30.691  INFO [NONE] 31916 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ace8156, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b80f14, org.springframework.security.web.context.SecurityContextHolderFilter@73ce49f1, org.springframework.security.web.header.HeaderWriterFilter@2cbdf539, org.springframework.web.filter.CorsFilter@621394d2, org.springframework.security.web.authentication.logout.LogoutFilter@51706520, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fde6f91, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@118f16f9, org.example.xlr8travel.security.JwtAuthenticationFilter@204b7e08, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@538f9ac9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6c3b95f7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3ae5c7b6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@129df6e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c63c210, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@652d4e14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@647f358d, org.springframework.security.web.session.SessionManagementFilter@734aecf7, org.springframework.security.web.access.ExceptionTranslationFilter@3a0d8bcb, org.springframework.security.web.access.intercept.AuthorizationFilter@60f74a4d]
2025-05-27 15:22:31.140  INFO [NONE] 31916 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 15:22:31.197  INFO [NONE] 31916 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 15:22:31.209  INFO [NONE] 31916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 13.175 seconds (process running for 13.658)
2025-05-27 15:22:36.294  INFO [NONE] 31916 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 15:22:36.295  INFO [NONE] 31916 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 15:22:36.298  INFO [NONE] 31916 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-27 15:22:36.315 DEBUG [286c133b-4c28-4687-acd4-b36d28910a5b] 31916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:22:36.442 ERROR [286c133b-4c28-4687-acd4-b36d28910a5b] 31916 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:22:36.446 DEBUG [286c133b-4c28-4687-acd4-b36d28910a5b] 31916 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:22:36.450  WARN [286c133b-4c28-4687-acd4-b36d28910a5b] 31916 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 15:22:36.466 DEBUG [286c133b-4c28-4687-acd4-b36d28910a5b] 31916 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:22:36.466 DEBUG [286c133b-4c28-4687-acd4-b36d28910a5b] 31916 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:22:36.713 DEBUG [697b2ff3-0a92-4fb6-b5f0-61f9f222dce5] 31916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:22:36.714 DEBUG [697b2ff3-0a92-4fb6-b5f0-61f9f222dce5] 31916 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:22:36.716 DEBUG [697b2ff3-0a92-4fb6-b5f0-61f9f222dce5] 31916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:22:36.798  INFO [697b2ff3-0a92-4fb6-b5f0-61f9f222dce5] 31916 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:22:37.035 DEBUG [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:22:37.038 DEBUG [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:22:37.044 DEBUG [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:22:37.055  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:22:37.056  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:22:37.056  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:22:37.057  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 15:22:37.057  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 15:22:37.134  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 15:22:37.134  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 15:22:37.135  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 15:22:37.135  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 15:22:37.136  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 15:22:37.136  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 15:22:37.137  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 15:22:37.137  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 15:22:37.137  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 15:22:37.137  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 15:22:37.137  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 15:22:37.138  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 15:22:37.138  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 15:22:37.139  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 15:22:37.139  INFO [bdcd3f5f-c88e-45d8-a1f6-0e5b4b4bc0db] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 15:22:40.675 DEBUG [2aa49b0e-ba9e-4661-992d-c808cecef98c] 31916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:22:40.690 DEBUG [2aa49b0e-ba9e-4661-992d-c808cecef98c] 31916 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=k6slEt8XP90iXzMLzrJ-OtfVYTWzkphM1KBRQOVM_CI%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:22:42.487 DEBUG [88aced78-9f6f-4ad6-ab95-5c4857623449] 31916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=k6slEt8XP90iXzMLzrJ-OtfVYTWzkphM1KBRQOVM_CI%3D&code=4%2F0AUJR-x5k_TOuuOMN1B5mYZ2mTvK1VX2lEdYpCI2FtttAVQisb3CghFmsIdHVivWdguBNBQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:22:42.970  INFO [88aced78-9f6f-4ad6-ab95-5c4857623449] 31916 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 15:22:43.048  INFO [88aced78-9f6f-4ad6-ab95-5c4857623449] 31916 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 15:22:43.056 DEBUG [88aced78-9f6f-4ad6-ab95-5c4857623449] 31916 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D83822FCA8D0C052CA8494C75E8A735A
2025-05-27 15:22:43.057 DEBUG [88aced78-9f6f-4ad6-ab95-5c4857623449] 31916 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D83822FCA8D0C052CA8494C75E8A735A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:22:43.061 DEBUG [88aced78-9f6f-4ad6-ab95-5c4857623449] 31916 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:22:43.955 DEBUG [d2275163-e7be-47dc-9cd3-ac569c4ce341] 31916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:22:43.964 ERROR [d2275163-e7be-47dc-9cd3-ac569c4ce341] 31916 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:22:43.965 DEBUG [d2275163-e7be-47dc-9cd3-ac569c4ce341] 31916 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:22:43.968 DEBUG [d2275163-e7be-47dc-9cd3-ac569c4ce341] 31916 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:22:43.968 DEBUG [d2275163-e7be-47dc-9cd3-ac569c4ce341] 31916 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:22:44.206 DEBUG [28239111-0211-406c-93f2-1a0450bb9921] 31916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:22:44.208 DEBUG [28239111-0211-406c-93f2-1a0450bb9921] 31916 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:22:44.209 DEBUG [28239111-0211-406c-93f2-1a0450bb9921] 31916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:22:44.215  INFO [28239111-0211-406c-93f2-1a0450bb9921] 31916 --- [nio-8080-exec-7] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:22:44.394 DEBUG [b4b1f43c-583b-4f1e-8f61-3f3699b2b1ee] 31916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:22:44.394 DEBUG [b4b1f43c-583b-4f1e-8f61-3f3699b2b1ee] 31916 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:22:44.396 DEBUG [b4b1f43c-583b-4f1e-8f61-3f3699b2b1ee] 31916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:22:44.397  INFO [b4b1f43c-583b-4f1e-8f61-3f3699b2b1ee] 31916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:22:44.398  INFO [b4b1f43c-583b-4f1e-8f61-3f3699b2b1ee] 31916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:22:44.398  INFO [b4b1f43c-583b-4f1e-8f61-3f3699b2b1ee] 31916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:22:44.398  INFO [b4b1f43c-583b-4f1e-8f61-3f3699b2b1ee] 31916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:22:56.175 DEBUG [9d07f28d-6599-4807-a18a-1370af6c1aa4] 31916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:22:56.176 DEBUG [9d07f28d-6599-4807-a18a-1370af6c1aa4] 31916 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=0Cz83wIZX5AXOrG3c6Yutxiot5lQeY_JyY9ZVvMeHZU%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:22:59.273 DEBUG [aa73daa8-b7a5-419c-aa81-040df7a50f2d] 31916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=0Cz83wIZX5AXOrG3c6Yutxiot5lQeY_JyY9ZVvMeHZU%3D&code=4%2F0AUJR-x6BF3lRYslvO5bHW0flZYWfOzP_uXFF68IuOmLKv4CAeYLfPQvNva8tLNIFnHdgHg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 15:22:59.549  INFO [aa73daa8-b7a5-419c-aa81-040df7a50f2d] 31916 --- [io-8080-exec-10] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:22:59.567 DEBUG [aa73daa8-b7a5-419c-aa81-040df7a50f2d] 31916 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 28B3772FC5EDEE0F7CAF0ED97737EED0
2025-05-27 15:22:59.567 DEBUG [aa73daa8-b7a5-419c-aa81-040df7a50f2d] 31916 --- [io-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=28B3772FC5EDEE0F7CAF0ED97737EED0], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:22:59.570 DEBUG [aa73daa8-b7a5-419c-aa81-040df7a50f2d] 31916 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:23:00.839 DEBUG [fef5242e-7a88-41db-b723-7834d638e864] 31916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:23:00.852 ERROR [fef5242e-7a88-41db-b723-7834d638e864] 31916 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:23:00.853 DEBUG [fef5242e-7a88-41db-b723-7834d638e864] 31916 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:23:00.855 DEBUG [fef5242e-7a88-41db-b723-7834d638e864] 31916 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:23:00.855 DEBUG [fef5242e-7a88-41db-b723-7834d638e864] 31916 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:23:01.152 DEBUG [d16b69e4-07bb-49c7-902a-2753f2b24a31] 31916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:23:01.154 DEBUG [d16b69e4-07bb-49c7-902a-2753f2b24a31] 31916 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:23:01.155 DEBUG [d16b69e4-07bb-49c7-902a-2753f2b24a31] 31916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:23:01.160  INFO [d16b69e4-07bb-49c7-902a-2753f2b24a31] 31916 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:23:01.512 DEBUG [55df4a7d-f36d-4c79-a1ce-d9e8251da1da] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:23:01.513 DEBUG [55df4a7d-f36d-4c79-a1ce-d9e8251da1da] 31916 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:23:01.514 DEBUG [55df4a7d-f36d-4c79-a1ce-d9e8251da1da] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:23:01.515  INFO [55df4a7d-f36d-4c79-a1ce-d9e8251da1da] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:23:01.515  INFO [55df4a7d-f36d-4c79-a1ce-d9e8251da1da] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:23:01.515  INFO [55df4a7d-f36d-4c79-a1ce-d9e8251da1da] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:23:01.515  INFO [55df4a7d-f36d-4c79-a1ce-d9e8251da1da] 31916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:24:03.455 DEBUG [a4ee4424-42d2-4e79-83de-2d3e989e0e95] 31916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:24:03.456 DEBUG [a4ee4424-42d2-4e79-83de-2d3e989e0e95] 31916 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=WuSNIgIM4msiVuzrgz6V2hao9nuQuRJ9klbyu7OzAVs%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:24:05.469 DEBUG [d3a3ff8f-34e4-4200-a73a-769b1d36c1e5] 31916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=WuSNIgIM4msiVuzrgz6V2hao9nuQuRJ9klbyu7OzAVs%3D&code=4%2F0AUJR-x4AfSvnDpbXALxiRnbmA_5MZcBef2s6monUDlDcDjSPCwqa-EBITxCX7QSLggm-bg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:24:05.726  INFO [d3a3ff8f-34e4-4200-a73a-769b1d36c1e5] 31916 --- [nio-8080-exec-7] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:24:05.742 DEBUG [d3a3ff8f-34e4-4200-a73a-769b1d36c1e5] 31916 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4FCA8B0675CB7BCDDAC558526211713C
2025-05-27 15:24:05.743 DEBUG [d3a3ff8f-34e4-4200-a73a-769b1d36c1e5] 31916 --- [nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4FCA8B0675CB7BCDDAC558526211713C], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:24:05.746 DEBUG [d3a3ff8f-34e4-4200-a73a-769b1d36c1e5] 31916 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:24:06.713 DEBUG [f794c094-763c-47d6-87b0-69f769a7c353] 31916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:24:06.724 ERROR [f794c094-763c-47d6-87b0-69f769a7c353] 31916 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:24:06.725 DEBUG [f794c094-763c-47d6-87b0-69f769a7c353] 31916 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:24:06.727 DEBUG [f794c094-763c-47d6-87b0-69f769a7c353] 31916 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:24:06.727 DEBUG [f794c094-763c-47d6-87b0-69f769a7c353] 31916 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:24:07.005 DEBUG [b6724ff9-5273-417f-9232-ae67d1d64ab3] 31916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:24:07.006 DEBUG [b6724ff9-5273-417f-9232-ae67d1d64ab3] 31916 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:24:07.008 DEBUG [b6724ff9-5273-417f-9232-ae67d1d64ab3] 31916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:24:07.014  INFO [b6724ff9-5273-417f-9232-ae67d1d64ab3] 31916 --- [nio-8080-exec-9] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:24:07.193 DEBUG [67f9f7c7-9952-4f3b-b453-b5ea5a61511e] 31916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:24:07.196 DEBUG [67f9f7c7-9952-4f3b-b453-b5ea5a61511e] 31916 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:24:07.202 DEBUG [67f9f7c7-9952-4f3b-b453-b5ea5a61511e] 31916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:24:07.204  INFO [67f9f7c7-9952-4f3b-b453-b5ea5a61511e] 31916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:24:07.204  INFO [67f9f7c7-9952-4f3b-b453-b5ea5a61511e] 31916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:24:07.204  INFO [67f9f7c7-9952-4f3b-b453-b5ea5a61511e] 31916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:24:07.204  INFO [67f9f7c7-9952-4f3b-b453-b5ea5a61511e] 31916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:25:30.134 DEBUG [849ca7ef-aa43-40c8-b092-773733add96d] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:25:30.152 ERROR [849ca7ef-aa43-40c8-b092-773733add96d] 31916 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:25:30.153 DEBUG [849ca7ef-aa43-40c8-b092-773733add96d] 31916 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:25:30.156 DEBUG [849ca7ef-aa43-40c8-b092-773733add96d] 31916 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:25:30.156 DEBUG [849ca7ef-aa43-40c8-b092-773733add96d] 31916 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:25:30.637 DEBUG [be9b621a-2966-42b5-b33f-00ac3cd53bd0] 31916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:25:30.637 DEBUG [be9b621a-2966-42b5-b33f-00ac3cd53bd0] 31916 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:25:30.638 DEBUG [be9b621a-2966-42b5-b33f-00ac3cd53bd0] 31916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:25:30.642  INFO [be9b621a-2966-42b5-b33f-00ac3cd53bd0] 31916 --- [nio-8080-exec-4] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:26:26.751 DEBUG [80e73435-ffdd-480b-9560-34cf945cf515] 31916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:26:26.751 DEBUG [80e73435-ffdd-480b-9560-34cf945cf515] 31916 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:26:26.753 DEBUG [80e73435-ffdd-480b-9560-34cf945cf515] 31916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:26:26.753  INFO [80e73435-ffdd-480b-9560-34cf945cf515] 31916 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:26:26.754  INFO [80e73435-ffdd-480b-9560-34cf945cf515] 31916 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:26:26.754  INFO [80e73435-ffdd-480b-9560-34cf945cf515] 31916 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:26:26.754  INFO [80e73435-ffdd-480b-9560-34cf945cf515] 31916 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:26:32.390 DEBUG [d716cd52-b358-4791-8e72-5a0501ee5d82] 31916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:26:32.401 ERROR [d716cd52-b358-4791-8e72-5a0501ee5d82] 31916 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:26:32.401 DEBUG [d716cd52-b358-4791-8e72-5a0501ee5d82] 31916 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:26:32.403 DEBUG [d716cd52-b358-4791-8e72-5a0501ee5d82] 31916 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:26:32.404 DEBUG [d716cd52-b358-4791-8e72-5a0501ee5d82] 31916 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:26:32.673 DEBUG [ffe8f9f5-d585-4db9-9be9-30be5f41e197] 31916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:26:32.674 DEBUG [ffe8f9f5-d585-4db9-9be9-30be5f41e197] 31916 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:26:32.674 DEBUG [ffe8f9f5-d585-4db9-9be9-30be5f41e197] 31916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:26:32.679  INFO [ffe8f9f5-d585-4db9-9be9-30be5f41e197] 31916 --- [nio-8080-exec-8] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:26:32.891 DEBUG [69841fd1-2bf3-42c9-8097-fc3fb19bd8d6] 31916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:26:32.892 DEBUG [69841fd1-2bf3-42c9-8097-fc3fb19bd8d6] 31916 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:26:32.893 DEBUG [69841fd1-2bf3-42c9-8097-fc3fb19bd8d6] 31916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:26:32.895  INFO [69841fd1-2bf3-42c9-8097-fc3fb19bd8d6] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:26:32.895  INFO [69841fd1-2bf3-42c9-8097-fc3fb19bd8d6] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:26:32.895  INFO [69841fd1-2bf3-42c9-8097-fc3fb19bd8d6] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:26:32.895  INFO [69841fd1-2bf3-42c9-8097-fc3fb19bd8d6] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:26:33.819 DEBUG [e488e28b-b57c-491b-9546-623b15518156] 31916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:26:33.820 DEBUG [e488e28b-b57c-491b-9546-623b15518156] 31916 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=cVBvcRdh1iMCF01e9skKAGvr9LNXcWovj8FqSCwr0s4%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:26:35.586 DEBUG [aa17af7e-a76f-4418-80ab-00b6f552e860] 31916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=cVBvcRdh1iMCF01e9skKAGvr9LNXcWovj8FqSCwr0s4%3D&code=4%2F0AUJR-x4gmjJ0C52kR4FVVTTAcg0reg3T1yoSesBDMoFRJ1xS0cMgFl7zkBtSeFOEVcLxiA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 15:26:35.854  INFO [aa17af7e-a76f-4418-80ab-00b6f552e860] 31916 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:26:35.871 DEBUG [aa17af7e-a76f-4418-80ab-00b6f552e860] 31916 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B7352A289FFD1C8BC28F23C52879AB9D
2025-05-27 15:26:35.872 DEBUG [aa17af7e-a76f-4418-80ab-00b6f552e860] 31916 --- [nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B7352A289FFD1C8BC28F23C52879AB9D], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:26:35.874 DEBUG [aa17af7e-a76f-4418-80ab-00b6f552e860] 31916 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:26:36.864 DEBUG [6c812521-c979-4310-a054-08a909899717] 31916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:26:36.874 ERROR [6c812521-c979-4310-a054-08a909899717] 31916 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:26:36.875 DEBUG [6c812521-c979-4310-a054-08a909899717] 31916 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:26:36.876 DEBUG [6c812521-c979-4310-a054-08a909899717] 31916 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:26:36.877 DEBUG [6c812521-c979-4310-a054-08a909899717] 31916 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:26:37.142 DEBUG [d26ff203-3573-4792-b274-dbec4076d734] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:26:37.142 DEBUG [d26ff203-3573-4792-b274-dbec4076d734] 31916 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:26:37.144 DEBUG [d26ff203-3573-4792-b274-dbec4076d734] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:26:37.150  INFO [d26ff203-3573-4792-b274-dbec4076d734] 31916 --- [nio-8080-exec-3] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:26:37.317 DEBUG [5cd78b49-35d4-4e13-be99-5e8c22c60624] 31916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:26:37.318 DEBUG [5cd78b49-35d4-4e13-be99-5e8c22c60624] 31916 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:26:37.319 DEBUG [5cd78b49-35d4-4e13-be99-5e8c22c60624] 31916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:26:37.320  INFO [5cd78b49-35d4-4e13-be99-5e8c22c60624] 31916 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:26:37.321  INFO [5cd78b49-35d4-4e13-be99-5e8c22c60624] 31916 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:26:37.321  INFO [5cd78b49-35d4-4e13-be99-5e8c22c60624] 31916 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:26:37.321  INFO [5cd78b49-35d4-4e13-be99-5e8c22c60624] 31916 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:26:49.583 DEBUG [3dc93c10-f662-4965-bec0-0d5912a42ed5] 31916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:26:49.584 DEBUG [3dc93c10-f662-4965-bec0-0d5912a42ed5] 31916 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=pCWnUg1B8GlUfanX6h3XE5L82IqSnyboExS8xJqQTb8%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:27:00.784 DEBUG [cb22bf34-9b36-43b1-97a9-ba9aa6840a86] 31916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=pCWnUg1B8GlUfanX6h3XE5L82IqSnyboExS8xJqQTb8%3D&code=4%2F0AUJR-x69b1VMVioka4xZ6s6l3WQrBPzX7mc77M6eVulGTefRNYN7YQM-SgxzRezPk-Bgjw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:27:01.025  INFO [cb22bf34-9b36-43b1-97a9-ba9aa6840a86] 31916 --- [nio-8080-exec-6] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:27:01.041 DEBUG [cb22bf34-9b36-43b1-97a9-ba9aa6840a86] 31916 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E5329C91648595E11D33CD66269894F7
2025-05-27 15:27:01.042 DEBUG [cb22bf34-9b36-43b1-97a9-ba9aa6840a86] 31916 --- [nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E5329C91648595E11D33CD66269894F7], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:27:01.044 DEBUG [cb22bf34-9b36-43b1-97a9-ba9aa6840a86] 31916 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:27:02.423 DEBUG [eed40d1c-5636-452f-b2df-77394875d2ae] 31916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:27:02.444 ERROR [eed40d1c-5636-452f-b2df-77394875d2ae] 31916 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:27:02.445 DEBUG [eed40d1c-5636-452f-b2df-77394875d2ae] 31916 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:27:02.447 DEBUG [eed40d1c-5636-452f-b2df-77394875d2ae] 31916 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:27:02.448 DEBUG [eed40d1c-5636-452f-b2df-77394875d2ae] 31916 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:27:02.746 DEBUG [46edc74c-5d86-48d1-a0e6-c4056033d1ce] 31916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:27:02.747 DEBUG [46edc74c-5d86-48d1-a0e6-c4056033d1ce] 31916 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:27:02.748 DEBUG [46edc74c-5d86-48d1-a0e6-c4056033d1ce] 31916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:27:02.757  INFO [46edc74c-5d86-48d1-a0e6-c4056033d1ce] 31916 --- [nio-8080-exec-8] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:27:03.108 DEBUG [ab586c2e-263a-49d6-b76a-7c09ca894229] 31916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:27:03.108 DEBUG [ab586c2e-263a-49d6-b76a-7c09ca894229] 31916 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:27:03.110 DEBUG [ab586c2e-263a-49d6-b76a-7c09ca894229] 31916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:27:03.111  INFO [ab586c2e-263a-49d6-b76a-7c09ca894229] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:27:03.111  INFO [ab586c2e-263a-49d6-b76a-7c09ca894229] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:27:03.111  INFO [ab586c2e-263a-49d6-b76a-7c09ca894229] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:27:03.111  INFO [ab586c2e-263a-49d6-b76a-7c09ca894229] 31916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:27:20.371 DEBUG [f4dba23f-3901-4a80-84dc-5216d84edd17] 31916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:27:20.386 ERROR [f4dba23f-3901-4a80-84dc-5216d84edd17] 31916 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:27:20.387 DEBUG [f4dba23f-3901-4a80-84dc-5216d84edd17] 31916 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:27:20.389 DEBUG [f4dba23f-3901-4a80-84dc-5216d84edd17] 31916 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:27:20.390 DEBUG [f4dba23f-3901-4a80-84dc-5216d84edd17] 31916 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:27:20.732 DEBUG [6b98374b-c930-468b-98ee-4a1953183929] 31916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:27:20.732 DEBUG [6b98374b-c930-468b-98ee-4a1953183929] 31916 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:27:20.733 DEBUG [6b98374b-c930-468b-98ee-4a1953183929] 31916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:27:20.739  INFO [6b98374b-c930-468b-98ee-4a1953183929] 31916 --- [nio-8080-exec-1] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:27:29.889 DEBUG [590943be-fa3e-4c2c-aa18-cc2e89f92699] 31916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:27:29.912 ERROR [590943be-fa3e-4c2c-aa18-cc2e89f92699] 31916 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:27:29.918 DEBUG [590943be-fa3e-4c2c-aa18-cc2e89f92699] 31916 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:27:29.928 DEBUG [590943be-fa3e-4c2c-aa18-cc2e89f92699] 31916 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:27:29.929 DEBUG [590943be-fa3e-4c2c-aa18-cc2e89f92699] 31916 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@9cb7616
2025-05-27 15:27:30.875 DEBUG [a22e0717-1bce-41d4-8a1f-1a54897361e8] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:27:30.877 DEBUG [a22e0717-1bce-41d4-8a1f-1a54897361e8] 31916 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:27:30.878 DEBUG [a22e0717-1bce-41d4-8a1f-1a54897361e8] 31916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:27:30.883  INFO [a22e0717-1bce-41d4-8a1f-1a54897361e8] 31916 --- [nio-8080-exec-3] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:27:31.970  INFO [NONE] 31916 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:27:31.973  INFO [NONE] 31916 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 15:27:31.987  INFO [NONE] 31916 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 15:27:47.273  INFO [NONE] 26564 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 26564 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 15:27:47.282 DEBUG [NONE] 26564 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 15:27:47.283  INFO [NONE] 26564 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 15:27:47.340  INFO [NONE] 26564 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 15:27:47.341  INFO [NONE] 26564 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 15:27:48.316  INFO [NONE] 26564 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 15:27:48.402  INFO [NONE] 26564 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 9 JPA repository interfaces.
2025-05-27 15:27:49.145  INFO [NONE] 26564 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 15:27:49.158  INFO [NONE] 26564 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 15:27:49.159  INFO [NONE] 26564 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 15:27:49.224  INFO [NONE] 26564 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 15:27:49.224  INFO [NONE] 26564 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1883 ms
2025-05-27 15:27:49.472  INFO [NONE] 26564 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 15:27:49.526  INFO [NONE] 26564 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 15:27:49.566  INFO [NONE] 26564 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 15:27:49.775  INFO [NONE] 26564 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 15:27:49.801  INFO [NONE] 26564 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 15:27:49.943  INFO [NONE] 26564 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a051f8a
2025-05-27 15:27:49.945  INFO [NONE] 26564 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 15:27:49.988  WARN [NONE] 26564 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 15:27:51.125  INFO [NONE] 26564 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 15:27:58.199  INFO [NONE] 26564 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:27:58.555  INFO [NONE] 26564 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 15:27:59.237 DEBUG [NONE] 26564 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 15:27:59.239 DEBUG [NONE] 26564 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 15:27:59.551  INFO [NONE] 26564 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 15:27:59.919  INFO [NONE] 26564 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 15:27:59.919  WARN [NONE] 26564 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 15:27:59.919  WARN [NONE] 26564 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 15:27:59.919  WARN [NONE] 26564 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 15:27:59.920  WARN [NONE] 26564 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 15:27:59.981  WARN [NONE] 26564 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 15:28:00.149  INFO [NONE] 26564 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 15:28:00.551  INFO [NONE] 26564 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 15:28:00.678  INFO [NONE] 26564 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5da37faa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25865cbb, org.springframework.security.web.context.SecurityContextHolderFilter@486a2dc2, org.springframework.security.web.header.HeaderWriterFilter@6184bcf9, org.springframework.web.filter.CorsFilter@15c74aa5, org.springframework.security.web.authentication.logout.LogoutFilter@39afdde4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3f0c3480, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6cd05e22, org.example.xlr8travel.security.JwtAuthenticationFilter@2e2ee7a9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@47f7e540, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d63918c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6fde6f91, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a1451a8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3520c951, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4645b753, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@294603ef, org.springframework.security.web.session.SessionManagementFilter@7daa7712, org.springframework.security.web.access.ExceptionTranslationFilter@238aa600, org.springframework.security.web.access.intercept.AuthorizationFilter@65ed6edf]
2025-05-27 15:28:01.289  INFO [NONE] 26564 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 15:28:01.367  INFO [NONE] 26564 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 15:28:01.380  INFO [NONE] 26564 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 14.657 seconds (process running for 15.467)
2025-05-27 15:28:04.038  INFO [NONE] 26564 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 15:28:04.039  INFO [NONE] 26564 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 15:28:04.041  INFO [NONE] 26564 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 15:28:04.069 DEBUG [1339b0c0-c337-4f7b-a8c9-65f2e320f896] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:28:04.099 DEBUG [1339b0c0-c337-4f7b-a8c9-65f2e320f896] 26564 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=ppFGmcxeE76zPjlz2GkAW4uHbffrKJNBIXt7AHFHdsg%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:28:05.945 DEBUG [a5ef21b1-685d-43b0-bad6-89e33f89e39a] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=ppFGmcxeE76zPjlz2GkAW4uHbffrKJNBIXt7AHFHdsg%3D&code=4%2F0AUJR-x5HUWFf7K5_UP_GifR7DJuJL9QinyZmOrk9gQRNPNAUA3Irs8RF-sird7rtzH5BpQ&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 15:28:06.481  INFO [a5ef21b1-685d-43b0-bad6-89e33f89e39a] 26564 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 15:28:06.563  INFO [a5ef21b1-685d-43b0-bad6-89e33f89e39a] 26564 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 15:28:06.573 DEBUG [a5ef21b1-685d-43b0-bad6-89e33f89e39a] 26564 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 17CCA5DC9DD61354DB2FC9C9A7F4372F
2025-05-27 15:28:06.575 DEBUG [a5ef21b1-685d-43b0-bad6-89e33f89e39a] 26564 --- [nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=17CCA5DC9DD61354DB2FC9C9A7F4372F], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:28:06.628 DEBUG [a5ef21b1-685d-43b0-bad6-89e33f89e39a] 26564 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ4ODg2LCJleHAiOjE3NDg0MzUyODZ9.hlrrKXy2ahZUg3zJjwap27HRbvFzqFyQUnkt8Ap_p08iX02NJtPCantYHfMmejR2Sr_DwsGnCrUifl0DFsHxkQ&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDg4ODYsImV4cCI6MTc0ODk1MzY4Nn0.Zwaal7Olu7CYp5eMTlF9km5zoKtCkS5qgwzz458KaZ8OoBtwewHyIrJJzwHfnJ8l5ujdm5C4zL5RV10tvgimFA
2025-05-27 15:28:07.538 DEBUG [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:28:07.542 DEBUG [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:28:07.547  WARN [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/flights/nearby' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 15:28:07.557 DEBUG [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:28:07.588  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:28:07.589  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:28:07.590  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:28:07.590  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 15:28:07.590  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 15:28:07.657  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 15:28:07.658  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 15:28:07.658  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 15:28:07.659  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 15:28:07.659  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 15:28:07.659  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 15:28:07.659  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 15:28:07.660  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 15:28:07.660  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 15:28:07.660  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 15:28:07.660  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 15:28:07.661  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 15:28:07.661  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 15:28:07.661  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 15:28:07.662  INFO [233a47e9-23ab-4a6d-8947-f13b32bfc9f5] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 15:31:26.368 DEBUG [776011ff-e161-441e-9517-8ea04c3b8b3a] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:26.371 DEBUG [776011ff-e161-441e-9517-8ea04c3b8b3a] 26564 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:31:26.374 DEBUG [776011ff-e161-441e-9517-8ea04c3b8b3a] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:26.380  INFO [776011ff-e161-441e-9517-8ea04c3b8b3a] 26564 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:31:26.382  INFO [776011ff-e161-441e-9517-8ea04c3b8b3a] 26564 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:31:26.382  INFO [776011ff-e161-441e-9517-8ea04c3b8b3a] 26564 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:31:26.383  INFO [776011ff-e161-441e-9517-8ea04c3b8b3a] 26564 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:31:26.865 DEBUG [7b395441-32e3-4fb0-bc37-7f319eb028af] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:26.920 DEBUG [7b395441-32e3-4fb0-bc37-7f319eb028af] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:26.923  INFO [7b395441-32e3-4fb0-bc37-7f319eb028af] 26564 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:26.945  INFO [7b395441-32e3-4fb0-bc37-7f319eb028af] 26564 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:31:27.040 DEBUG [5d6d0db3-5253-479f-93f8-4f339a6e194b] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:31:27.044 DEBUG [0ab158b4-9cdb-4d1c-9699-a51e54e351e8] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:31:27.081 DEBUG [5d6d0db3-5253-479f-93f8-4f339a6e194b] 26564 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D258F102957DE1FBA1ADFA0F32FF9C08
2025-05-27 15:31:27.086 DEBUG [5d6d0db3-5253-479f-93f8-4f339a6e194b] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:31:27.097 DEBUG [0ab158b4-9cdb-4d1c-9699-a51e54e351e8] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:31:27.102  INFO [0ab158b4-9cdb-4d1c-9699-a51e54e351e8] 26564 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:31:27.119  WARN [5d6d0db3-5253-479f-93f8-4f339a6e194b] 26564 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:31:27.134  WARN [5d6d0db3-5253-479f-93f8-4f339a6e194b] 26564 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:31:27.180  INFO [0ab158b4-9cdb-4d1c-9699-a51e54e351e8] 26564 --- [nio-8080-exec-8] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 15:31:27.286  INFO [0ab158b4-9cdb-4d1c-9699-a51e54e351e8] 26564 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:31:27.563 DEBUG [e2b51246-7988-4257-9e08-96374cdb8635] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:27.589 DEBUG [e2b51246-7988-4257-9e08-96374cdb8635] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:27.590  INFO [e2b51246-7988-4257-9e08-96374cdb8635] 26564 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:27.601  INFO [e2b51246-7988-4257-9e08-96374cdb8635] 26564 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:31:28.750 DEBUG [b1c29e39-35fe-4a3a-84d9-6d6108cdc741] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:31:28.750 DEBUG [b1c29e39-35fe-4a3a-84d9-6d6108cdc741] 26564 --- [io-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:31:31.198 DEBUG [266147d1-6428-4b17-b0ae-6e4983e32d1e] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:31:31.200 DEBUG [266147d1-6428-4b17-b0ae-6e4983e32d1e] 26564 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=tgsL0z8BfcBe579TufhlaKHNaQnnL9r9JbwRKMlbLAU%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:31:33.334 DEBUG [ae69c904-4c6d-46ab-aa2a-f34decebfaa0] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=tgsL0z8BfcBe579TufhlaKHNaQnnL9r9JbwRKMlbLAU%3D&code=4%2F0AUJR-x7gxXRP4SvpvCCUUC9J6ROLbbeUzSlgSUd5JaX6SqnIwfz3DdfNRG4UHBE3khiL6A&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:31:33.597  INFO [ae69c904-4c6d-46ab-aa2a-f34decebfaa0] 26564 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:31:33.615 DEBUG [ae69c904-4c6d-46ab-aa2a-f34decebfaa0] 26564 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FDAEC76A9EB2E1BEF34BAC18C53BC3CF
2025-05-27 15:31:33.615 DEBUG [ae69c904-4c6d-46ab-aa2a-f34decebfaa0] 26564 --- [nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FDAEC76A9EB2E1BEF34BAC18C53BC3CF], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:31:33.618 DEBUG [ae69c904-4c6d-46ab-aa2a-f34decebfaa0] 26564 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ5MDkzLCJleHAiOjE3NDg0MzU0OTN9.zNLidIyznhtpOjmnTUyswfuA04MZW79CBzsiU5-R4otzUPHkdddRh5mKNi783_9niN70nbZu9CR_saKk_r3F4g&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDkwOTMsImV4cCI6MTc0ODk1Mzg5M30.HBdHJk92XLxzPjDXsiIQDdqwAdcdRzIguhVJPUk5P2b4pWwBi_wacGFzcFZsKu3HfmFWNWhggXznU48jRK2umg
2025-05-27 15:31:34.479 DEBUG [12dab0b7-2757-4cfd-92e7-e3b88e338e9b] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:34.480 DEBUG [12dab0b7-2757-4cfd-92e7-e3b88e338e9b] 26564 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:31:34.482 DEBUG [12dab0b7-2757-4cfd-92e7-e3b88e338e9b] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:34.483  INFO [12dab0b7-2757-4cfd-92e7-e3b88e338e9b] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:31:34.483  INFO [12dab0b7-2757-4cfd-92e7-e3b88e338e9b] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:31:34.483  INFO [12dab0b7-2757-4cfd-92e7-e3b88e338e9b] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:31:34.483  INFO [12dab0b7-2757-4cfd-92e7-e3b88e338e9b] 26564 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:31:34.644 DEBUG [4f950211-4207-44f0-ba32-31ea3acf744c] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:34.659 DEBUG [4f950211-4207-44f0-ba32-31ea3acf744c] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:34.659  INFO [4f950211-4207-44f0-ba32-31ea3acf744c] 26564 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:34.667  INFO [4f950211-4207-44f0-ba32-31ea3acf744c] 26564 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:31:34.712 DEBUG [6af65bee-8788-49b2-aa44-929308dd6531] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:31:34.712 DEBUG [27e703f3-291a-42d6-bdbb-7ddd21bb5f84] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:31:34.738 DEBUG [27e703f3-291a-42d6-bdbb-7ddd21bb5f84] 26564 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D53A38BA0BB59F23A6350E54EE34150C
2025-05-27 15:31:34.740 DEBUG [27e703f3-291a-42d6-bdbb-7ddd21bb5f84] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:31:34.741  INFO [27e703f3-291a-42d6-bdbb-7ddd21bb5f84] 26564 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:31:34.744 DEBUG [6af65bee-8788-49b2-aa44-929308dd6531] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:31:34.756  WARN [6af65bee-8788-49b2-aa44-929308dd6531] 26564 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:31:34.758  WARN [6af65bee-8788-49b2-aa44-929308dd6531] 26564 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:31:34.765  INFO [27e703f3-291a-42d6-bdbb-7ddd21bb5f84] 26564 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:31:34.986 DEBUG [98581cd3-ff32-4dcc-96e1-c7d20ee5b8d9] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:35.004 DEBUG [98581cd3-ff32-4dcc-96e1-c7d20ee5b8d9] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:35.006  INFO [98581cd3-ff32-4dcc-96e1-c7d20ee5b8d9] 26564 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:35.017  INFO [98581cd3-ff32-4dcc-96e1-c7d20ee5b8d9] 26564 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:31:37.238 DEBUG [72d53fb4-28e7-4ee4-a892-5bb2a1b3aa2a] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:31:37.255 DEBUG [72d53fb4-28e7-4ee4-a892-5bb2a1b3aa2a] 26564 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6F696CCB8E94021C42E19FCE0F2090EF
2025-05-27 15:31:37.258 DEBUG [72d53fb4-28e7-4ee4-a892-5bb2a1b3aa2a] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:31:37.267  INFO [72d53fb4-28e7-4ee4-a892-5bb2a1b3aa2a] 26564 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:31:37.268  INFO [72d53fb4-28e7-4ee4-a892-5bb2a1b3aa2a] 26564 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:31:37.283 DEBUG [ee817f0f-0f3c-4339-88d7-bf66b9fa9a89] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 15:31:37.300 DEBUG [ee817f0f-0f3c-4339-88d7-bf66b9fa9a89] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 15:31:37.307  INFO [ee817f0f-0f3c-4339-88d7-bf66b9fa9a89] 26564 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 15:31:37.308  INFO [ee817f0f-0f3c-4339-88d7-bf66b9fa9a89] 26564 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 15:31:38.482 DEBUG [a8ea15f3-9245-4040-8421-8e8c80a04a36] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:31:38.497 DEBUG [a8ea15f3-9245-4040-8421-8e8c80a04a36] 26564 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4BEA8F9DC610C2EE433A855D6C9398B4
2025-05-27 15:31:38.501 DEBUG [a8ea15f3-9245-4040-8421-8e8c80a04a36] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:31:38.510  INFO [a8ea15f3-9245-4040-8421-8e8c80a04a36] 26564 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:31:38.510  INFO [a8ea15f3-9245-4040-8421-8e8c80a04a36] 26564 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:31:38.568  INFO [a8ea15f3-9245-4040-8421-8e8c80a04a36] 26564 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:31:38.579 DEBUG [459d0989-c479-43e6-a392-89568a90355a] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 15:31:38.591 DEBUG [459d0989-c479-43e6-a392-89568a90355a] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 15:31:38.599  INFO [459d0989-c479-43e6-a392-89568a90355a] 26564 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 15:31:38.599  INFO [459d0989-c479-43e6-a392-89568a90355a] 26564 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 15:31:38.651  INFO [459d0989-c479-43e6-a392-89568a90355a] 26564 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 15:31:40.701 DEBUG [033835b6-f3e6-4321-8e3e-b62f0a53e2cb] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:40.703 DEBUG [033835b6-f3e6-4321-8e3e-b62f0a53e2cb] 26564 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:31:40.706 DEBUG [033835b6-f3e6-4321-8e3e-b62f0a53e2cb] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:40.707  INFO [033835b6-f3e6-4321-8e3e-b62f0a53e2cb] 26564 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:31:40.707  INFO [033835b6-f3e6-4321-8e3e-b62f0a53e2cb] 26564 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:31:40.707  INFO [033835b6-f3e6-4321-8e3e-b62f0a53e2cb] 26564 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:31:40.708  INFO [033835b6-f3e6-4321-8e3e-b62f0a53e2cb] 26564 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:31:41.558 DEBUG [916ca949-36cb-45bf-867f-bc1fbd80fce0] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:31:41.586 DEBUG [916ca949-36cb-45bf-867f-bc1fbd80fce0] 26564 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 73F8353DE838B9F4907B1409E79B72A9
2025-05-27 15:31:41.589 DEBUG [916ca949-36cb-45bf-867f-bc1fbd80fce0] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:31:41.590  INFO [916ca949-36cb-45bf-867f-bc1fbd80fce0] 26564 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:31:41.609  INFO [916ca949-36cb-45bf-867f-bc1fbd80fce0] 26564 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:31:41.622 DEBUG [054b2b33-a1ff-41dd-ba91-361452e1452d] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:31:41.636 DEBUG [054b2b33-a1ff-41dd-ba91-361452e1452d] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:31:41.638  INFO [054b2b33-a1ff-41dd-ba91-361452e1452d] 26564 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:31:41.652  INFO [054b2b33-a1ff-41dd-ba91-361452e1452d] 26564 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:31:42.594 DEBUG [0edb29a0-4ca8-4f91-9c6c-ac5fb52bff0e] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:31:42.594 DEBUG [0edb29a0-4ca8-4f91-9c6c-ac5fb52bff0e] 26564 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:31:43.000 DEBUG [4aed8129-186a-4c8c-b6ac-23d71bb0626c] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:43.001 DEBUG [4aed8129-186a-4c8c-b6ac-23d71bb0626c] 26564 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:31:43.002 DEBUG [4aed8129-186a-4c8c-b6ac-23d71bb0626c] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:43.003  INFO [4aed8129-186a-4c8c-b6ac-23d71bb0626c] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:31:43.003  INFO [4aed8129-186a-4c8c-b6ac-23d71bb0626c] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:31:43.003  INFO [4aed8129-186a-4c8c-b6ac-23d71bb0626c] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:31:43.004  INFO [4aed8129-186a-4c8c-b6ac-23d71bb0626c] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:31:44.145 DEBUG [fb6e1215-6cee-4ca3-be0b-aea7cd6a2c83] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:31:44.146 DEBUG [fb6e1215-6cee-4ca3-be0b-aea7cd6a2c83] 26564 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=FlIL7QP0sz9gTNFWkizK5uI49wVCwzhHU66d8OD-DJg%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:31:45.870 DEBUG [6028676a-588c-402c-9906-c7eef0a512fa] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=FlIL7QP0sz9gTNFWkizK5uI49wVCwzhHU66d8OD-DJg%3D&code=4%2F0AUJR-x6E0t91tWZnBPzG-R8Y_Fint-h5uoPlcwzW43plAIqP1TfmXbnCbAb0Ve-UIS0ztg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:31:46.107  INFO [6028676a-588c-402c-9906-c7eef0a512fa] 26564 --- [nio-8080-exec-8] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:31:46.123 DEBUG [6028676a-588c-402c-9906-c7eef0a512fa] 26564 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 46077ADE8229EC48B1760EA6BDF689BA
2025-05-27 15:31:46.123 DEBUG [6028676a-588c-402c-9906-c7eef0a512fa] 26564 --- [nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=46077ADE8229EC48B1760EA6BDF689BA], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:31:46.126 DEBUG [6028676a-588c-402c-9906-c7eef0a512fa] 26564 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ5MTA2LCJleHAiOjE3NDg0MzU1MDZ9.T8p8xod8DT963--N76sZmb2RRL4UksRwbwFD5e_y2KuY2FmKqHGIRv_8aUTWzqo_5vrbJ8uUOAeoMmCHiHfcGw&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDkxMDYsImV4cCI6MTc0ODk1MzkwNn0.VoxvZLRiPlYqA8wd_34aNuktNRZDgJn5-BiZ3poBVyeRPwfFfUYhJX8Vexpi2MKNcqNPk1jjb8xnYkdmlnZCMg
2025-05-27 15:31:46.999 DEBUG [5687a971-91d1-4750-8f7a-77abbde0b7c3] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:46.999 DEBUG [5687a971-91d1-4750-8f7a-77abbde0b7c3] 26564 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:31:47.000 DEBUG [5687a971-91d1-4750-8f7a-77abbde0b7c3] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:47.002  INFO [5687a971-91d1-4750-8f7a-77abbde0b7c3] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:31:47.002  INFO [5687a971-91d1-4750-8f7a-77abbde0b7c3] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:31:47.002  INFO [5687a971-91d1-4750-8f7a-77abbde0b7c3] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:31:47.002  INFO [5687a971-91d1-4750-8f7a-77abbde0b7c3] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:31:47.109 DEBUG [ed2c7f63-b658-4d85-afec-80a5ecdf794c] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:47.120 DEBUG [ed2c7f63-b658-4d85-afec-80a5ecdf794c] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:47.121  INFO [ed2c7f63-b658-4d85-afec-80a5ecdf794c] 26564 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:47.128  INFO [ed2c7f63-b658-4d85-afec-80a5ecdf794c] 26564 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:31:47.170 DEBUG [4de33076-004e-4520-8ff0-78e76c4101c1] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:31:47.171 DEBUG [7c27b175-2397-4bd2-a884-1d31fca273b5] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:31:47.184 DEBUG [7c27b175-2397-4bd2-a884-1d31fca273b5] 26564 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A09AEB9EC7AAFD169ABA16A6DBE384F3
2025-05-27 15:31:47.187 DEBUG [4de33076-004e-4520-8ff0-78e76c4101c1] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:31:47.188 DEBUG [7c27b175-2397-4bd2-a884-1d31fca273b5] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:31:47.192  INFO [7c27b175-2397-4bd2-a884-1d31fca273b5] 26564 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:31:47.200  WARN [4de33076-004e-4520-8ff0-78e76c4101c1] 26564 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:31:47.201  WARN [4de33076-004e-4520-8ff0-78e76c4101c1] 26564 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:31:47.212  INFO [7c27b175-2397-4bd2-a884-1d31fca273b5] 26564 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:31:47.425 DEBUG [b32796e1-6422-450b-aef6-880d18010d72] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:47.434 DEBUG [b32796e1-6422-450b-aef6-880d18010d72] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:47.435  INFO [b32796e1-6422-450b-aef6-880d18010d72] 26564 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:47.450  INFO [b32796e1-6422-450b-aef6-880d18010d72] 26564 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:31:51.479 DEBUG [de842a21-7e5b-4f9c-ab76-d070eedde6fc] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:31:51.481 DEBUG [de842a21-7e5b-4f9c-ab76-d070eedde6fc] 26564 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:31:52.656 DEBUG [601086a3-5ff9-4dc0-92e9-22d51768cb59] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:31:52.659 DEBUG [601086a3-5ff9-4dc0-92e9-22d51768cb59] 26564 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=DSQ7rD0FCfMzEdQlE_4s8TI6AXt5zXg6HwIy0xYjp0A%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:31:54.756 DEBUG [f71b28f9-ba57-4c66-b092-cede1b493470] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=DSQ7rD0FCfMzEdQlE_4s8TI6AXt5zXg6HwIy0xYjp0A%3D&code=4%2F0AUJR-x61N5WsxJ1o95oQ1QJnEsl76k0tMMmAPt2zFoPDB_eWN3UD3UJKlpq_BFGKcZy09g&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:31:55.613  INFO [f71b28f9-ba57-4c66-b092-cede1b493470] 26564 --- [nio-8080-exec-6] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:31:55.754 DEBUG [f71b28f9-ba57-4c66-b092-cede1b493470] 26564 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E2CBED1C754158C37BD110212C5890F0
2025-05-27 15:31:55.755 DEBUG [f71b28f9-ba57-4c66-b092-cede1b493470] 26564 --- [nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E2CBED1C754158C37BD110212C5890F0], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:31:55.758 DEBUG [f71b28f9-ba57-4c66-b092-cede1b493470] 26564 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyYXp2YW4udWxlaWFAZ21haWwuY29tIiwiaWF0IjoxNzQ4MzQ5MTE1LCJleHAiOjE3NDg0MzU1MTV9.2vvrNSQwayvDtIBwnTIpHpd1f2uj1t_yv0BStqtBdXN4TQLWRK8LOmmAy8LGbBZ2lC-mZ4Liw_JZXulURAk1TQ&refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDQ2NTgwODI5ODIxNzMwOTMxMzUiLCJpYXQiOjE3NDgzNDkxMTUsImV4cCI6MTc0ODk1MzkxNX0.DzleOcclQShEcgvREldNYEVXJn9lrNGNz1W6qiUioWFcQdP8_9d480bfhF232aeFCkts7H0h1aPyoY9TNIKXfQ
2025-05-27 15:31:56.807 DEBUG [1d24e611-0c07-4eb8-8021-bc66b14a00c4] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:56.808 DEBUG [1d24e611-0c07-4eb8-8021-bc66b14a00c4] 26564 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:31:56.809 DEBUG [1d24e611-0c07-4eb8-8021-bc66b14a00c4] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:31:56.811  INFO [1d24e611-0c07-4eb8-8021-bc66b14a00c4] 26564 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:31:56.811  INFO [1d24e611-0c07-4eb8-8021-bc66b14a00c4] 26564 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:31:56.811  INFO [1d24e611-0c07-4eb8-8021-bc66b14a00c4] 26564 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:31:56.811  INFO [1d24e611-0c07-4eb8-8021-bc66b14a00c4] 26564 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:31:56.950 DEBUG [3dd06856-f631-40bf-87d2-fe86e423016d] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:56.961 DEBUG [3dd06856-f631-40bf-87d2-fe86e423016d] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:56.962  INFO [3dd06856-f631-40bf-87d2-fe86e423016d] 26564 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:56.968  INFO [3dd06856-f631-40bf-87d2-fe86e423016d] 26564 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:31:57.014 DEBUG [05ff6a2c-f420-4c43-acc0-ef52d53343cb] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:31:57.016 DEBUG [adca5ec7-869f-4301-a2f0-26e9584278f3] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:31:57.033 DEBUG [05ff6a2c-f420-4c43-acc0-ef52d53343cb] 26564 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F425A5EF0307668C2438077C7328EAF9
2025-05-27 15:31:57.036 DEBUG [adca5ec7-869f-4301-a2f0-26e9584278f3] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:31:57.036 DEBUG [05ff6a2c-f420-4c43-acc0-ef52d53343cb] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:31:57.037  INFO [adca5ec7-869f-4301-a2f0-26e9584278f3] 26564 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:31:57.050  WARN [05ff6a2c-f420-4c43-acc0-ef52d53343cb] 26564 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:31:57.052  WARN [05ff6a2c-f420-4c43-acc0-ef52d53343cb] 26564 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:31:57.076  INFO [adca5ec7-869f-4301-a2f0-26e9584278f3] 26564 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:31:57.288 DEBUG [ba79e613-d13c-4015-ba52-745dd816afd7] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:31:57.301 DEBUG [ba79e613-d13c-4015-ba52-745dd816afd7] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:31:57.301  INFO [ba79e613-d13c-4015-ba52-745dd816afd7] 26564 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:31:57.309  INFO [ba79e613-d13c-4015-ba52-745dd816afd7] 26564 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:10.400 DEBUG [94e47c09-a25e-4957-b7b0-8f9a1dcc29e3] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:32:10.411 DEBUG [94e47c09-a25e-4957-b7b0-8f9a1dcc29e3] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:32:10.411  INFO [94e47c09-a25e-4957-b7b0-8f9a1dcc29e3] 26564 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:32:10.417  INFO [94e47c09-a25e-4957-b7b0-8f9a1dcc29e3] 26564 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:10.515 DEBUG [ec1105a2-4da2-411a-9a92-49130842ffb0] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:32:10.517 DEBUG [0278edbb-28ff-4831-97ca-a5c34ab6093c] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:32:10.528 DEBUG [0278edbb-28ff-4831-97ca-a5c34ab6093c] 26564 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E07A41747D1AED44BA85DE79AABD2001
2025-05-27 15:32:10.528 DEBUG [ec1105a2-4da2-411a-9a92-49130842ffb0] 26564 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5B3CA9B9706C658BC37C3F2445C50565
2025-05-27 15:32:10.529 DEBUG [0278edbb-28ff-4831-97ca-a5c34ab6093c] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:32:10.531 DEBUG [ec1105a2-4da2-411a-9a92-49130842ffb0] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:32:10.531  INFO [0278edbb-28ff-4831-97ca-a5c34ab6093c] 26564 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:32:10.540  WARN [ec1105a2-4da2-411a-9a92-49130842ffb0] 26564 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:32:10.542  WARN [ec1105a2-4da2-411a-9a92-49130842ffb0] 26564 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:32:10.549  INFO [0278edbb-28ff-4831-97ca-a5c34ab6093c] 26564 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:32:10.558 DEBUG [42ded07f-65ee-4aa4-b59e-4a7dd76364ca] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:32:10.571 DEBUG [42ded07f-65ee-4aa4-b59e-4a7dd76364ca] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:32:10.580  WARN [42ded07f-65ee-4aa4-b59e-4a7dd76364ca] 26564 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:32:10.582  WARN [42ded07f-65ee-4aa4-b59e-4a7dd76364ca] 26564 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:32:10.610 DEBUG [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:32:10.610 DEBUG [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:32:10.611 DEBUG [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5B3CA9B9706C658BC37C3F2445C50565
2025-05-27 15:32:10.612 DEBUG [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:32:10.612  INFO [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:32:10.613  INFO [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:32:10.613  INFO [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:32:10.613  INFO [bf08e699-4646-4c62-bec5-1ede07c551e9] 26564 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:32:10.828 DEBUG [7d2aa1b0-c166-4de6-ac80-18e719058268] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:32:10.840 DEBUG [7d2aa1b0-c166-4de6-ac80-18e719058268] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:32:10.840  INFO [7d2aa1b0-c166-4de6-ac80-18e719058268] 26564 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:32:10.849  INFO [7d2aa1b0-c166-4de6-ac80-18e719058268] 26564 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:11.109 DEBUG [73269645-f769-4a92-bfc0-55e9c1ecd66e] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:32:11.122 DEBUG [73269645-f769-4a92-bfc0-55e9c1ecd66e] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:32:11.123  INFO [73269645-f769-4a92-bfc0-55e9c1ecd66e] 26564 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:32:11.129  INFO [73269645-f769-4a92-bfc0-55e9c1ecd66e] 26564 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:13.136 DEBUG [f19c7629-7418-4862-af6e-9c5ba986619e] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 15:32:13.137 DEBUG [f19c7629-7418-4862-af6e-9c5ba986619e] 26564 --- [nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 15:32:15.695 DEBUG [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:32:15.697 DEBUG [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:32:15.698 DEBUG [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5B3CA9B9706C658BC37C3F2445C50565
2025-05-27 15:32:15.700 DEBUG [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:32:15.701  INFO [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:32:15.701  INFO [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:32:15.701  INFO [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:32:15.702  INFO [cf343b65-0480-45b7-956a-7bac3af4985b] 26564 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:32:15.877 DEBUG [1fa191e8-a25e-4124-bbbb-e9d104be536a] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:32:15.888 DEBUG [1fa191e8-a25e-4124-bbbb-e9d104be536a] 26564 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:32:15.888  INFO [1fa191e8-a25e-4124-bbbb-e9d104be536a] 26564 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:32:15.894  INFO [1fa191e8-a25e-4124-bbbb-e9d104be536a] 26564 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:15.939 DEBUG [42aff097-f6b2-4e48-a97d-83ca2bd33b69] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 15:32:15.939 DEBUG [643f7b0d-eb2a-43f0-bddb-154722ad16d1] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:32:15.955 DEBUG [42aff097-f6b2-4e48-a97d-83ca2bd33b69] 26564 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 15:32:15.956  INFO [42aff097-f6b2-4e48-a97d-83ca2bd33b69] 26564 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 15:32:15.956 DEBUG [643f7b0d-eb2a-43f0-bddb-154722ad16d1] 26564 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:32:15.969  WARN [643f7b0d-eb2a-43f0-bddb-154722ad16d1] 26564 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:32:15.970  WARN [643f7b0d-eb2a-43f0-bddb-154722ad16d1] 26564 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:32:15.978  INFO [42aff097-f6b2-4e48-a97d-83ca2bd33b69] 26564 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 15:32:16.205 DEBUG [c50fdee2-c6d2-456c-b2e0-53b5b1ac4975] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:32:16.214 DEBUG [c50fdee2-c6d2-456c-b2e0-53b5b1ac4975] 26564 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:32:16.215  INFO [c50fdee2-c6d2-456c-b2e0-53b5b1ac4975] 26564 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:32:16.220  INFO [c50fdee2-c6d2-456c-b2e0-53b5b1ac4975] 26564 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:17.675 DEBUG [5c69faa9-fb73-4a2d-9dca-6f2e048d3b2a] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:32:17.685 DEBUG [5c69faa9-fb73-4a2d-9dca-6f2e048d3b2a] 26564 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:32:17.686  INFO [5c69faa9-fb73-4a2d-9dca-6f2e048d3b2a] 26564 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:32:17.690  INFO [5c69faa9-fb73-4a2d-9dca-6f2e048d3b2a] 26564 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:17.713 DEBUG [dc75c115-62cc-448c-9653-8c7fe3af95bc] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:32:17.727 DEBUG [dc75c115-62cc-448c-9653-8c7fe3af95bc] 26564 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:32:17.736  WARN [dc75c115-62cc-448c-9653-8c7fe3af95bc] 26564 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:32:17.737  WARN [dc75c115-62cc-448c-9653-8c7fe3af95bc] 26564 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:32:17.979 DEBUG [a7b40594-b5c5-4906-af37-aefd684b02fb] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:32:17.991 DEBUG [a7b40594-b5c5-4906-af37-aefd684b02fb] 26564 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 15:32:17.992  INFO [a7b40594-b5c5-4906-af37-aefd684b02fb] 26564 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 15:32:17.998  INFO [a7b40594-b5c5-4906-af37-aefd684b02fb] 26564 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 15:32:18.013 DEBUG [8a74fe2c-4346-474c-93fb-469d5ce5db91] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 15:32:18.025 DEBUG [8a74fe2c-4346-474c-93fb-469d5ce5db91] 26564 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 15:32:18.034  WARN [8a74fe2c-4346-474c-93fb-469d5ce5db91] 26564 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 15:32:18.034  WARN [8a74fe2c-4346-474c-93fb-469d5ce5db91] 26564 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 15:32:19.448 DEBUG [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:32:19.451 DEBUG [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:32:19.451 DEBUG [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5B3CA9B9706C658BC37C3F2445C50565
2025-05-27 15:32:19.452 DEBUG [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:32:19.454  INFO [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:32:19.456  INFO [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:32:19.456  INFO [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:32:19.456  INFO [611f9bbc-a512-4c41-b540-be9461bee689] 26564 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:38:52.350  INFO [NONE] 26564 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:38:52.352  INFO [NONE] 26564 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 15:38:52.359  INFO [NONE] 26564 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 15:39:44.461  INFO [NONE] 30076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 30076 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 15:39:44.467 DEBUG [NONE] 30076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 15:39:44.468  INFO [NONE] 30076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 15:39:44.508  INFO [NONE] 30076 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 15:39:44.509  INFO [NONE] 30076 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 15:39:45.579  INFO [NONE] 30076 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 15:39:45.673  INFO [NONE] 30076 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 9 JPA repository interfaces.
2025-05-27 15:39:46.493  INFO [NONE] 30076 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 15:39:46.505  INFO [NONE] 30076 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 15:39:46.506  INFO [NONE] 30076 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 15:39:46.577  INFO [NONE] 30076 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 15:39:46.578  INFO [NONE] 30076 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2068 ms
2025-05-27 15:39:46.852  INFO [NONE] 30076 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 15:39:46.904  INFO [NONE] 30076 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 15:39:46.934  INFO [NONE] 30076 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 15:39:47.131  INFO [NONE] 30076 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 15:39:47.155  INFO [NONE] 30076 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 15:39:47.295  INFO [NONE] 30076 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65b36fac
2025-05-27 15:39:47.297  INFO [NONE] 30076 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 15:39:47.338  WARN [NONE] 30076 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 15:39:48.551  INFO [NONE] 30076 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 15:39:54.950  INFO [NONE] 30076 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:39:55.241  INFO [NONE] 30076 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 15:39:55.649 DEBUG [NONE] 30076 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 15:39:55.650 DEBUG [NONE] 30076 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 15:39:55.861  INFO [NONE] 30076 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 15:39:56.179  INFO [NONE] 30076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 15:39:56.179  WARN [NONE] 30076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 15:39:56.179  WARN [NONE] 30076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 15:39:56.179  WARN [NONE] 30076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 15:39:56.179  WARN [NONE] 30076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 15:39:56.229  WARN [NONE] 30076 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 15:39:56.341  INFO [NONE] 30076 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 15:39:56.616  INFO [NONE] 30076 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 15:39:56.700  INFO [NONE] 30076 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74042f5d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@603ead07, org.springframework.security.web.context.SecurityContextHolderFilter@7941da62, org.springframework.security.web.header.HeaderWriterFilter@512bdac5, org.springframework.web.filter.CorsFilter@7864abf7, org.springframework.security.web.authentication.logout.LogoutFilter@7d7a9f6b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@17caa558, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33c75cbf, org.example.xlr8travel.security.JwtAuthenticationFilter@5dd5d70d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5bb9e2f8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b73572b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@771e3b5d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5566946f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6842c05f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@980efe3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22358c24, org.springframework.security.web.session.SessionManagementFilter@7fd954b5, org.springframework.security.web.access.ExceptionTranslationFilter@4df15fa1, org.springframework.security.web.access.intercept.AuthorizationFilter@53ac34f]
2025-05-27 15:39:57.225  INFO [NONE] 30076 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 15:39:57.291  INFO [NONE] 30076 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 15:39:57.303  INFO [NONE] 30076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 13.289 seconds (process running for 13.808)
2025-05-27 15:44:13.227  INFO [NONE] 30076 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 15:44:13.228  INFO [NONE] 30076 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 15:44:13.238  INFO [NONE] 30076 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-05-27 15:44:13.272 DEBUG [ad0d1d24-8c70-49bd-a5ef-a039b981ae7b] 30076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:44:13.458 ERROR [ad0d1d24-8c70-49bd-a5ef-a039b981ae7b] 30076 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 15:44:13.463 DEBUG [ad0d1d24-8c70-49bd-a5ef-a039b981ae7b] 30076 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:13.471  WARN [ad0d1d24-8c70-49bd-a5ef-a039b981ae7b] 30076 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 15:44:13.496 DEBUG [ad0d1d24-8c70-49bd-a5ef-a039b981ae7b] 30076 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:44:13.497 DEBUG [ad0d1d24-8c70-49bd-a5ef-a039b981ae7b] 30076 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@7ba3e682
2025-05-27 15:44:13.889 DEBUG [7d133cb6-6fc3-497a-af45-b6e3c5a28ae0] 30076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:44:13.890 DEBUG [7d133cb6-6fc3-497a-af45-b6e3c5a28ae0] 30076 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:13.894 DEBUG [7d133cb6-6fc3-497a-af45-b6e3c5a28ae0] 30076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:44:13.908 DEBUG [0b45eca1-f085-46e2-8442-118e45718f8c] 30076 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:44:13.921 ERROR [0b45eca1-f085-46e2-8442-118e45718f8c] 30076 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 15:44:13.922 DEBUG [0b45eca1-f085-46e2-8442-118e45718f8c] 30076 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:13.925 DEBUG [0b45eca1-f085-46e2-8442-118e45718f8c] 30076 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:44:13.926 DEBUG [0b45eca1-f085-46e2-8442-118e45718f8c] 30076 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@7ba3e682
2025-05-27 15:44:14.000  INFO [7d133cb6-6fc3-497a-af45-b6e3c5a28ae0] 30076 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:44:14.222 DEBUG [a09462e9-bc23-448b-ad16-bd9eab66b907] 30076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:44:14.223 DEBUG [a09462e9-bc23-448b-ad16-bd9eab66b907] 30076 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:14.225 DEBUG [a09462e9-bc23-448b-ad16-bd9eab66b907] 30076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:44:14.234  INFO [a09462e9-bc23-448b-ad16-bd9eab66b907] 30076 --- [nio-8080-exec-4] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:44:24.808 DEBUG [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:44:24.820 ERROR [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 15:44:24.822 DEBUG [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:24.822 DEBUG [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5B3CA9B9706C658BC37C3F2445C50565
2025-05-27 15:44:24.824 DEBUG [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:44:24.831  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:44:24.831  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:44:24.832  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:44:24.832  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 15:44:24.832  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 15:44:24.910  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 15:44:24.911  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 15:44:24.911  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 15:44:24.911  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 15:44:24.912  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 15:44:24.913  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 15:44:24.913  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 15:44:24.913  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 15:44:24.913  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 15:44:24.913  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 15:44:24.914  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 15:44:24.914  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 15:44:24.914  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 15:44:24.914  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 15:44:24.915  INFO [c08bec84-68db-47a8-bb1e-01999a80964f] 30076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 15:44:26.526 DEBUG [439b3e19-01b3-4303-9983-d62e191a3ad3] 30076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:44:26.537 ERROR [439b3e19-01b3-4303-9983-d62e191a3ad3] 30076 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:44:26.539 DEBUG [439b3e19-01b3-4303-9983-d62e191a3ad3] 30076 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:26.542 DEBUG [439b3e19-01b3-4303-9983-d62e191a3ad3] 30076 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:44:26.542 DEBUG [439b3e19-01b3-4303-9983-d62e191a3ad3] 30076 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@7ba3e682
2025-05-27 15:44:26.871 DEBUG [eff779e1-854d-4e62-9c21-6a0b07835f05] 30076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:44:26.872 DEBUG [eff779e1-854d-4e62-9c21-6a0b07835f05] 30076 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:26.873 DEBUG [eff779e1-854d-4e62-9c21-6a0b07835f05] 30076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:44:26.877  INFO [eff779e1-854d-4e62-9c21-6a0b07835f05] 30076 --- [nio-8080-exec-7] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:44:27.060 DEBUG [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:44:27.075 ERROR [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 15:44:27.077 DEBUG [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:27.077 DEBUG [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5B3CA9B9706C658BC37C3F2445C50565
2025-05-27 15:44:27.079 DEBUG [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:44:27.080  INFO [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:44:27.081  INFO [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:44:27.081  INFO [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:44:27.081  INFO [4c886fd0-7166-420f-a204-258f2007f141] 30076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:44:28.083 DEBUG [1649926b-2171-416d-a6a0-0a36196c8ef7] 30076 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:44:28.111 DEBUG [1649926b-2171-416d-a6a0-0a36196c8ef7] 30076 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=oEAW9gSwzwDitodWXzLw61jek8z1c536AEtdjc_mD_w%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:44:29.904 DEBUG [cba5dfde-4421-4f36-8cfd-63d65c642632] 30076 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=oEAW9gSwzwDitodWXzLw61jek8z1c536AEtdjc_mD_w%3D&code=4%2F0AUJR-x70sVl_hhXjgwhaudsrV0CGBDeNI13UnWjnLfJVoPy_f1wFdpymbbETtkvp8DskJQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:44:30.354  INFO [cba5dfde-4421-4f36-8cfd-63d65c642632] 30076 --- [io-8080-exec-10] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 15:44:30.429  INFO [cba5dfde-4421-4f36-8cfd-63d65c642632] 30076 --- [io-8080-exec-10] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 15:44:30.431 DEBUG [cba5dfde-4421-4f36-8cfd-63d65c642632] 30076 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 282ABB8F458E85768BEAAFC0452338DA
2025-05-27 15:44:30.431 DEBUG [cba5dfde-4421-4f36-8cfd-63d65c642632] 30076 --- [io-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=282ABB8F458E85768BEAAFC0452338DA], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:44:30.435 DEBUG [cba5dfde-4421-4f36-8cfd-63d65c642632] 30076 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:44:31.256 DEBUG [c1d1eb5c-e45f-4d34-82d4-9855cbdd5327] 30076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:44:31.265 ERROR [c1d1eb5c-e45f-4d34-82d4-9855cbdd5327] 30076 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:44:31.266 DEBUG [c1d1eb5c-e45f-4d34-82d4-9855cbdd5327] 30076 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:31.268 DEBUG [c1d1eb5c-e45f-4d34-82d4-9855cbdd5327] 30076 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:44:31.268 DEBUG [c1d1eb5c-e45f-4d34-82d4-9855cbdd5327] 30076 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@7ba3e682
2025-05-27 15:44:31.504 DEBUG [f7cd620d-e7ed-43cd-ab7e-fb162df20c9a] 30076 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:44:31.505 DEBUG [f7cd620d-e7ed-43cd-ab7e-fb162df20c9a] 30076 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:44:31.506 DEBUG [f7cd620d-e7ed-43cd-ab7e-fb162df20c9a] 30076 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:44:31.511  INFO [f7cd620d-e7ed-43cd-ab7e-fb162df20c9a] 30076 --- [nio-8080-exec-3] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:44:31.681 DEBUG [d7a188a4-93cd-4698-9c4b-b8ac520f31af] 30076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:44:31.718 DEBUG [d7a188a4-93cd-4698-9c4b-b8ac520f31af] 30076 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 953D1F15FE5683E2AE3B530A3BB6DB40
2025-05-27 15:44:31.720 DEBUG [d7a188a4-93cd-4698-9c4b-b8ac520f31af] 30076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:44:31.721  INFO [d7a188a4-93cd-4698-9c4b-b8ac520f31af] 30076 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:44:31.721  INFO [d7a188a4-93cd-4698-9c4b-b8ac520f31af] 30076 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:44:31.721  INFO [d7a188a4-93cd-4698-9c4b-b8ac520f31af] 30076 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:44:31.721  INFO [d7a188a4-93cd-4698-9c4b-b8ac520f31af] 30076 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:44:54.150 DEBUG [5756d3c5-511b-4fe4-ac12-023909998cfb] 30076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:44:54.151 DEBUG [5756d3c5-511b-4fe4-ac12-023909998cfb] 30076 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=Ye_2szNoIQw-4WoFm85odF5FvhswF958ErxKA5ozqDY%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:45:04.050 DEBUG [bc1a774c-a2c1-42f5-9b14-65ebdcb54b71] 30076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=Ye_2szNoIQw-4WoFm85odF5FvhswF958ErxKA5ozqDY%3D&code=4%2F0AUJR-x6eFqUc7qBMqoVxztmCFBtUs9L-_971WJ0j3XdtTgMfILIs208M6i_W3178is08lg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 15:45:04.325  INFO [bc1a774c-a2c1-42f5-9b14-65ebdcb54b71] 30076 --- [nio-8080-exec-6] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:45:04.344 DEBUG [bc1a774c-a2c1-42f5-9b14-65ebdcb54b71] 30076 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C7882D6C5B24696739D3D6574AD6BAB1
2025-05-27 15:45:04.345 DEBUG [bc1a774c-a2c1-42f5-9b14-65ebdcb54b71] 30076 --- [nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C7882D6C5B24696739D3D6574AD6BAB1], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:45:04.348 DEBUG [bc1a774c-a2c1-42f5-9b14-65ebdcb54b71] 30076 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:45:05.731 DEBUG [6a396af2-8a27-414a-9ade-2046104e0439] 30076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:45:05.743 ERROR [6a396af2-8a27-414a-9ade-2046104e0439] 30076 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:45:05.743 DEBUG [6a396af2-8a27-414a-9ade-2046104e0439] 30076 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:45:05.746 DEBUG [6a396af2-8a27-414a-9ade-2046104e0439] 30076 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:45:05.746 DEBUG [6a396af2-8a27-414a-9ade-2046104e0439] 30076 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@7ba3e682
2025-05-27 15:45:06.094 DEBUG [f07e8b6d-088f-4071-9f2d-156e300e2775] 30076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:45:06.096 DEBUG [f07e8b6d-088f-4071-9f2d-156e300e2775] 30076 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:45:06.098 DEBUG [f07e8b6d-088f-4071-9f2d-156e300e2775] 30076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:45:06.106  INFO [f07e8b6d-088f-4071-9f2d-156e300e2775] 30076 --- [nio-8080-exec-8] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:45:06.501 DEBUG [8f200345-7df6-40fc-8c27-4150e94f673e] 30076 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:45:06.525 DEBUG [8f200345-7df6-40fc-8c27-4150e94f673e] 30076 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3FD4E4C73CBC514D5AB474ACC66487EB
2025-05-27 15:45:06.527 DEBUG [8f200345-7df6-40fc-8c27-4150e94f673e] 30076 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:45:06.528  INFO [8f200345-7df6-40fc-8c27-4150e94f673e] 30076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:45:06.529  INFO [8f200345-7df6-40fc-8c27-4150e94f673e] 30076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:45:06.530  INFO [8f200345-7df6-40fc-8c27-4150e94f673e] 30076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:45:06.530  INFO [8f200345-7df6-40fc-8c27-4150e94f673e] 30076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:46:08.336 DEBUG [fb39b44c-41c8-46d9-8cfc-afcf4c63c3b4] 30076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:46:08.337 DEBUG [fb39b44c-41c8-46d9-8cfc-afcf4c63c3b4] 30076 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=jat8LLil8Kbwb4ljANz94zaTzwcX5kDOiMR48ojQb6M%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:46:12.567 DEBUG [b9f6a91d-21cb-4c5b-a859-5d02523e1b26] 30076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=jat8LLil8Kbwb4ljANz94zaTzwcX5kDOiMR48ojQb6M%3D&code=4%2F0AUJR-x7JXTRPvl_2Q4qgQVEq8rrobM17QKrO55rvg2B6YZrAVxh4RvsWmRIEiJv58T-nzQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:46:12.838  INFO [b9f6a91d-21cb-4c5b-a859-5d02523e1b26] 30076 --- [nio-8080-exec-4] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:46:12.855 DEBUG [b9f6a91d-21cb-4c5b-a859-5d02523e1b26] 30076 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 69DC62D1A9E996560E2E5C2075BA0527
2025-05-27 15:46:12.856 DEBUG [b9f6a91d-21cb-4c5b-a859-5d02523e1b26] 30076 --- [nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=69DC62D1A9E996560E2E5C2075BA0527], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:46:12.858 DEBUG [b9f6a91d-21cb-4c5b-a859-5d02523e1b26] 30076 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:46:14.087 DEBUG [7a4fe2f7-24da-43d4-895f-6110f3431de5] 30076 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:46:14.100 ERROR [7a4fe2f7-24da-43d4-895f-6110f3431de5] 30076 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:46:14.101 DEBUG [7a4fe2f7-24da-43d4-895f-6110f3431de5] 30076 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:46:14.103 DEBUG [7a4fe2f7-24da-43d4-895f-6110f3431de5] 30076 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:46:14.109 DEBUG [7a4fe2f7-24da-43d4-895f-6110f3431de5] 30076 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@7ba3e682
2025-05-27 15:46:14.412 DEBUG [184cbc0c-994a-475f-a8ff-adc501ac990f] 30076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:46:14.413 DEBUG [184cbc0c-994a-475f-a8ff-adc501ac990f] 30076 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:46:14.414 DEBUG [184cbc0c-994a-475f-a8ff-adc501ac990f] 30076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:46:14.420  INFO [184cbc0c-994a-475f-a8ff-adc501ac990f] 30076 --- [nio-8080-exec-6] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:46:14.819 DEBUG [55ea1423-8a6c-463a-9c55-ffc11cad25b0] 30076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:46:14.836 DEBUG [55ea1423-8a6c-463a-9c55-ffc11cad25b0] 30076 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 86BFBB40848CA6CE8CFF9D0F6F06EE98
2025-05-27 15:46:14.837 DEBUG [55ea1423-8a6c-463a-9c55-ffc11cad25b0] 30076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:46:14.838  INFO [55ea1423-8a6c-463a-9c55-ffc11cad25b0] 30076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:46:14.839  INFO [55ea1423-8a6c-463a-9c55-ffc11cad25b0] 30076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:46:14.839  INFO [55ea1423-8a6c-463a-9c55-ffc11cad25b0] 30076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:46:14.839  INFO [55ea1423-8a6c-463a-9c55-ffc11cad25b0] 30076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:53:28.432  INFO [NONE] 30076 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:53:28.436  INFO [NONE] 30076 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 15:53:28.449  INFO [NONE] 30076 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 15:53:40.935  INFO [NONE] 31680 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 31680 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 15:53:40.939 DEBUG [NONE] 31680 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 15:53:40.940  INFO [NONE] 31680 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 15:53:40.975  INFO [NONE] 31680 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 15:53:40.976  INFO [NONE] 31680 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 15:53:41.812  INFO [NONE] 31680 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 15:53:41.889  INFO [NONE] 31680 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 9 JPA repository interfaces.
2025-05-27 15:53:42.538  INFO [NONE] 31680 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 15:53:42.548  INFO [NONE] 31680 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 15:53:42.548  INFO [NONE] 31680 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 15:53:42.611  INFO [NONE] 31680 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 15:53:42.612  INFO [NONE] 31680 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1636 ms
2025-05-27 15:53:42.837  INFO [NONE] 31680 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 15:53:42.886  INFO [NONE] 31680 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 15:53:42.920  INFO [NONE] 31680 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 15:53:43.107  INFO [NONE] 31680 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 15:53:43.129  INFO [NONE] 31680 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 15:53:43.258  INFO [NONE] 31680 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e31be2c
2025-05-27 15:53:43.260  INFO [NONE] 31680 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 15:53:43.301  WARN [NONE] 31680 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 15:53:44.326  INFO [NONE] 31680 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 15:53:51.054  INFO [NONE] 31680 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:53:51.340  INFO [NONE] 31680 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 15:53:51.711 DEBUG [NONE] 31680 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 15:53:51.713 DEBUG [NONE] 31680 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 15:53:51.898  INFO [NONE] 31680 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 15:53:52.209  INFO [NONE] 31680 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 15:53:52.210  WARN [NONE] 31680 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 15:53:52.210  WARN [NONE] 31680 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 15:53:52.210  WARN [NONE] 31680 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 15:53:52.210  WARN [NONE] 31680 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 15:53:52.253  WARN [NONE] 31680 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 15:53:52.359  INFO [NONE] 31680 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 15:53:52.636  INFO [NONE] 31680 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 15:53:52.747  INFO [NONE] 31680 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6be64567, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75d30afc, org.springframework.security.web.context.SecurityContextHolderFilter@15dfcf20, org.springframework.security.web.header.HeaderWriterFilter@10232b1a, org.springframework.web.filter.CorsFilter@34dda74c, org.springframework.security.web.authentication.logout.LogoutFilter@64e59f9f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4f95b12, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f5b62c6, org.example.xlr8travel.security.JwtAuthenticationFilter@4524941, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e3091e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6c370cfa, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@44f783f6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1324e9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77f9d03e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@504e259e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1de32b72, org.springframework.security.web.session.SessionManagementFilter@52cd7525, org.springframework.security.web.access.ExceptionTranslationFilter@342833b5, org.springframework.security.web.access.intercept.AuthorizationFilter@4df15fa1]
2025-05-27 15:53:53.240  INFO [NONE] 31680 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 15:53:53.298  INFO [NONE] 31680 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 15:53:53.310  INFO [NONE] 31680 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 12.772 seconds (process running for 13.252)
2025-05-27 15:53:57.344  INFO [NONE] 31680 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 15:53:57.344  INFO [NONE] 31680 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 15:53:57.346  INFO [NONE] 31680 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 15:53:57.368 DEBUG [5bf93334-66c8-4f86-8f7a-43afcfba5dab] 31680 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:53:57.506 ERROR [5bf93334-66c8-4f86-8f7a-43afcfba5dab] 31680 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:53:57.510 DEBUG [5bf93334-66c8-4f86-8f7a-43afcfba5dab] 31680 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:53:57.515  WARN [5bf93334-66c8-4f86-8f7a-43afcfba5dab] 31680 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 15:53:57.534 DEBUG [5bf93334-66c8-4f86-8f7a-43afcfba5dab] 31680 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:53:57.534 DEBUG [5bf93334-66c8-4f86-8f7a-43afcfba5dab] 31680 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4e9f3de8
2025-05-27 15:53:57.764 DEBUG [92f17bdf-a16d-4db4-88ce-d395b4cddc44] 31680 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:53:57.766 DEBUG [92f17bdf-a16d-4db4-88ce-d395b4cddc44] 31680 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:53:57.769 DEBUG [92f17bdf-a16d-4db4-88ce-d395b4cddc44] 31680 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:53:57.855  INFO [92f17bdf-a16d-4db4-88ce-d395b4cddc44] 31680 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:53:58.482 DEBUG [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:53:58.493 ERROR [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 15:53:58.494 DEBUG [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:53:58.497 DEBUG [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:53:58.504  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:53:58.504  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:53:58.504  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:53:58.505  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 15:53:58.506  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 15:53:58.575  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 15:53:58.576  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 15:53:58.576  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 15:53:58.577  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 15:53:58.577  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 15:53:58.577  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 15:53:58.578  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 15:53:58.578  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 15:53:58.578  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 15:53:58.578  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 15:53:58.578  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 15:53:58.578  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 15:53:58.579  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 15:53:58.579  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 15:53:58.580  INFO [8f1fa341-e42d-4688-90d4-30de7890dd1f] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 15:53:59.045 DEBUG [00b04a46-ad10-4ffb-a00e-762b3ad781f3] 31680 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:53:59.060 DEBUG [00b04a46-ad10-4ffb-a00e-762b3ad781f3] 31680 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=ZMCpcaiUBbE67UT4GysiCzgoxd7e6zP3FT_VbT6M0H8%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:54:00.827 DEBUG [1ffddbbb-21ff-47eb-826d-ef8533cce8e8] 31680 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=ZMCpcaiUBbE67UT4GysiCzgoxd7e6zP3FT_VbT6M0H8%3D&code=4%2F0AUJR-x5pDUG0qCvjlcJoQO0EnAkPb-kGv3_EGiiQm3Pe-BNBY32VrYT2R1FVZQ4H2mvH-w&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 15:54:01.303  INFO [1ffddbbb-21ff-47eb-826d-ef8533cce8e8] 31680 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 15:54:01.389  INFO [1ffddbbb-21ff-47eb-826d-ef8533cce8e8] 31680 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 15:54:01.399 DEBUG [1ffddbbb-21ff-47eb-826d-ef8533cce8e8] 31680 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CFB8C169B7CE16DC2999CC1FE661779B
2025-05-27 15:54:01.400 DEBUG [1ffddbbb-21ff-47eb-826d-ef8533cce8e8] 31680 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CFB8C169B7CE16DC2999CC1FE661779B], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:54:01.405 DEBUG [1ffddbbb-21ff-47eb-826d-ef8533cce8e8] 31680 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:54:02.273 DEBUG [34a404c0-1762-44aa-8878-c1a23fd9f9d8] 31680 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:54:02.282 ERROR [34a404c0-1762-44aa-8878-c1a23fd9f9d8] 31680 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:54:02.283 DEBUG [34a404c0-1762-44aa-8878-c1a23fd9f9d8] 31680 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:54:02.285 DEBUG [34a404c0-1762-44aa-8878-c1a23fd9f9d8] 31680 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:54:02.286 DEBUG [34a404c0-1762-44aa-8878-c1a23fd9f9d8] 31680 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4e9f3de8
2025-05-27 15:54:02.509 DEBUG [a7f45efc-7d16-413a-97ab-9aea21185fe7] 31680 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:54:02.510 DEBUG [a7f45efc-7d16-413a-97ab-9aea21185fe7] 31680 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:54:02.511 DEBUG [a7f45efc-7d16-413a-97ab-9aea21185fe7] 31680 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:54:02.516  INFO [a7f45efc-7d16-413a-97ab-9aea21185fe7] 31680 --- [nio-8080-exec-7] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:54:03.144 DEBUG [a4060a1e-9643-4cf8-b9af-729fa3ed0ade] 31680 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:54:03.157 DEBUG [a4060a1e-9643-4cf8-b9af-729fa3ed0ade] 31680 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B3F3E3D1C15BF5B7B3F3A0F82B022E52
2025-05-27 15:54:03.160 DEBUG [a4060a1e-9643-4cf8-b9af-729fa3ed0ade] 31680 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:54:03.161  INFO [a4060a1e-9643-4cf8-b9af-729fa3ed0ade] 31680 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:54:03.161  INFO [a4060a1e-9643-4cf8-b9af-729fa3ed0ade] 31680 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:54:03.162  INFO [a4060a1e-9643-4cf8-b9af-729fa3ed0ade] 31680 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:54:03.162  INFO [a4060a1e-9643-4cf8-b9af-729fa3ed0ade] 31680 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 15:54:42.971 DEBUG [05a29cef-f39d-44c4-89b5-ad579fc7bfbf] 31680 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 15:54:42.973 DEBUG [05a29cef-f39d-44c4-89b5-ad579fc7bfbf] 31680 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=Bbbcah4lapNoFgfabLv6qX-yJOBpp9bQI2_BJDYtNEw%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 15:54:44.760 DEBUG [baf3966b-6134-4915-af13-fbc25aca07a8] 31680 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=Bbbcah4lapNoFgfabLv6qX-yJOBpp9bQI2_BJDYtNEw%3D&code=4%2F0AUJR-x7tVymQiXWcE4ile1Shjp8BGK7Epvj-0JUFt6n0KH7I3rgOLRcjSLeReaIgENSj8g&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 15:54:45.014  INFO [baf3966b-6134-4915-af13-fbc25aca07a8] 31680 --- [io-8080-exec-10] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 15:54:45.032 DEBUG [baf3966b-6134-4915-af13-fbc25aca07a8] 31680 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B779F4A1D0C4FAF2C53975FF5F3A2B38
2025-05-27 15:54:45.033 DEBUG [baf3966b-6134-4915-af13-fbc25aca07a8] 31680 --- [io-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B779F4A1D0C4FAF2C53975FF5F3A2B38], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 15:54:45.035 DEBUG [baf3966b-6134-4915-af13-fbc25aca07a8] 31680 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=complete
2025-05-27 15:54:45.985 DEBUG [bca8e1e3-16b1-4b39-a109-4a80951322f5] 31680 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 15:54:45.999 ERROR [bca8e1e3-16b1-4b39-a109-4a80951322f5] 31680 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 15:54:45.999 DEBUG [bca8e1e3-16b1-4b39-a109-4a80951322f5] 31680 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:54:46.002 DEBUG [bca8e1e3-16b1-4b39-a109-4a80951322f5] 31680 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 15:54:46.003 DEBUG [bca8e1e3-16b1-4b39-a109-4a80951322f5] 31680 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4e9f3de8
2025-05-27 15:54:46.262 DEBUG [ec4f2439-040c-466f-a6ed-3950b434a500] 31680 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 15:54:46.263 DEBUG [ec4f2439-040c-466f-a6ed-3950b434a500] 31680 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 15:54:46.264 DEBUG [ec4f2439-040c-466f-a6ed-3950b434a500] 31680 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 15:54:46.268  INFO [ec4f2439-040c-466f-a6ed-3950b434a500] 31680 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 15:54:46.450 DEBUG [80fccd5c-ba25-4c71-a294-d66cb50debfd] 31680 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 15:54:46.472 DEBUG [80fccd5c-ba25-4c71-a294-d66cb50debfd] 31680 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 51BF92C80CA821936E734743E64F20D2
2025-05-27 15:54:46.474 DEBUG [80fccd5c-ba25-4c71-a294-d66cb50debfd] 31680 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 15:54:46.475  INFO [80fccd5c-ba25-4c71-a294-d66cb50debfd] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 15:54:46.475  INFO [80fccd5c-ba25-4c71-a294-d66cb50debfd] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 15:54:46.476  INFO [80fccd5c-ba25-4c71-a294-d66cb50debfd] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 15:54:46.476  INFO [80fccd5c-ba25-4c71-a294-d66cb50debfd] 31680 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:05:24.528 DEBUG [4f53640d-00b0-4798-ad93-8df474b43d6c] 31680 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:05:24.542 ERROR [4f53640d-00b0-4798-ad93-8df474b43d6c] 31680 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:05:24.543 DEBUG [4f53640d-00b0-4798-ad93-8df474b43d6c] 31680 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:05:24.547 DEBUG [4f53640d-00b0-4798-ad93-8df474b43d6c] 31680 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:05:24.547 DEBUG [4f53640d-00b0-4798-ad93-8df474b43d6c] 31680 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4e9f3de8
2025-05-27 16:05:24.848 DEBUG [f55f9ab8-f870-4aea-9059-7204548ecbfd] 31680 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:05:24.855 DEBUG [6e6b5848-b012-4300-92f3-7ee63c3928fe] 31680 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 16:05:24.856 DEBUG [6e6b5848-b012-4300-92f3-7ee63c3928fe] 31680 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:05:24.856 ERROR [f55f9ab8-f870-4aea-9059-7204548ecbfd] 31680 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:05:24.857 DEBUG [6e6b5848-b012-4300-92f3-7ee63c3928fe] 31680 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 16:05:24.857 DEBUG [f55f9ab8-f870-4aea-9059-7204548ecbfd] 31680 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:05:24.858 DEBUG [f55f9ab8-f870-4aea-9059-7204548ecbfd] 31680 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:05:24.859 DEBUG [f55f9ab8-f870-4aea-9059-7204548ecbfd] 31680 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4e9f3de8
2025-05-27 16:05:24.861  INFO [6e6b5848-b012-4300-92f3-7ee63c3928fe] 31680 --- [nio-8080-exec-8] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 16:05:25.136 DEBUG [601a0ec4-1a44-46bb-a3e5-16046cc45ec4] 31680 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 16:05:25.136 DEBUG [601a0ec4-1a44-46bb-a3e5-16046cc45ec4] 31680 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:05:25.138 DEBUG [601a0ec4-1a44-46bb-a3e5-16046cc45ec4] 31680 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 16:05:25.143  INFO [601a0ec4-1a44-46bb-a3e5-16046cc45ec4] 31680 --- [nio-8080-exec-9] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 16:05:42.402 DEBUG [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:05:42.417 DEBUG [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 99DCE5813ED3C80A6F8E330B6A8CE923
2025-05-27 16:05:42.419 DEBUG [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:05:42.420  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:05:42.420  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:05:42.420  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:05:42.420  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:05:42.421  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:05:42.480  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:05:42.481  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:05:42.481  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:05:42.481  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:05:42.481  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:05:42.481  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:05:42.481  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:05:42.482  INFO [3fc70108-d851-48f0-b7f9-eab0620ab60c] 31680 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:05:58.421  INFO [NONE] 31680 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:05:58.424  INFO [NONE] 31680 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 16:05:58.431  INFO [NONE] 31680 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 16:06:13.814  INFO [NONE] 28700 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 28700 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 16:06:13.821 DEBUG [NONE] 28700 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 16:06:13.823  INFO [NONE] 28700 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 16:06:13.877  INFO [NONE] 28700 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 16:06:13.878  INFO [NONE] 28700 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 16:06:14.809  INFO [NONE] 28700 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:06:14.885  INFO [NONE] 28700 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69 ms. Found 9 JPA repository interfaces.
2025-05-27 16:06:15.598  INFO [NONE] 28700 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 16:06:15.608  INFO [NONE] 28700 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 16:06:15.609  INFO [NONE] 28700 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 16:06:15.674  INFO [NONE] 28700 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 16:06:15.675  INFO [NONE] 28700 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1795 ms
2025-05-27 16:06:15.944  INFO [NONE] 28700 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:06:15.997  INFO [NONE] 28700 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 16:06:16.028  INFO [NONE] 28700 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 16:06:16.247  INFO [NONE] 28700 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:06:16.273  INFO [NONE] 28700 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 16:06:16.421  INFO [NONE] 28700 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@755c2419
2025-05-27 16:06:16.422  INFO [NONE] 28700 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 16:06:16.465  WARN [NONE] 28700 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:06:17.703  INFO [NONE] 28700 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:06:24.673  INFO [NONE] 28700 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:06:24.993  INFO [NONE] 28700 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 16:06:25.378 DEBUG [NONE] 28700 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 16:06:25.379 DEBUG [NONE] 28700 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 16:06:25.547  INFO [NONE] 28700 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 16:06:25.875  INFO [NONE] 28700 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 16:06:25.875  WARN [NONE] 28700 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 16:06:25.876  WARN [NONE] 28700 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 16:06:25.876  WARN [NONE] 28700 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 16:06:25.876  WARN [NONE] 28700 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 16:06:25.938  WARN [NONE] 28700 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:06:26.055  INFO [NONE] 28700 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 16:06:26.345  INFO [NONE] 28700 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 16:06:26.434  INFO [NONE] 28700 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@617bc3e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@285e3a97, org.springframework.security.web.context.SecurityContextHolderFilter@29ab96a1, org.springframework.security.web.header.HeaderWriterFilter@243f6423, org.springframework.web.filter.CorsFilter@7bada468, org.springframework.security.web.authentication.logout.LogoutFilter@42f6fb09, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4ee281b6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@661e9c57, org.example.xlr8travel.security.JwtAuthenticationFilter@4f7e4819, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7c26b956, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1fbc8934, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@13f6c503, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6842c05f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a39e8bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76eb9b29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cad4861, org.springframework.security.web.session.SessionManagementFilter@15d2f122, org.springframework.security.web.access.ExceptionTranslationFilter@6b1bb9f9, org.springframework.security.web.access.intercept.AuthorizationFilter@1de32b72]
2025-05-27 16:06:26.934  INFO [NONE] 28700 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 16:06:27.012  INFO [NONE] 28700 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 16:06:27.026  INFO [NONE] 28700 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 13.839 seconds (process running for 14.37)
2025-05-27 16:06:37.782  INFO [NONE] 28700 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:06:37.783  INFO [NONE] 28700 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 16:06:37.785  INFO [NONE] 28700 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 16:06:37.803 DEBUG [8331fbba-0965-4ee4-8f16-6d5df32c3ffb] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:37.916 ERROR [8331fbba-0965-4ee4-8f16-6d5df32c3ffb] 28700 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:37.919 DEBUG [8331fbba-0965-4ee4-8f16-6d5df32c3ffb] 28700 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:37.923  WARN [8331fbba-0965-4ee4-8f16-6d5df32c3ffb] 28700 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 16:06:37.938 DEBUG [8331fbba-0965-4ee4-8f16-6d5df32c3ffb] 28700 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:37.939 DEBUG [8331fbba-0965-4ee4-8f16-6d5df32c3ffb] 28700 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:38.176 DEBUG [c76f7085-3c33-4240-9bae-bfd32c0a2340] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 16:06:38.178 DEBUG [c76f7085-3c33-4240-9bae-bfd32c0a2340] 28700 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:38.181 DEBUG [c76f7085-3c33-4240-9bae-bfd32c0a2340] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 16:06:38.271  INFO [c76f7085-3c33-4240-9bae-bfd32c0a2340] 28700 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 16:06:38.462 DEBUG [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:06:38.474 ERROR [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:06:38.476 DEBUG [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:38.479 DEBUG [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:06:38.486  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:06:38.487  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:06:38.487  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:06:38.487  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:06:38.487  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:06:38.558  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:06:38.558  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:06:38.560  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:06:38.560  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:06:38.560  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:06:38.561  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:06:38.561  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:06:38.561  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:06:38.561  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:06:38.562  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:06:38.562  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:06:38.562  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:06:38.562  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:06:38.562  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:06:38.563  INFO [5e71df4a-048c-4af8-8fdc-ffe14628409a] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:06:40.276 DEBUG [a7dee6ce-85bd-4a64-afd6-6739f034ac3e] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:06:40.294 DEBUG [a7dee6ce-85bd-4a64-afd6-6739f034ac3e] 28700 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=Vc-G2zFHE_Z0IGQGOXQqeKV0CimIh0pI_C3nuBv-eMM%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:06:42.353 DEBUG [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=Vc-G2zFHE_Z0IGQGOXQqeKV0CimIh0pI_C3nuBv-eMM%3D&code=4%2F0AUJR-x5EV_lPnzHTgS2sWHzyc_iNGPVctf3t2E2fKmlIDNaTCanJBh9P_AyAUo1knm5_wA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 16:06:42.862  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 16:06:42.942  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 16:06:42.950 DEBUG [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E22DE39EAFC28354669B51044BB44155
2025-05-27 16:06:42.951 DEBUG [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E22DE39EAFC28354669B51044BB44155], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:06:42.953  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:06:42.954  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:06:42.954  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:06:42.954  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:06:42.954  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:06:42.955  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:06:42.956  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:06:42.956  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:06:42.956  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:06:42.956  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:06:42.957  INFO [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:06:42.957 DEBUG [5b15095e-ab42-478d-9499-7181a39bc151] 28700 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:06:43.891 DEBUG [3950fb6c-0b76-4299-a076-b2b0bd0add04] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:43.902 ERROR [3950fb6c-0b76-4299-a076-b2b0bd0add04] 28700 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:43.902 DEBUG [3950fb6c-0b76-4299-a076-b2b0bd0add04] 28700 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:43.905 DEBUG [3950fb6c-0b76-4299-a076-b2b0bd0add04] 28700 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:43.905 DEBUG [3950fb6c-0b76-4299-a076-b2b0bd0add04] 28700 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:44.131 DEBUG [9226ed24-3ee0-4bb1-adea-2648bef21820] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 16:06:44.132 DEBUG [9226ed24-3ee0-4bb1-adea-2648bef21820] 28700 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:44.133 DEBUG [9226ed24-3ee0-4bb1-adea-2648bef21820] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 16:06:44.138  INFO [9226ed24-3ee0-4bb1-adea-2648bef21820] 28700 --- [nio-8080-exec-7] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 16:06:44.228 DEBUG [d603950b-c1ee-48fc-9986-a64a64ca52d9] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:06:44.229 DEBUG [09dd6c6e-09f7-4364-af99-7e2935de17da] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:06:44.244 DEBUG [d603950b-c1ee-48fc-9986-a64a64ca52d9] 28700 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5B2418E5B76D164200F32B367EF5C223
2025-05-27 16:06:44.248 DEBUG [d603950b-c1ee-48fc-9986-a64a64ca52d9] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:06:44.248 DEBUG [09dd6c6e-09f7-4364-af99-7e2935de17da] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:06:44.251  INFO [d603950b-c1ee-48fc-9986-a64a64ca52d9] 28700 --- [nio-8080-exec-8] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:06:44.251  INFO [09dd6c6e-09f7-4364-af99-7e2935de17da] 28700 --- [nio-8080-exec-9] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:06:44.310 DEBUG [ba8ed5d6-aa56-4780-a03b-3e0923852672] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:06:44.335 DEBUG [ba8ed5d6-aa56-4780-a03b-3e0923852672] 28700 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5F19B75591029698B1C97CE790DBED28
2025-05-27 16:06:44.337 DEBUG [ba8ed5d6-aa56-4780-a03b-3e0923852672] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:06:44.339  INFO [ba8ed5d6-aa56-4780-a03b-3e0923852672] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:06:44.339  INFO [ba8ed5d6-aa56-4780-a03b-3e0923852672] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:06:44.339  INFO [ba8ed5d6-aa56-4780-a03b-3e0923852672] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:06:44.340  INFO [ba8ed5d6-aa56-4780-a03b-3e0923852672] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:06:44.593 DEBUG [f6fc6070-39ba-466e-8481-b3da43d2ae91] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:44.608 DEBUG [f6fc6070-39ba-466e-8481-b3da43d2ae91] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:06:44.610  INFO [f6fc6070-39ba-466e-8481-b3da43d2ae91] 28700 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:06:44.622  INFO [f6fc6070-39ba-466e-8481-b3da43d2ae91] 28700 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:06:44.680 DEBUG [09a700b4-ec89-4c1f-ab91-1ef3bdc9af58] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:06:44.685 DEBUG [643fcc9b-04a2-4d0f-a8ae-5ed8cf8e67dc] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:06:44.685 DEBUG [a66bece0-3975-4dad-b0b1-837b26349863] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:06:44.702 ERROR [643fcc9b-04a2-4d0f-a8ae-5ed8cf8e67dc] 28700 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:44.703 DEBUG [643fcc9b-04a2-4d0f-a8ae-5ed8cf8e67dc] 28700 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:44.708 DEBUG [643fcc9b-04a2-4d0f-a8ae-5ed8cf8e67dc] 28700 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:44.709 ERROR [a66bece0-3975-4dad-b0b1-837b26349863] 28700 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:44.709 DEBUG [643fcc9b-04a2-4d0f-a8ae-5ed8cf8e67dc] 28700 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:44.709 DEBUG [a66bece0-3975-4dad-b0b1-837b26349863] 28700 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:44.710 DEBUG [09a700b4-ec89-4c1f-ab91-1ef3bdc9af58] 28700 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0F12947B730AE55B2B915B9E2D12501C
2025-05-27 16:06:44.710 DEBUG [a66bece0-3975-4dad-b0b1-837b26349863] 28700 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0F12947B730AE55B2B915B9E2D12501C
2025-05-27 16:06:44.714 DEBUG [09a700b4-ec89-4c1f-ab91-1ef3bdc9af58] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:06:44.714 DEBUG [a66bece0-3975-4dad-b0b1-837b26349863] 28700 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:44.714 DEBUG [a66bece0-3975-4dad-b0b1-837b26349863] 28700 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:44.980 DEBUG [4e1600a3-b30b-4e16-bcc9-58c0bcab3e8a] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:44.994 DEBUG [4e1600a3-b30b-4e16-bcc9-58c0bcab3e8a] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:06:44.995  INFO [4e1600a3-b30b-4e16-bcc9-58c0bcab3e8a] 28700 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:06:45.004  INFO [4e1600a3-b30b-4e16-bcc9-58c0bcab3e8a] 28700 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:06:45.025 DEBUG [d2786ba5-8ed9-4d27-9314-4dce17fd9164] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 16:06:45.027 DEBUG [d2786ba5-8ed9-4d27-9314-4dce17fd9164] 28700 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:45.029 DEBUG [d2786ba5-8ed9-4d27-9314-4dce17fd9164] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 16:06:45.035  INFO [d2786ba5-8ed9-4d27-9314-4dce17fd9164] 28700 --- [nio-8080-exec-6] o.e.x.controllers.TokenController        : Generated new access token for user: 104658082982173093135
2025-05-27 16:06:49.102 DEBUG [dc1e1252-2ee4-4a45-952d-c4bf51ae257b] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:06:49.118 ERROR [dc1e1252-2ee4-4a45-952d-c4bf51ae257b] 28700 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:49.119 DEBUG [dc1e1252-2ee4-4a45-952d-c4bf51ae257b] 28700 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:49.122 DEBUG [dc1e1252-2ee4-4a45-952d-c4bf51ae257b] 28700 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:49.123 DEBUG [dc1e1252-2ee4-4a45-952d-c4bf51ae257b] 28700 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:49.133 DEBUG [b086a5bb-3868-43b2-9823-0cd7c3b62cef] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:06:49.148 ERROR [b086a5bb-3868-43b2-9823-0cd7c3b62cef] 28700 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:49.150 DEBUG [b086a5bb-3868-43b2-9823-0cd7c3b62cef] 28700 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:49.154 DEBUG [b086a5bb-3868-43b2-9823-0cd7c3b62cef] 28700 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:49.154 DEBUG [b086a5bb-3868-43b2-9823-0cd7c3b62cef] 28700 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:50.067 DEBUG [4ac99c73-c858-44be-9b06-c11e0df8cb57] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:06:50.086 ERROR [4ac99c73-c858-44be-9b06-c11e0df8cb57] 28700 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:50.087 DEBUG [4ac99c73-c858-44be-9b06-c11e0df8cb57] 28700 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:50.092 DEBUG [4ac99c73-c858-44be-9b06-c11e0df8cb57] 28700 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:50.092 DEBUG [4ac99c73-c858-44be-9b06-c11e0df8cb57] 28700 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:50.151 DEBUG [197df2ac-22fe-4fbd-affc-a96636393eb0] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:06:50.177 ERROR [197df2ac-22fe-4fbd-affc-a96636393eb0] 28700 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:50.178 DEBUG [197df2ac-22fe-4fbd-affc-a96636393eb0] 28700 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:50.182 DEBUG [197df2ac-22fe-4fbd-affc-a96636393eb0] 28700 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:50.182 DEBUG [197df2ac-22fe-4fbd-affc-a96636393eb0] 28700 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:54.197 DEBUG [59e1b0d4-0e43-4a92-8bd6-51c896a29bf6] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:06:54.207 ERROR [59e1b0d4-0e43-4a92-8bd6-51c896a29bf6] 28700 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:54.207 DEBUG [59e1b0d4-0e43-4a92-8bd6-51c896a29bf6] 28700 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:54.210 DEBUG [59e1b0d4-0e43-4a92-8bd6-51c896a29bf6] 28700 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:54.210 DEBUG [59e1b0d4-0e43-4a92-8bd6-51c896a29bf6] 28700 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:54.219 DEBUG [2f9254cb-2370-4259-8b03-b854c5db295e] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:06:54.232 ERROR [2f9254cb-2370-4259-8b03-b854c5db295e] 28700 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:54.233 DEBUG [2f9254cb-2370-4259-8b03-b854c5db295e] 28700 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:54.234 DEBUG [2f9254cb-2370-4259-8b03-b854c5db295e] 28700 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:54.235 DEBUG [2f9254cb-2370-4259-8b03-b854c5db295e] 28700 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:55.164 DEBUG [7a4c6a84-6510-46c9-81db-c176eaf49400] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:06:55.180 ERROR [7a4c6a84-6510-46c9-81db-c176eaf49400] 28700 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:55.181 DEBUG [7a4c6a84-6510-46c9-81db-c176eaf49400] 28700 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:55.182 DEBUG [7a4c6a84-6510-46c9-81db-c176eaf49400] 28700 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:55.183 DEBUG [7a4c6a84-6510-46c9-81db-c176eaf49400] 28700 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:55.194 DEBUG [50bbdbe1-46df-44c1-a103-bedea40816ff] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:06:55.206 ERROR [50bbdbe1-46df-44c1-a103-bedea40816ff] 28700 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:55.207 DEBUG [50bbdbe1-46df-44c1-a103-bedea40816ff] 28700 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:55.209 DEBUG [50bbdbe1-46df-44c1-a103-bedea40816ff] 28700 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:55.209 DEBUG [50bbdbe1-46df-44c1-a103-bedea40816ff] 28700 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:56.360 DEBUG [be4e270d-69ca-41bb-820c-b095380ca203] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:56.368 ERROR [be4e270d-69ca-41bb-820c-b095380ca203] 28700 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:56.369 DEBUG [be4e270d-69ca-41bb-820c-b095380ca203] 28700 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:56.371 DEBUG [be4e270d-69ca-41bb-820c-b095380ca203] 28700 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:56.371 DEBUG [be4e270d-69ca-41bb-820c-b095380ca203] 28700 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:56.592 DEBUG [50ddfdc3-a4a3-4509-8c28-c6e73647e823] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:56.600 ERROR [50ddfdc3-a4a3-4509-8c28-c6e73647e823] 28700 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:56.601 DEBUG [50ddfdc3-a4a3-4509-8c28-c6e73647e823] 28700 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:56.602 DEBUG [50ddfdc3-a4a3-4509-8c28-c6e73647e823] 28700 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:56.602 DEBUG [50ddfdc3-a4a3-4509-8c28-c6e73647e823] 28700 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:57.748 DEBUG [4c022ffc-4ba1-44b1-9417-b6525aa8523c] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:06:57.760 DEBUG [4c022ffc-4ba1-44b1-9417-b6525aa8523c] 28700 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 28370E39D65CD05669289A768BAAA785
2025-05-27 16:06:57.761 DEBUG [4c022ffc-4ba1-44b1-9417-b6525aa8523c] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:06:57.762  INFO [4c022ffc-4ba1-44b1-9417-b6525aa8523c] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:06:57.762  INFO [4c022ffc-4ba1-44b1-9417-b6525aa8523c] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:06:57.763  INFO [4c022ffc-4ba1-44b1-9417-b6525aa8523c] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:06:57.763  INFO [4c022ffc-4ba1-44b1-9417-b6525aa8523c] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:06:59.081 DEBUG [b04707cf-98e8-4b5e-99ee-0fb3b44f8e1a] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:59.095 ERROR [b04707cf-98e8-4b5e-99ee-0fb3b44f8e1a] 28700 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:59.095 DEBUG [b04707cf-98e8-4b5e-99ee-0fb3b44f8e1a] 28700 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:59.096 DEBUG [b04707cf-98e8-4b5e-99ee-0fb3b44f8e1a] 28700 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:59.097 DEBUG [b04707cf-98e8-4b5e-99ee-0fb3b44f8e1a] 28700 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:06:59.311 DEBUG [84618dd7-50ab-4197-b3db-e0c20ba08ec3] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:06:59.320 ERROR [84618dd7-50ab-4197-b3db-e0c20ba08ec3] 28700 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User 104658082982173093135 not found
2025-05-27 16:06:59.320 DEBUG [84618dd7-50ab-4197-b3db-e0c20ba08ec3] 28700 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:06:59.321 DEBUG [84618dd7-50ab-4197-b3db-e0c20ba08ec3] 28700 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:06:59.321 DEBUG [84618dd7-50ab-4197-b3db-e0c20ba08ec3] 28700 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:07:00.311 DEBUG [51c2e653-2499-4642-82fd-e95c2e27999a] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:00.333 DEBUG [51c2e653-2499-4642-82fd-e95c2e27999a] 28700 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D045227AB3F4DDCDA5937EF1698F1863
2025-05-27 16:07:00.334 DEBUG [51c2e653-2499-4642-82fd-e95c2e27999a] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:00.335  INFO [51c2e653-2499-4642-82fd-e95c2e27999a] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:07:00.336  INFO [51c2e653-2499-4642-82fd-e95c2e27999a] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:07:00.336  INFO [51c2e653-2499-4642-82fd-e95c2e27999a] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:07:00.336  INFO [51c2e653-2499-4642-82fd-e95c2e27999a] 28700 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:07:04.702 DEBUG [4e85d83b-3884-4fad-b416-9306526d1c7e] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:07:04.702 DEBUG [4e85d83b-3884-4fad-b416-9306526d1c7e] 28700 --- [nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:07:09.929 DEBUG [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 16:07:09.930 DEBUG [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:07:09.930 DEBUG [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 16:07:09.932  INFO [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 16:07:10.120  INFO [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 16:07:10.120  INFO [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 16:07:10.341 DEBUG [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 16:07:10.342  INFO [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Authentication successful for user: user1
2025-05-27 16:07:10.367  INFO [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Updated last login time for user: user1
2025-05-27 16:07:10.367  INFO [3a381850-6311-4e45-8bba-dcaaa8094526] 28700 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user1
2025-05-27 16:07:10.417 DEBUG [22bfac0c-4bd3-4e4e-9a62-80a9a017aad0] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:07:10.417 DEBUG [f705c65c-1a40-45f0-92e2-b4871792403e] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:07:10.572 DEBUG [f705c65c-1a40-45f0-92e2-b4871792403e] 28700 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6EDFF8899BEF23526E505101FD54676E
2025-05-27 16:07:10.574 DEBUG [f705c65c-1a40-45f0-92e2-b4871792403e] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:07:10.575  INFO [f705c65c-1a40-45f0-92e2-b4871792403e] 28700 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:07:10.602 DEBUG [22bfac0c-4bd3-4e4e-9a62-80a9a017aad0] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:07:10.731  INFO [f705c65c-1a40-45f0-92e2-b4871792403e] 28700 --- [nio-8080-exec-2] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user user1 with ID 1, creating a new one.
2025-05-27 16:07:10.736  WARN [22bfac0c-4bd3-4e4e-9a62-80a9a017aad0] 28700 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:07:10.747  WARN [22bfac0c-4bd3-4e4e-9a62-80a9a017aad0] 28700 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:07:10.752  INFO [f705c65c-1a40-45f0-92e2-b4871792403e] 28700 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 16:07:11.813 DEBUG [14742e5a-6ee2-41db-8102-8897c8565c4d] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:07:11.903 DEBUG [14742e5a-6ee2-41db-8102-8897c8565c4d] 28700 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9E2E56FC126BB4D8F81E8D5A3DDC26DF
2025-05-27 16:07:11.905 DEBUG [14742e5a-6ee2-41db-8102-8897c8565c4d] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:07:11.974  INFO [14742e5a-6ee2-41db-8102-8897c8565c4d] 28700 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 16:07:11.974  INFO [14742e5a-6ee2-41db-8102-8897c8565c4d] 28700 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 16:07:11.986 DEBUG [defbb06c-f896-4917-894e-e33a1e451ed5] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:07:12.061 DEBUG [defbb06c-f896-4917-894e-e33a1e451ed5] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:07:12.132  INFO [defbb06c-f896-4917-894e-e33a1e451ed5] 28700 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user1
2025-05-27 16:07:12.132  INFO [defbb06c-f896-4917-894e-e33a1e451ed5] 28700 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 1
2025-05-27 16:07:12.778 DEBUG [2cf59fe1-a0b9-4935-967c-bb616d974e7c] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:07:12.859 DEBUG [2cf59fe1-a0b9-4935-967c-bb616d974e7c] 28700 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5E1075D49E71B841C21B7EE689E9B4BD
2025-05-27 16:07:12.860 DEBUG [2cf59fe1-a0b9-4935-967c-bb616d974e7c] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:07:12.928  INFO [2cf59fe1-a0b9-4935-967c-bb616d974e7c] 28700 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user1
2025-05-27 16:07:12.928  INFO [2cf59fe1-a0b9-4935-967c-bb616d974e7c] 28700 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 1
2025-05-27 16:07:12.935  INFO [2cf59fe1-a0b9-4935-967c-bb616d974e7c] 28700 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 1
2025-05-27 16:07:12.963 DEBUG [4580b0cd-034e-4ecd-a004-a36d06503886] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:07:13.032 DEBUG [4580b0cd-034e-4ecd-a004-a36d06503886] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:07:13.100  INFO [4580b0cd-034e-4ecd-a004-a36d06503886] 28700 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: user1
2025-05-27 16:07:13.101  INFO [4580b0cd-034e-4ecd-a004-a36d06503886] 28700 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 1
2025-05-27 16:07:13.105  INFO [4580b0cd-034e-4ecd-a004-a36d06503886] 28700 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 1
2025-05-27 16:07:13.532 DEBUG [2fbdd381-83ca-4533-9b58-06cc4d9065a6] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:07:13.619 DEBUG [2fbdd381-83ca-4533-9b58-06cc4d9065a6] 28700 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0C1EC884EC54F51BF9584C09516C75B9
2025-05-27 16:07:13.620 DEBUG [2fbdd381-83ca-4533-9b58-06cc4d9065a6] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:07:13.620  INFO [2fbdd381-83ca-4533-9b58-06cc4d9065a6] 28700 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:07:13.706  INFO [2fbdd381-83ca-4533-9b58-06cc4d9065a6] 28700 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 16:07:13.717 DEBUG [9edbfb2c-8b41-4607-a925-eb2d34108ab5] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:07:13.813 DEBUG [9edbfb2c-8b41-4607-a925-eb2d34108ab5] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:07:13.814  INFO [9edbfb2c-8b41-4607-a925-eb2d34108ab5] 28700 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:07:13.913  INFO [9edbfb2c-8b41-4607-a925-eb2d34108ab5] 28700 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user user1 with 0 items, 0 total quantity.
2025-05-27 16:07:15.176 DEBUG [edf34ff6-8454-4463-84de-184d575e4739] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:07:15.176 DEBUG [edf34ff6-8454-4463-84de-184d575e4739] 28700 --- [nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:07:15.571 DEBUG [283d09ea-c17f-4500-b3d1-f5d586c739e8] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:15.584 DEBUG [283d09ea-c17f-4500-b3d1-f5d586c739e8] 28700 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8A344C955939ECE087B26276475C7605
2025-05-27 16:07:15.585 DEBUG [283d09ea-c17f-4500-b3d1-f5d586c739e8] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:15.586  INFO [283d09ea-c17f-4500-b3d1-f5d586c739e8] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:07:15.586  INFO [283d09ea-c17f-4500-b3d1-f5d586c739e8] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:07:15.586  INFO [283d09ea-c17f-4500-b3d1-f5d586c739e8] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:07:15.586  INFO [283d09ea-c17f-4500-b3d1-f5d586c739e8] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:07:17.803 DEBUG [e27419fc-14d7-4a22-8668-6c5675d925e9] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:07:17.804 DEBUG [e27419fc-14d7-4a22-8668-6c5675d925e9] 28700 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=Zuz9lEqh7bEHm85Er8bQDsi5GigIDBbxGknCuLRPDBs%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:07:19.427 DEBUG [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=Zuz9lEqh7bEHm85Er8bQDsi5GigIDBbxGknCuLRPDBs%3D&code=4%2F0AUJR-x7s9VI2GVEoF_DyYLw2Dfl4-gcZP6qmU3yVyiSmncRDsHUJZSm9pTSpV1esiFFEnw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 16:07:19.678  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:07:19.703 DEBUG [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8672B7212173D640AF730F765163F279
2025-05-27 16:07:19.703 DEBUG [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8672B7212173D640AF730F765163F279], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:07:19.705  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:07:19.705  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:07:19.705  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:07:19.705  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:07:19.706  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:07:19.707  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:07:19.707  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:07:19.707  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:07:19.707  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:07:19.707  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:07:19.708  INFO [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:07:19.708 DEBUG [107d3333-e66d-4503-bd13-9435b5a4ed33] 28700 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:07:20.828 DEBUG [ae52766a-9329-4ff0-8721-bbc8e41abab1] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:07:20.828 DEBUG [004c4223-d6ce-41d3-a338-97f0fc5fea3f] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:07:20.841 DEBUG [004c4223-d6ce-41d3-a338-97f0fc5fea3f] 28700 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DA1C98319A4E8E721F6E06193A93174F
2025-05-27 16:07:20.841 DEBUG [ae52766a-9329-4ff0-8721-bbc8e41abab1] 28700 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 75ECB559CB89B97B89B51A172F6935C4
2025-05-27 16:07:20.843 DEBUG [ae52766a-9329-4ff0-8721-bbc8e41abab1] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:07:20.843 DEBUG [004c4223-d6ce-41d3-a338-97f0fc5fea3f] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:07:20.843  INFO [ae52766a-9329-4ff0-8721-bbc8e41abab1] 28700 --- [nio-8080-exec-6] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:07:20.843  INFO [004c4223-d6ce-41d3-a338-97f0fc5fea3f] 28700 --- [nio-8080-exec-5] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:07:20.942 DEBUG [0afa24c9-63f9-401b-9916-6c3c86125a0a] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:20.960 DEBUG [0afa24c9-63f9-401b-9916-6c3c86125a0a] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:20.962  INFO [0afa24c9-63f9-401b-9916-6c3c86125a0a] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:07:20.962  INFO [0afa24c9-63f9-401b-9916-6c3c86125a0a] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:07:20.962  INFO [0afa24c9-63f9-401b-9916-6c3c86125a0a] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:07:20.963  INFO [0afa24c9-63f9-401b-9916-6c3c86125a0a] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:07:21.197 DEBUG [4c1b1234-ca15-4c09-8756-0be5fc04dd0b] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:07:21.210 DEBUG [4c1b1234-ca15-4c09-8756-0be5fc04dd0b] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:07:21.211  INFO [4c1b1234-ca15-4c09-8756-0be5fc04dd0b] 28700 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:07:21.217  INFO [4c1b1234-ca15-4c09-8756-0be5fc04dd0b] 28700 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:07:21.267 DEBUG [a06b805b-41e1-4166-ba62-c194cd1dfdad] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:07:21.268 DEBUG [b3d98b97-2e5f-49c7-beca-5f96f79cbde5] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:07:21.269 DEBUG [e169d294-e01e-46f6-9612-c502a1a664ac] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:07:21.270 ERROR [b3d98b97-2e5f-49c7-beca-5f96f79cbde5] 28700 --- [io-8080-exec-10] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:07:21.270 ERROR [e169d294-e01e-46f6-9612-c502a1a664ac] 28700 --- [nio-8080-exec-1] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:07:21.271 DEBUG [b3d98b97-2e5f-49c7-beca-5f96f79cbde5] 28700 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:07:21.271 DEBUG [e169d294-e01e-46f6-9612-c502a1a664ac] 28700 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:07:21.271 DEBUG [b3d98b97-2e5f-49c7-beca-5f96f79cbde5] 28700 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 75ECB559CB89B97B89B51A172F6935C4
2025-05-27 16:07:21.271 DEBUG [e169d294-e01e-46f6-9612-c502a1a664ac] 28700 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 75ECB559CB89B97B89B51A172F6935C4
2025-05-27 16:07:21.272 DEBUG [e169d294-e01e-46f6-9612-c502a1a664ac] 28700 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:07:21.272 DEBUG [e169d294-e01e-46f6-9612-c502a1a664ac] 28700 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:07:21.272 DEBUG [b3d98b97-2e5f-49c7-beca-5f96f79cbde5] 28700 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:07:21.273 DEBUG [b3d98b97-2e5f-49c7-beca-5f96f79cbde5] 28700 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:07:21.282 DEBUG [a06b805b-41e1-4166-ba62-c194cd1dfdad] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:07:21.571 DEBUG [62f9145a-908a-4461-96f1-2f03067d3a8f] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:07:21.583 DEBUG [62f9145a-908a-4461-96f1-2f03067d3a8f] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:07:21.584  INFO [62f9145a-908a-4461-96f1-2f03067d3a8f] 28700 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:07:21.590  INFO [62f9145a-908a-4461-96f1-2f03067d3a8f] 28700 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:07:21.636 DEBUG [b0e17755-7e21-4564-9af7-7ff7081b257c] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:07:21.636 DEBUG [b0e17755-7e21-4564-9af7-7ff7081b257c] 28700 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:07:26.448 DEBUG [ff3a3b53-fa2e-46d4-8fce-79680e3eb7aa] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:26.458 DEBUG [ff3a3b53-fa2e-46d4-8fce-79680e3eb7aa] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:26.459  INFO [ff3a3b53-fa2e-46d4-8fce-79680e3eb7aa] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:07:26.459  INFO [ff3a3b53-fa2e-46d4-8fce-79680e3eb7aa] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:07:26.459  INFO [ff3a3b53-fa2e-46d4-8fce-79680e3eb7aa] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:07:26.460  INFO [ff3a3b53-fa2e-46d4-8fce-79680e3eb7aa] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:07:27.751 DEBUG [373f88ac-eecc-4a74-8cc2-431abfe8be77] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:07:27.753 DEBUG [373f88ac-eecc-4a74-8cc2-431abfe8be77] 28700 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=1dCUx7ajQw6MovTPWHHbqZzqVf2n_QIRbhGc73za4qY%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:07:29.391 DEBUG [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=1dCUx7ajQw6MovTPWHHbqZzqVf2n_QIRbhGc73za4qY%3D&code=4%2F0AUJR-x49qeWYnsxFmnQ7RVa5_7NfHdNIPiziRYefpMbRC8NDEv1N-b51ikrGcmZItoiNwA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 16:07:29.651  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:07:29.667 DEBUG [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AFA590E665D1FAD2B79B35996FF7B65D
2025-05-27 16:07:29.667 DEBUG [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=AFA590E665D1FAD2B79B35996FF7B65D], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:07:29.669  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:07:29.669  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:07:29.669  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:07:29.670  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:07:29.670  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:07:29.671  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:07:29.671  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:07:29.672  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:07:29.672  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:07:29.672  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:07:29.672  INFO [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:07:29.672 DEBUG [55a974a6-48e5-4216-a090-57bd5d76a5d2] 28700 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:07:30.627 DEBUG [3ba06de2-5167-4296-8f96-f3e8f1db4350] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:07:30.631 DEBUG [f28fa186-11d9-45b7-b5ad-9cb9f857b243] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:07:30.637 DEBUG [3ba06de2-5167-4296-8f96-f3e8f1db4350] 28700 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from ACBCEA8D2C83C4FEC37D91BF85B9A305
2025-05-27 16:07:30.638 DEBUG [3ba06de2-5167-4296-8f96-f3e8f1db4350] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:07:30.639  INFO [3ba06de2-5167-4296-8f96-f3e8f1db4350] 28700 --- [nio-8080-exec-7] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:07:30.640 DEBUG [f28fa186-11d9-45b7-b5ad-9cb9f857b243] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:07:30.751 DEBUG [161497e5-4b99-4346-8c55-45255f53035d] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:30.764 DEBUG [161497e5-4b99-4346-8c55-45255f53035d] 28700 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 661A67E515B200EB16B4CB5FB13AA2C7
2025-05-27 16:07:30.765 DEBUG [161497e5-4b99-4346-8c55-45255f53035d] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:30.767  INFO [161497e5-4b99-4346-8c55-45255f53035d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:07:30.767  INFO [161497e5-4b99-4346-8c55-45255f53035d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:07:30.767  INFO [161497e5-4b99-4346-8c55-45255f53035d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:07:30.767  INFO [161497e5-4b99-4346-8c55-45255f53035d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:07:31.007 DEBUG [8b7df975-3ab2-4094-b5e9-13e8c9074c7c] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:07:31.016 DEBUG [8b7df975-3ab2-4094-b5e9-13e8c9074c7c] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:07:31.017  INFO [8b7df975-3ab2-4094-b5e9-13e8c9074c7c] 28700 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:07:31.022  INFO [8b7df975-3ab2-4094-b5e9-13e8c9074c7c] 28700 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:07:31.050 DEBUG [94d542cd-a547-42ef-b1ea-210d9bf91210] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:07:31.050 DEBUG [4d9e5559-f1b9-4ca3-9802-f331fa51d334] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:07:31.052 ERROR [94d542cd-a547-42ef-b1ea-210d9bf91210] 28700 --- [nio-8080-exec-9] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:07:31.052 ERROR [4d9e5559-f1b9-4ca3-9802-f331fa51d334] 28700 --- [nio-8080-exec-4] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:07:31.052 DEBUG [4d9e5559-f1b9-4ca3-9802-f331fa51d334] 28700 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:07:31.052 DEBUG [94d542cd-a547-42ef-b1ea-210d9bf91210] 28700 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:07:31.054 DEBUG [4d9e5559-f1b9-4ca3-9802-f331fa51d334] 28700 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:07:31.054 DEBUG [94d542cd-a547-42ef-b1ea-210d9bf91210] 28700 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:07:31.054 DEBUG [4d9e5559-f1b9-4ca3-9802-f331fa51d334] 28700 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:07:31.055 DEBUG [94d542cd-a547-42ef-b1ea-210d9bf91210] 28700 --- [nio-8080-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:07:31.328 DEBUG [fae2981e-b33a-4fa3-a139-112db7d316f5] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:07:31.329 DEBUG [fae2981e-b33a-4fa3-a139-112db7d316f5] 28700 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:07:50.046 DEBUG [ec617a4d-a270-47fe-8b20-cfb366c257e7] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:50.057 DEBUG [ec617a4d-a270-47fe-8b20-cfb366c257e7] 28700 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 63401EACBDD0E8746371F09A95F60E18
2025-05-27 16:07:50.059 DEBUG [ec617a4d-a270-47fe-8b20-cfb366c257e7] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:07:50.062  INFO [ec617a4d-a270-47fe-8b20-cfb366c257e7] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:07:50.064  INFO [ec617a4d-a270-47fe-8b20-cfb366c257e7] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:07:50.064  INFO [ec617a4d-a270-47fe-8b20-cfb366c257e7] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:07:50.064  INFO [ec617a4d-a270-47fe-8b20-cfb366c257e7] 28700 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:08:44.385 DEBUG [ceed541b-392a-4471-a78e-c6aad98959e3] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:08:44.397 DEBUG [ceed541b-392a-4471-a78e-c6aad98959e3] 28700 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EDBDC29493DB69D61E5A27736FBBAB86
2025-05-27 16:08:44.398 DEBUG [ceed541b-392a-4471-a78e-c6aad98959e3] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:08:44.399  INFO [ceed541b-392a-4471-a78e-c6aad98959e3] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:08:44.400  INFO [ceed541b-392a-4471-a78e-c6aad98959e3] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:08:44.400  INFO [ceed541b-392a-4471-a78e-c6aad98959e3] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:08:44.400  INFO [ceed541b-392a-4471-a78e-c6aad98959e3] 28700 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:08:46.298 DEBUG [96bfaf25-c87c-4e6a-af09-6c1d72419468] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:08:46.299 DEBUG [96bfaf25-c87c-4e6a-af09-6c1d72419468] 28700 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=cN1ubf8tjLgasSvJplu4-4xahcevzFTfKADrxx95er8%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:08:48.118 DEBUG [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=cN1ubf8tjLgasSvJplu4-4xahcevzFTfKADrxx95er8%3D&code=4%2F0AUJR-x53EiyrjRy1eoq-wQP4Gcv5xrDawKIFZYHhUWUzs-v3hNC8ZRxc3qpCouXco_r7Bw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=2&prompt=none
2025-05-27 16:08:48.372  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 16:08:48.455  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 16:08:48.455 DEBUG [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 42D5EFAE34A024697D7E747D6F170A4A
2025-05-27 16:08:48.456 DEBUG [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [112192498949440201580], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=112192498949440201580, name=Lofthart Econ, given_name=Lofthart, family_name=Econ, picture=https://lh3.googleusercontent.com/a/ACg8ocKDwG5a4o9Az1czAS6KlB_W0bmCGMpZRja5XbCo-22MMFdLqw=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=42D5EFAE34A024697D7E747D6F170A4A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:08:48.457  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 112192498949440201580
2025-05-27 16:08:48.457  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:08:48.457  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:08:48.457  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=112192498949440201580, name=Lofthart Econ, given_name=Lofthart, family_name=Econ, picture=https://lh3.googleusercontent.com/a/ACg8ocKDwG5a4o9Az1czAS6KlB_W0bmCGMpZRja5XbCo-22MMFdLqw=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:08:48.458  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:08:48.458  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 112192498949440201580
2025-05-27 16:08:48.459  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:08:48.459  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:08:48.459  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=112192498949440201580, name=Lofthart Econ, given_name=Lofthart, family_name=Econ, picture=https://lh3.googleusercontent.com/a/ACg8ocKDwG5a4o9Az1czAS6KlB_W0bmCGMpZRja5XbCo-22MMFdLqw=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:08:48.459  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:08:48.459  INFO [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:08:48.460 DEBUG [08f0b8c3-72c8-4c2c-b560-153110f93c8e] 28700 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:08:49.523 DEBUG [0c090348-9b98-4287-b564-b08ddd426adf] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:08:49.532 DEBUG [262a9297-dfce-41f6-bedb-050cc5751003] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:08:49.538 DEBUG [0c090348-9b98-4287-b564-b08ddd426adf] 28700 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BFFCC498AF8F7522F8F161C3B1688CD8
2025-05-27 16:08:49.540 DEBUG [0c090348-9b98-4287-b564-b08ddd426adf] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:08:49.540  INFO [0c090348-9b98-4287-b564-b08ddd426adf] 28700 --- [io-8080-exec-10] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:08:49.545 DEBUG [262a9297-dfce-41f6-bedb-050cc5751003] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:08:49.678 DEBUG [a0f7623e-0005-4072-aca6-1639079b413e] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:08:49.703 DEBUG [a0f7623e-0005-4072-aca6-1639079b413e] 28700 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D858165578B9644B4119C8B711F9E1C5
2025-05-27 16:08:49.706 DEBUG [a0f7623e-0005-4072-aca6-1639079b413e] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:08:49.706  INFO [a0f7623e-0005-4072-aca6-1639079b413e] 28700 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:08:49.707  INFO [a0f7623e-0005-4072-aca6-1639079b413e] 28700 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:08:49.710  INFO [a0f7623e-0005-4072-aca6-1639079b413e] 28700 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:08:49.711  INFO [a0f7623e-0005-4072-aca6-1639079b413e] 28700 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:08:50.023 DEBUG [0656801c-3b7f-4b5b-a91c-13dd4e06bbbe] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:08:50.043 DEBUG [0656801c-3b7f-4b5b-a91c-13dd4e06bbbe] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:08:50.045  INFO [0656801c-3b7f-4b5b-a91c-13dd4e06bbbe] 28700 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:08:50.064  INFO [0656801c-3b7f-4b5b-a91c-13dd4e06bbbe] 28700 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:08:50.150 DEBUG [84a1e54c-69d2-46d3-8717-1aa2b63cb827] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:08:50.150 DEBUG [d98042a0-943d-49f9-8d74-658fcd328cc9] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:08:50.153 ERROR [84a1e54c-69d2-46d3-8717-1aa2b63cb827] 28700 --- [nio-8080-exec-5] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:08:50.153 ERROR [d98042a0-943d-49f9-8d74-658fcd328cc9] 28700 --- [nio-8080-exec-2] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:08:50.154 DEBUG [d98042a0-943d-49f9-8d74-658fcd328cc9] 28700 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:08:50.154 DEBUG [84a1e54c-69d2-46d3-8717-1aa2b63cb827] 28700 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:08:50.155 DEBUG [84a1e54c-69d2-46d3-8717-1aa2b63cb827] 28700 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:08:50.155 DEBUG [84a1e54c-69d2-46d3-8717-1aa2b63cb827] 28700 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:08:50.155 DEBUG [d98042a0-943d-49f9-8d74-658fcd328cc9] 28700 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:08:50.156 DEBUG [d98042a0-943d-49f9-8d74-658fcd328cc9] 28700 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:08:50.431 DEBUG [3a487b81-be08-42a6-8838-4eddd5dcc589] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:08:50.431 DEBUG [3a487b81-be08-42a6-8838-4eddd5dcc589] 28700 --- [nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:08:58.924 DEBUG [957400af-6276-4d18-b050-99570da60c28] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:08:58.925 DEBUG [957400af-6276-4d18-b050-99570da60c28] 28700 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=A9Tm51Xpo2uet59iY1OxKsorZrjdrocpokwzfrTdz1k%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:09:01.237 DEBUG [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=A9Tm51Xpo2uet59iY1OxKsorZrjdrocpokwzfrTdz1k%3D&code=4%2F0AUJR-x6wv70bd39AH09rVbyCRR5BbbEKW6U0RKaShioA7O6zRoxdTNKtkL-OS12cNwcnOA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 16:09:01.532  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:09:01.547 DEBUG [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8426DFA2B4C188A0CCAE2C33E8D372FF
2025-05-27 16:09:01.547 DEBUG [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8426DFA2B4C188A0CCAE2C33E8D372FF], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:09:01.549  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:09:01.549  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:09:01.549  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:09:01.550  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:09:01.550  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:09:01.550  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:09:01.551  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:09:01.551  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:09:01.551  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:09:01.551  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:09:01.551  INFO [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:09:01.551 DEBUG [e61f286c-605c-4b4f-b946-b304c27a395e] 28700 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:09:03.104 DEBUG [7018334f-dc26-4e1f-be12-5cd388ceafc2] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:09:03.108 DEBUG [07463df6-623f-4ee0-a564-2c590279f6a3] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:09:03.115 DEBUG [7018334f-dc26-4e1f-be12-5cd388ceafc2] 28700 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 732ABA2A556926D94F24864C4FABD67F
2025-05-27 16:09:03.116 DEBUG [7018334f-dc26-4e1f-be12-5cd388ceafc2] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:09:03.116  INFO [7018334f-dc26-4e1f-be12-5cd388ceafc2] 28700 --- [nio-8080-exec-1] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:09:03.117 DEBUG [07463df6-623f-4ee0-a564-2c590279f6a3] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:09:03.404 DEBUG [e3a4acd7-ab8a-4ba5-8f1e-16c9262d9606] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:09:03.418 DEBUG [e3a4acd7-ab8a-4ba5-8f1e-16c9262d9606] 28700 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 75D9000BBFC1D036C22DA23C848F44BE
2025-05-27 16:09:03.420 DEBUG [e3a4acd7-ab8a-4ba5-8f1e-16c9262d9606] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:09:03.420  INFO [e3a4acd7-ab8a-4ba5-8f1e-16c9262d9606] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:09:03.421  INFO [e3a4acd7-ab8a-4ba5-8f1e-16c9262d9606] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:09:03.421  INFO [e3a4acd7-ab8a-4ba5-8f1e-16c9262d9606] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:09:03.421  INFO [e3a4acd7-ab8a-4ba5-8f1e-16c9262d9606] 28700 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:09:03.779 DEBUG [30d9af27-fe12-4eb0-8e17-9b6fa789e708] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:09:03.798 DEBUG [30d9af27-fe12-4eb0-8e17-9b6fa789e708] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:09:03.799  INFO [30d9af27-fe12-4eb0-8e17-9b6fa789e708] 28700 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:09:03.809  INFO [30d9af27-fe12-4eb0-8e17-9b6fa789e708] 28700 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:09:03.960 DEBUG [1a79f83f-227c-4e77-b8fc-35d1c12d3610] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:09:03.960 DEBUG [045f6635-7abe-4d51-ab85-3b0581aff563] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:09:03.962 ERROR [045f6635-7abe-4d51-ab85-3b0581aff563] 28700 --- [nio-8080-exec-5] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:09:03.963 ERROR [1a79f83f-227c-4e77-b8fc-35d1c12d3610] 28700 --- [nio-8080-exec-3] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:09:03.964 DEBUG [045f6635-7abe-4d51-ab85-3b0581aff563] 28700 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:09:03.964 DEBUG [1a79f83f-227c-4e77-b8fc-35d1c12d3610] 28700 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:09:03.965 DEBUG [045f6635-7abe-4d51-ab85-3b0581aff563] 28700 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:09:03.965 DEBUG [1a79f83f-227c-4e77-b8fc-35d1c12d3610] 28700 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:09:03.966 DEBUG [045f6635-7abe-4d51-ab85-3b0581aff563] 28700 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:09:03.966 DEBUG [1a79f83f-227c-4e77-b8fc-35d1c12d3610] 28700 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@4026b81f
2025-05-27 16:09:04.267 DEBUG [4be18bcc-f98b-45d8-9543-f2da8823cb9b] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:09:04.268 DEBUG [4be18bcc-f98b-45d8-9543-f2da8823cb9b] 28700 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:10:01.221 DEBUG [9cffafd0-05f6-407c-9525-945f2224af8c] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:01.238 DEBUG [9cffafd0-05f6-407c-9525-945f2224af8c] 28700 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3E624D0B9C891C4369CA1DC7C04E8D7F
2025-05-27 16:10:01.239 DEBUG [9cffafd0-05f6-407c-9525-945f2224af8c] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:01.240  INFO [9cffafd0-05f6-407c-9525-945f2224af8c] 28700 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:01.241  INFO [9cffafd0-05f6-407c-9525-945f2224af8c] 28700 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:01.241  INFO [9cffafd0-05f6-407c-9525-945f2224af8c] 28700 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:01.241  INFO [9cffafd0-05f6-407c-9525-945f2224af8c] 28700 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:04.413 DEBUG [441642f9-c73b-47f6-afe9-f13695a07c44] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:04.444 DEBUG [441642f9-c73b-47f6-afe9-f13695a07c44] 28700 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1A1A1CDD31D86494CD30010E47B8F654
2025-05-27 16:10:04.446 DEBUG [441642f9-c73b-47f6-afe9-f13695a07c44] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:04.447  INFO [441642f9-c73b-47f6-afe9-f13695a07c44] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:04.448  INFO [441642f9-c73b-47f6-afe9-f13695a07c44] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:04.449  INFO [441642f9-c73b-47f6-afe9-f13695a07c44] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:04.449  INFO [441642f9-c73b-47f6-afe9-f13695a07c44] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:06.078 DEBUG [29312bc8-d286-4c3c-a016-00e4727dca8b] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:10:06.079 DEBUG [29312bc8-d286-4c3c-a016-00e4727dca8b] 28700 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=7xpvtyOAWLYW5wx-jC83RkZuCshZJ1xDoTp-7nTU668%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:10:07.666 DEBUG [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=7xpvtyOAWLYW5wx-jC83RkZuCshZJ1xDoTp-7nTU668%3D&code=4%2F0AUJR-x7as1mCMhvwoRzq8D7bxwRvg-u2-NQad-f8EQ3lOfgL58TAJBAy8dGhU3DK5kVe_g&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 16:10:07.919  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:10:07.939 DEBUG [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6C66F8F82A017887DEB53EE9E5F2F714
2025-05-27 16:10:07.939 DEBUG [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6C66F8F82A017887DEB53EE9E5F2F714], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:10:07.941  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:10:07.941  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:10:07.941  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:10:07.941  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:10:07.941  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:10:07.942  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:10:07.942  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:10:07.942  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:10:07.943  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:10:07.943  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:10:07.943  INFO [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:10:07.943 DEBUG [61741731-cf2b-48d4-9212-18613896ed60] 28700 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:10:08.697 DEBUG [e6f8b144-1ca5-41b6-83a0-8186d930912d] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:10:08.709 DEBUG [9484991f-b1d9-45e2-b00d-cc258129eda7] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:10:08.710 DEBUG [e6f8b144-1ca5-41b6-83a0-8186d930912d] 28700 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DA60D93D846308D1308EE8C223B0AB86
2025-05-27 16:10:08.711 DEBUG [e6f8b144-1ca5-41b6-83a0-8186d930912d] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:10:08.712  INFO [e6f8b144-1ca5-41b6-83a0-8186d930912d] 28700 --- [nio-8080-exec-9] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:10:08.723 DEBUG [9484991f-b1d9-45e2-b00d-cc258129eda7] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:10:08.909 DEBUG [8bc58851-e0ca-4687-b177-771c3b37496b] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:08.922 DEBUG [8bc58851-e0ca-4687-b177-771c3b37496b] 28700 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1C5E08882E33CC861AB13A41AE315AD8
2025-05-27 16:10:08.923 DEBUG [8bc58851-e0ca-4687-b177-771c3b37496b] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:08.924  INFO [8bc58851-e0ca-4687-b177-771c3b37496b] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:08.924  INFO [8bc58851-e0ca-4687-b177-771c3b37496b] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:08.925  INFO [8bc58851-e0ca-4687-b177-771c3b37496b] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:08.925  INFO [8bc58851-e0ca-4687-b177-771c3b37496b] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:09.189 DEBUG [0959a608-6d2a-46b0-9ac4-79304b00352f] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:09.206 DEBUG [0959a608-6d2a-46b0-9ac4-79304b00352f] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:09.206  INFO [0959a608-6d2a-46b0-9ac4-79304b00352f] 28700 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:10:09.214  INFO [0959a608-6d2a-46b0-9ac4-79304b00352f] 28700 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:10:09.283 DEBUG [a5a5997b-7346-4275-be79-de0ba5af992a] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:10:09.283 DEBUG [0dcaa6ca-17b2-4d0d-951d-88f9459c3c1f] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:09.294 DEBUG [a5a5997b-7346-4275-be79-de0ba5af992a] 28700 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5BE17CBF868F0EF57DDBB39003168EB2
2025-05-27 16:10:09.295 DEBUG [a5a5997b-7346-4275-be79-de0ba5af992a] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:10:09.296 DEBUG [0dcaa6ca-17b2-4d0d-951d-88f9459c3c1f] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:09.296  INFO [a5a5997b-7346-4275-be79-de0ba5af992a] 28700 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:10:09.305  WARN [0dcaa6ca-17b2-4d0d-951d-88f9459c3c1f] 28700 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:09.306  WARN [0dcaa6ca-17b2-4d0d-951d-88f9459c3c1f] 28700 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:09.309  INFO [a5a5997b-7346-4275-be79-de0ba5af992a] 28700 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 16:10:09.325  INFO [a5a5997b-7346-4275-be79-de0ba5af992a] 28700 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:10:11.213 DEBUG [7f38543a-72aa-476b-9d44-d8f2b1ebced0] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:10:11.229 DEBUG [7f38543a-72aa-476b-9d44-d8f2b1ebced0] 28700 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 286BAF882C905CEB7E39B8477C181C6D
2025-05-27 16:10:11.230 DEBUG [7f38543a-72aa-476b-9d44-d8f2b1ebced0] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:10:11.230  INFO [7f38543a-72aa-476b-9d44-d8f2b1ebced0] 28700 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:10:11.243  INFO [7f38543a-72aa-476b-9d44-d8f2b1ebced0] 28700 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:10:11.256 DEBUG [c5e48ea1-1cdf-4685-af42-0fb2820e541f] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:10:11.269 DEBUG [c5e48ea1-1cdf-4685-af42-0fb2820e541f] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:10:11.269  INFO [c5e48ea1-1cdf-4685-af42-0fb2820e541f] 28700 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:10:11.282  INFO [c5e48ea1-1cdf-4685-af42-0fb2820e541f] 28700 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:10:12.222 DEBUG [1f1303f8-82c2-4c0f-9932-8ce5616c9058] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:10:12.235 DEBUG [1f1303f8-82c2-4c0f-9932-8ce5616c9058] 28700 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A60B702B92350E480421F791DF1D394D
2025-05-27 16:10:12.237 DEBUG [1f1303f8-82c2-4c0f-9932-8ce5616c9058] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:10:12.244  INFO [1f1303f8-82c2-4c0f-9932-8ce5616c9058] 28700 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:10:12.244  INFO [1f1303f8-82c2-4c0f-9932-8ce5616c9058] 28700 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:10:12.255 DEBUG [fa276ede-d0f1-4a22-8bfa-057120d1cdf8] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:10:12.265 DEBUG [fa276ede-d0f1-4a22-8bfa-057120d1cdf8] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:10:12.272  INFO [fa276ede-d0f1-4a22-8bfa-057120d1cdf8] 28700 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:10:12.272  INFO [fa276ede-d0f1-4a22-8bfa-057120d1cdf8] 28700 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:10:13.133 DEBUG [444abd3e-7e9a-43b7-a31c-2785ddecd23e] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:10:13.147 DEBUG [444abd3e-7e9a-43b7-a31c-2785ddecd23e] 28700 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 10E3ACE510B3C6F99DB7CD14FD84A9DB
2025-05-27 16:10:13.148 DEBUG [444abd3e-7e9a-43b7-a31c-2785ddecd23e] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:10:13.155  INFO [444abd3e-7e9a-43b7-a31c-2785ddecd23e] 28700 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:10:13.155  INFO [444abd3e-7e9a-43b7-a31c-2785ddecd23e] 28700 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:10:13.192  INFO [444abd3e-7e9a-43b7-a31c-2785ddecd23e] 28700 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:10:13.200 DEBUG [8e793f67-c5b3-4e62-afd9-b9a195fa16cb] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:10:13.210 DEBUG [8e793f67-c5b3-4e62-afd9-b9a195fa16cb] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:10:13.215  INFO [8e793f67-c5b3-4e62-afd9-b9a195fa16cb] 28700 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:10:13.215  INFO [8e793f67-c5b3-4e62-afd9-b9a195fa16cb] 28700 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:10:13.251  INFO [8e793f67-c5b3-4e62-afd9-b9a195fa16cb] 28700 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:10:14.792 DEBUG [495081a7-a970-4b74-b300-a97c21c5ff66] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:14.802 DEBUG [495081a7-a970-4b74-b300-a97c21c5ff66] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:14.803  INFO [495081a7-a970-4b74-b300-a97c21c5ff66] 28700 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:10:14.808  INFO [495081a7-a970-4b74-b300-a97c21c5ff66] 28700 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:10:14.857 DEBUG [3138fa6d-aeab-4b00-a05e-78614aaaaa67] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:14.857 DEBUG [66c002f6-d865-4e88-be45-04c49f4bf6aa] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:10:14.880 DEBUG [3138fa6d-aeab-4b00-a05e-78614aaaaa67] 28700 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0D17981C11382835A994C2D2E923DABA
2025-05-27 16:10:14.880 DEBUG [66c002f6-d865-4e88-be45-04c49f4bf6aa] 28700 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FD52AC2B81C9312088D4E78176042DFB
2025-05-27 16:10:14.882 DEBUG [66c002f6-d865-4e88-be45-04c49f4bf6aa] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:10:14.883 DEBUG [3138fa6d-aeab-4b00-a05e-78614aaaaa67] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:14.883  INFO [66c002f6-d865-4e88-be45-04c49f4bf6aa] 28700 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:10:14.889  WARN [3138fa6d-aeab-4b00-a05e-78614aaaaa67] 28700 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:14.891  WARN [3138fa6d-aeab-4b00-a05e-78614aaaaa67] 28700 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:14.896  INFO [66c002f6-d865-4e88-be45-04c49f4bf6aa] 28700 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:10:14.902 DEBUG [2989399d-ebde-442a-88b4-aa6a45df67ec] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:14.913 DEBUG [2989399d-ebde-442a-88b4-aa6a45df67ec] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:14.920  WARN [2989399d-ebde-442a-88b4-aa6a45df67ec] 28700 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:14.921  WARN [2989399d-ebde-442a-88b4-aa6a45df67ec] 28700 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:15.740 DEBUG [ff382f70-9add-4e11-a88c-c7dface4e633] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:15.750 DEBUG [ff382f70-9add-4e11-a88c-c7dface4e633] 28700 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 52D7AF0CC6C7DD3DD92816AD2A9D2813
2025-05-27 16:10:15.750 DEBUG [ff382f70-9add-4e11-a88c-c7dface4e633] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:15.751  INFO [ff382f70-9add-4e11-a88c-c7dface4e633] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:15.751  INFO [ff382f70-9add-4e11-a88c-c7dface4e633] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:15.751  INFO [ff382f70-9add-4e11-a88c-c7dface4e633] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:15.752  INFO [ff382f70-9add-4e11-a88c-c7dface4e633] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:16.675 DEBUG [ac3adaa1-e4e6-47fa-9828-3caa05837b4d] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:16.686 DEBUG [ac3adaa1-e4e6-47fa-9828-3caa05837b4d] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:16.687  INFO [ac3adaa1-e4e6-47fa-9828-3caa05837b4d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:10:16.692  INFO [ac3adaa1-e4e6-47fa-9828-3caa05837b4d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:10:16.711 DEBUG [d675c334-9157-48b7-8d72-130ec674c559] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:16.721 DEBUG [d675c334-9157-48b7-8d72-130ec674c559] 28700 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C67CE26BAEA4C356A68E0C55C8805CE0
2025-05-27 16:10:16.722 DEBUG [d675c334-9157-48b7-8d72-130ec674c559] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:16.728  WARN [d675c334-9157-48b7-8d72-130ec674c559] 28700 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:16.729  WARN [d675c334-9157-48b7-8d72-130ec674c559] 28700 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:16.926 DEBUG [5bffed8c-95f1-4f2f-b3e8-7b86e0fdcce5] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:16.935 DEBUG [5bffed8c-95f1-4f2f-b3e8-7b86e0fdcce5] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:16.935  INFO [5bffed8c-95f1-4f2f-b3e8-7b86e0fdcce5] 28700 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:10:16.939  INFO [5bffed8c-95f1-4f2f-b3e8-7b86e0fdcce5] 28700 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:10:16.953 DEBUG [1b75c57e-7bed-4372-a050-267a4090b084] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:16.962 DEBUG [1b75c57e-7bed-4372-a050-267a4090b084] 28700 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 91FD6CC799F4F06556D9E86E41710AC2
2025-05-27 16:10:16.963 DEBUG [1b75c57e-7bed-4372-a050-267a4090b084] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:16.970  WARN [1b75c57e-7bed-4372-a050-267a4090b084] 28700 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:16.970  WARN [1b75c57e-7bed-4372-a050-267a4090b084] 28700 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:23.152 DEBUG [b5eafe07-b798-4f95-893c-a592be7583a8] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:10:23.153 DEBUG [b5eafe07-b798-4f95-893c-a592be7583a8] 28700 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:10:23.596 DEBUG [0cd10909-1a25-4749-9d23-2b11cb18c768] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:23.607 DEBUG [0cd10909-1a25-4749-9d23-2b11cb18c768] 28700 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C55E7F7653D2859759D2EA7B01085D19
2025-05-27 16:10:23.607 DEBUG [0cd10909-1a25-4749-9d23-2b11cb18c768] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:23.608  INFO [0cd10909-1a25-4749-9d23-2b11cb18c768] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:23.608  INFO [0cd10909-1a25-4749-9d23-2b11cb18c768] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:23.609  INFO [0cd10909-1a25-4749-9d23-2b11cb18c768] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:23.609  INFO [0cd10909-1a25-4749-9d23-2b11cb18c768] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:29.849 DEBUG [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 16:10:29.850 DEBUG [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:10:29.850 DEBUG [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 16:10:29.851  INFO [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 16:10:30.030  INFO [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 16:10:30.030  INFO [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 16:10:30.098 DEBUG [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 16:10:30.099  INFO [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 16:10:30.117  INFO [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 16:10:30.117  INFO [af1e83ce-ea8d-491e-a027-b37e07ca1491] 28700 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 16:10:30.158 DEBUG [01971460-f7d6-463a-a134-67b89d245d25] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:30.162 DEBUG [c82f9a51-659b-4645-adc7-773c5e6d7e5f] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:10:30.162 DEBUG [8bf8faf8-5e77-415f-8e3a-5af81a4d036d] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:10:30.171 DEBUG [01971460-f7d6-463a-a134-67b89d245d25] 28700 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F95927AD9DA026FA60D332FEEEA6E362
2025-05-27 16:10:30.173 DEBUG [01971460-f7d6-463a-a134-67b89d245d25] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:30.173 DEBUG [c82f9a51-659b-4645-adc7-773c5e6d7e5f] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:10:30.173 DEBUG [8bf8faf8-5e77-415f-8e3a-5af81a4d036d] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:10:30.173  INFO [c82f9a51-659b-4645-adc7-773c5e6d7e5f] 28700 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:10:30.179  INFO [8bf8faf8-5e77-415f-8e3a-5af81a4d036d] 28700 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 16:10:30.179  INFO [8bf8faf8-5e77-415f-8e3a-5af81a4d036d] 28700 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 16:10:30.179  WARN [01971460-f7d6-463a-a134-67b89d245d25] 28700 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:30.180  WARN [01971460-f7d6-463a-a134-67b89d245d25] 28700 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:30.183  INFO [c82f9a51-659b-4645-adc7-773c5e6d7e5f] 28700 --- [nio-8080-exec-8] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user user2 with ID 2, creating a new one.
2025-05-27 16:10:30.201  INFO [c82f9a51-659b-4645-adc7-773c5e6d7e5f] 28700 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 16:10:30.601 DEBUG [febd1b7b-44e2-4a73-a96c-192ffafaa63d] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:30.611 DEBUG [febd1b7b-44e2-4a73-a96c-192ffafaa63d] 28700 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 30BC40EB57225B87280C8A8B203309F6
2025-05-27 16:10:30.612 DEBUG [febd1b7b-44e2-4a73-a96c-192ffafaa63d] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:30.613  INFO [febd1b7b-44e2-4a73-a96c-192ffafaa63d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:30.613  INFO [febd1b7b-44e2-4a73-a96c-192ffafaa63d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:30.614  INFO [febd1b7b-44e2-4a73-a96c-192ffafaa63d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:30.614  INFO [febd1b7b-44e2-4a73-a96c-192ffafaa63d] 28700 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:32.378 DEBUG [063c889a-f1ec-413a-94d8-ed58fd5b4219] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 16:10:32.408 DEBUG [063c889a-f1ec-413a-94d8-ed58fd5b4219] 28700 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B64A14D9C485482205B46071477C4992
2025-05-27 16:10:32.410 DEBUG [063c889a-f1ec-413a-94d8-ed58fd5b4219] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 16:10:32.412  INFO [063c889a-f1ec-413a-94d8-ed58fd5b4219] 28700 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 16:10:32.552  INFO [063c889a-f1ec-413a-94d8-ed58fd5b4219] 28700 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 16:10:32.565 DEBUG [4d516573-9232-49ff-afd6-06a3c2c0ce52] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 16:10:32.582 DEBUG [4d516573-9232-49ff-afd6-06a3c2c0ce52] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 16:10:32.583  INFO [4d516573-9232-49ff-afd6-06a3c2c0ce52] 28700 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 16:10:32.699  INFO [4d516573-9232-49ff-afd6-06a3c2c0ce52] 28700 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 16:10:34.533 DEBUG [3d8b8c94-0ffc-4092-9534-b3f43ada351e] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:34.545 DEBUG [3d8b8c94-0ffc-4092-9534-b3f43ada351e] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:34.546  INFO [3d8b8c94-0ffc-4092-9534-b3f43ada351e] 28700 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 16:10:34.552  INFO [3d8b8c94-0ffc-4092-9534-b3f43ada351e] 28700 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 16:10:34.606 DEBUG [b1f9ee13-c311-4610-b7c7-5cc87625fa97] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:34.610 DEBUG [86e157c7-6e2b-4f49-8853-4e7fd27bce05] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:10:34.636 DEBUG [b1f9ee13-c311-4610-b7c7-5cc87625fa97] 28700 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D27DFBCE5E99E724DB2D42104F34D888
2025-05-27 16:10:34.637 DEBUG [b1f9ee13-c311-4610-b7c7-5cc87625fa97] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:34.644 DEBUG [86e157c7-6e2b-4f49-8853-4e7fd27bce05] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:10:34.645  INFO [86e157c7-6e2b-4f49-8853-4e7fd27bce05] 28700 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:10:34.646  WARN [b1f9ee13-c311-4610-b7c7-5cc87625fa97] 28700 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:34.647  WARN [b1f9ee13-c311-4610-b7c7-5cc87625fa97] 28700 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:34.661 DEBUG [d8626e6e-00ea-43b2-a237-c9910bd92db8] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:34.663  INFO [86e157c7-6e2b-4f49-8853-4e7fd27bce05] 28700 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 16:10:34.681 DEBUG [d8626e6e-00ea-43b2-a237-c9910bd92db8] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:34.690  WARN [d8626e6e-00ea-43b2-a237-c9910bd92db8] 28700 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:34.691  WARN [d8626e6e-00ea-43b2-a237-c9910bd92db8] 28700 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:35.030 DEBUG [bc9a4c77-6ac6-45d1-8ad8-ba27f15fadba] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:10:35.044 DEBUG [bc9a4c77-6ac6-45d1-8ad8-ba27f15fadba] 28700 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4D26AD100983BB180852422709436426
2025-05-27 16:10:35.045 DEBUG [bc9a4c77-6ac6-45d1-8ad8-ba27f15fadba] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:10:35.053  INFO [bc9a4c77-6ac6-45d1-8ad8-ba27f15fadba] 28700 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 16:10:35.053  INFO [bc9a4c77-6ac6-45d1-8ad8-ba27f15fadba] 28700 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 16:10:35.069 DEBUG [16236e04-b906-434d-9ede-21b601e88528] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:10:35.079 DEBUG [16236e04-b906-434d-9ede-21b601e88528] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:10:35.085  INFO [16236e04-b906-434d-9ede-21b601e88528] 28700 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: user2
2025-05-27 16:10:35.085  INFO [16236e04-b906-434d-9ede-21b601e88528] 28700 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 2
2025-05-27 16:10:37.541 DEBUG [ca1594b9-0574-4f63-acaf-c1549a9d01c5] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:37.555 DEBUG [ca1594b9-0574-4f63-acaf-c1549a9d01c5] 28700 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B23AB5909D6CA66486DBE6EF458A25F2
2025-05-27 16:10:37.557 DEBUG [ca1594b9-0574-4f63-acaf-c1549a9d01c5] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:37.559  INFO [ca1594b9-0574-4f63-acaf-c1549a9d01c5] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:37.568  INFO [ca1594b9-0574-4f63-acaf-c1549a9d01c5] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:37.569  INFO [ca1594b9-0574-4f63-acaf-c1549a9d01c5] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:37.569  INFO [ca1594b9-0574-4f63-acaf-c1549a9d01c5] 28700 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:37.963 DEBUG [edcaa8d4-34cf-4d3b-8cc1-ab576026673f] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:10:37.963 DEBUG [edcaa8d4-34cf-4d3b-8cc1-ab576026673f] 28700 --- [nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:10:41.153 DEBUG [d4088caa-4fd7-4018-a9ae-e6e29110cd51] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:10:41.153 DEBUG [d4088caa-4fd7-4018-a9ae-e6e29110cd51] 28700 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=EnsmxBWJJKfvbtJU5_zLw89L3npFIboeSmwU93CfErI%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:10:42.922 DEBUG [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=EnsmxBWJJKfvbtJU5_zLw89L3npFIboeSmwU93CfErI%3D&code=4%2F0AUJR-x6sA0xlX3iVhuQc2Sx_vQNEWTk5z2Is1If7Vi--RdPwkwNXpbC7ccm-cfqKveG7pw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=2&prompt=none
2025-05-27 16:10:43.223  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:10:43.238 DEBUG [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 45E44618DBF5A11FD3BCC1E0DC34FB88
2025-05-27 16:10:43.238 DEBUG [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [112192498949440201580], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=112192498949440201580, name=Lofthart Econ, given_name=Lofthart, family_name=Econ, picture=https://lh3.googleusercontent.com/a/ACg8ocKDwG5a4o9Az1czAS6KlB_W0bmCGMpZRja5XbCo-22MMFdLqw=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=45E44618DBF5A11FD3BCC1E0DC34FB88], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:10:43.239  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 112192498949440201580
2025-05-27 16:10:43.239  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:10:43.240  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:10:43.240  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=112192498949440201580, name=Lofthart Econ, given_name=Lofthart, family_name=Econ, picture=https://lh3.googleusercontent.com/a/ACg8ocKDwG5a4o9Az1czAS6KlB_W0bmCGMpZRja5XbCo-22MMFdLqw=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:10:43.240  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:10:43.241  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 112192498949440201580
2025-05-27 16:10:43.241  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:10:43.241  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:10:43.241  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=112192498949440201580, name=Lofthart Econ, given_name=Lofthart, family_name=Econ, picture=https://lh3.googleusercontent.com/a/ACg8ocKDwG5a4o9Az1czAS6KlB_W0bmCGMpZRja5XbCo-22MMFdLqw=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:10:43.242  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:10:43.242  INFO [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:10:43.242 DEBUG [7bbcc62e-5f02-4faa-95f4-d50eedbe5839] 28700 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:10:44.011 DEBUG [31de5a42-c744-4974-880f-92961a381294] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:10:44.012 DEBUG [4936cf19-6511-4db7-bcf6-a387b9506664] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:10:44.023 DEBUG [4936cf19-6511-4db7-bcf6-a387b9506664] 28700 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0CCCA9422387BDB53E89F0B96CD3BEC4
2025-05-27 16:10:44.023 DEBUG [31de5a42-c744-4974-880f-92961a381294] 28700 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0951885B86AEA85E7C01B73679AF88C4
2025-05-27 16:10:44.024 DEBUG [4936cf19-6511-4db7-bcf6-a387b9506664] 28700 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:10:44.024 DEBUG [31de5a42-c744-4974-880f-92961a381294] 28700 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:10:44.024  INFO [4936cf19-6511-4db7-bcf6-a387b9506664] 28700 --- [nio-8080-exec-5] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:10:44.191 DEBUG [ad77243c-2fc4-4bbb-8f15-da62dd5ebfce] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:44.201 DEBUG [ad77243c-2fc4-4bbb-8f15-da62dd5ebfce] 28700 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A678F1AA938E4586D0325AB345892F29
2025-05-27 16:10:44.202 DEBUG [ad77243c-2fc4-4bbb-8f15-da62dd5ebfce] 28700 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:10:44.203  INFO [ad77243c-2fc4-4bbb-8f15-da62dd5ebfce] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:10:44.203  INFO [ad77243c-2fc4-4bbb-8f15-da62dd5ebfce] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:10:44.203  INFO [ad77243c-2fc4-4bbb-8f15-da62dd5ebfce] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:10:44.203  INFO [ad77243c-2fc4-4bbb-8f15-da62dd5ebfce] 28700 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:10:44.436 DEBUG [0b3b3540-c642-4e61-98ce-b8fc0c79edf4] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:44.446 DEBUG [0b3b3540-c642-4e61-98ce-b8fc0c79edf4] 28700 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:44.447  INFO [0b3b3540-c642-4e61-98ce-b8fc0c79edf4] 28700 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:10:44.453  INFO [0b3b3540-c642-4e61-98ce-b8fc0c79edf4] 28700 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:10:44.496 DEBUG [a5ac51b7-115b-4085-a412-d8d3e2f79691] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:10:44.496 DEBUG [52d8c81b-5466-4148-8db4-552fa10792fb] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:44.505 DEBUG [a5ac51b7-115b-4085-a412-d8d3e2f79691] 28700 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AEEF729526A987FA6580C24F4966A5F3
2025-05-27 16:10:44.507 DEBUG [52d8c81b-5466-4148-8db4-552fa10792fb] 28700 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:44.507 DEBUG [a5ac51b7-115b-4085-a412-d8d3e2f79691] 28700 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:10:44.507  INFO [a5ac51b7-115b-4085-a412-d8d3e2f79691] 28700 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:10:44.514  WARN [52d8c81b-5466-4148-8db4-552fa10792fb] 28700 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:44.515  WARN [52d8c81b-5466-4148-8db4-552fa10792fb] 28700 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:44.517  INFO [a5ac51b7-115b-4085-a412-d8d3e2f79691] 28700 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 5, creating a new one.
2025-05-27 16:10:44.534  INFO [a5ac51b7-115b-4085-a412-d8d3e2f79691] 28700 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:10:46.011 DEBUG [a9761f12-6af3-4842-9c83-3accf9544b9e] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:46.021 DEBUG [a9761f12-6af3-4842-9c83-3accf9544b9e] 28700 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:46.022  INFO [a9761f12-6af3-4842-9c83-3accf9544b9e] 28700 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:10:46.028  INFO [a9761f12-6af3-4842-9c83-3accf9544b9e] 28700 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:10:46.055 DEBUG [c5d8121b-f09f-4f28-ab87-3998f530f3ce] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:46.073 DEBUG [c5d8121b-f09f-4f28-ab87-3998f530f3ce] 28700 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E1F175128B2C62175F91C53AA93D1A48
2025-05-27 16:10:46.074 DEBUG [c5d8121b-f09f-4f28-ab87-3998f530f3ce] 28700 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:46.081  WARN [c5d8121b-f09f-4f28-ab87-3998f530f3ce] 28700 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:46.082  WARN [c5d8121b-f09f-4f28-ab87-3998f530f3ce] 28700 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:10:46.277 DEBUG [6680f7dd-c8f5-4416-b83b-8b5ae07d0bc3] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:10:46.287 DEBUG [6680f7dd-c8f5-4416-b83b-8b5ae07d0bc3] 28700 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:10:46.288  INFO [6680f7dd-c8f5-4416-b83b-8b5ae07d0bc3] 28700 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:10:46.293  INFO [6680f7dd-c8f5-4416-b83b-8b5ae07d0bc3] 28700 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:10:46.309 DEBUG [00431669-3856-49a9-a33e-01f032042e81] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:10:46.319 DEBUG [00431669-3856-49a9-a33e-01f032042e81] 28700 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 962B1D19D183D94172CE5CBFEDB43263
2025-05-27 16:10:46.321 DEBUG [00431669-3856-49a9-a33e-01f032042e81] 28700 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:10:46.328  WARN [00431669-3856-49a9-a33e-01f032042e81] 28700 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:10:46.328  WARN [00431669-3856-49a9-a33e-01f032042e81] 28700 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:11:13.990  INFO [NONE] 28700 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:11:13.994  INFO [NONE] 28700 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 16:11:14.000  INFO [NONE] 28700 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 16:11:21.149  INFO [NONE] 13204 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 13204 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 16:11:21.155 DEBUG [NONE] 13204 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 16:11:21.155  INFO [NONE] 13204 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 16:11:21.191  INFO [NONE] 13204 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 16:11:21.192  INFO [NONE] 13204 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 16:11:22.027  INFO [NONE] 13204 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:11:22.101  INFO [NONE] 13204 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 9 JPA repository interfaces.
2025-05-27 16:11:22.759  INFO [NONE] 13204 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 16:11:22.775  INFO [NONE] 13204 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 16:11:22.777  INFO [NONE] 13204 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 16:11:22.866  INFO [NONE] 13204 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 16:11:22.867  INFO [NONE] 13204 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1674 ms
2025-05-27 16:11:23.131  INFO [NONE] 13204 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:11:23.183  INFO [NONE] 13204 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 16:11:23.211  INFO [NONE] 13204 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 16:11:23.402  INFO [NONE] 13204 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:11:23.428  INFO [NONE] 13204 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 16:11:23.568  INFO [NONE] 13204 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@161624d9
2025-05-27 16:11:23.570  INFO [NONE] 13204 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 16:11:23.614  WARN [NONE] 13204 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:11:24.716  INFO [NONE] 13204 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:11:31.581  INFO [NONE] 13204 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:11:31.851  INFO [NONE] 13204 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 16:11:32.210 DEBUG [NONE] 13204 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 16:11:32.211 DEBUG [NONE] 13204 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 16:11:32.389  INFO [NONE] 13204 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 16:11:32.669  INFO [NONE] 13204 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 16:11:32.669  WARN [NONE] 13204 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 16:11:32.669  WARN [NONE] 13204 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 16:11:32.669  WARN [NONE] 13204 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 16:11:32.670  WARN [NONE] 13204 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 16:11:32.719  WARN [NONE] 13204 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:11:32.837  INFO [NONE] 13204 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 16:11:33.094  INFO [NONE] 13204 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 16:11:33.174  INFO [NONE] 13204 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cf56726, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ae049d7, org.springframework.security.web.context.SecurityContextHolderFilter@3cd3f4bf, org.springframework.security.web.header.HeaderWriterFilter@65d7481f, org.springframework.web.filter.CorsFilter@2ace8156, org.springframework.security.web.authentication.logout.LogoutFilter@1a3464c2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@25865cbb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@294603ef, org.example.xlr8travel.security.JwtAuthenticationFilter@39147a3c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3de56cdb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@53215e41, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5b80f14, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@642928ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51213f94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@170689ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@621394d2, org.springframework.security.web.session.SessionManagementFilter@6d1453ee, org.springframework.security.web.access.ExceptionTranslationFilter@426b63c, org.springframework.security.web.access.intercept.AuthorizationFilter@449e410]
2025-05-27 16:11:33.599  INFO [NONE] 13204 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 16:11:33.659  INFO [NONE] 13204 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 16:11:33.668  INFO [NONE] 13204 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 12.945 seconds (process running for 13.868)
2025-05-27 16:12:07.749  INFO [NONE] 13204 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:12:07.750  INFO [NONE] 13204 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 16:12:07.751  INFO [NONE] 13204 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-27 16:12:07.766 DEBUG [eef5bf74-71bd-4c8b-885d-816732f2c1fa] 13204 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:12:07.873 ERROR [eef5bf74-71bd-4c8b-885d-816732f2c1fa] 13204 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:12:07.876 DEBUG [eef5bf74-71bd-4c8b-885d-816732f2c1fa] 13204 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:12:07.881  WARN [eef5bf74-71bd-4c8b-885d-816732f2c1fa] 13204 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 16:12:07.894 DEBUG [eef5bf74-71bd-4c8b-885d-816732f2c1fa] 13204 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:12:07.895 DEBUG [eef5bf74-71bd-4c8b-885d-816732f2c1fa] 13204 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@45b559c9
2025-05-27 16:12:08.138 DEBUG [7f96cb21-c411-485f-b0cd-157b53b90ebb] 13204 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 16:12:08.139 DEBUG [7f96cb21-c411-485f-b0cd-157b53b90ebb] 13204 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:12:08.142 DEBUG [7f96cb21-c411-485f-b0cd-157b53b90ebb] 13204 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 16:12:08.215  INFO [7f96cb21-c411-485f-b0cd-157b53b90ebb] 13204 --- [nio-8080-exec-2] o.e.x.controllers.TokenController        : Generated new access token for user: ****@****.***
2025-05-27 16:12:08.490 DEBUG [6a3e7983-aa53-4cfa-a8ab-13eeb62bbf62] 13204 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:12:08.502 ERROR [6a3e7983-aa53-4cfa-a8ab-13eeb62bbf62] 13204 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:12:08.503 DEBUG [6a3e7983-aa53-4cfa-a8ab-13eeb62bbf62] 13204 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:12:08.506 DEBUG [6a3e7983-aa53-4cfa-a8ab-13eeb62bbf62] 13204 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:12:08.507 DEBUG [6a3e7983-aa53-4cfa-a8ab-13eeb62bbf62] 13204 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@45b559c9
2025-05-27 16:12:08.658 DEBUG [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:08.673 ERROR [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:12:08.675 DEBUG [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:12:08.679 DEBUG [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:08.685  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:12:08.686  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:12:08.686  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:12:08.686  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:12:08.686  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:12:08.750  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:12:08.750  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:12:08.751  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:12:08.751  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:12:08.752  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:12:08.752  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:12:08.752  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:12:08.753  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:12:08.753  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:12:08.753  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:12:08.753  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:12:08.753  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:12:08.754  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:12:08.754  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:12:08.754  INFO [68e8caca-d38e-4153-a396-b424259589c1] 13204 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:12:10.422 DEBUG [dee0a7d7-607d-4268-981b-ba6d8310d114] 13204 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:12:10.436 DEBUG [dee0a7d7-607d-4268-981b-ba6d8310d114] 13204 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=4lf37mw3xkMcBdVADcvD9O7HSh0pSRuOUCNcY5fvbJM%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:12:15.529 DEBUG [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=4lf37mw3xkMcBdVADcvD9O7HSh0pSRuOUCNcY5fvbJM%3D&code=4%2F0AUJR-x7nXoSUkhhOeo99F7oNQq6eo1CZc6_G0Huz8lDWk8y0kL2Tt0qfvjlpFJPxQ7mKvw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 16:12:15.985  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 16:12:16.076  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 16:12:16.084 DEBUG [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CA16124374CC90D5D9B57FD624759E36
2025-05-27 16:12:16.085 DEBUG [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CA16124374CC90D5D9B57FD624759E36], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:12:16.087  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:12:16.088  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:12:16.088  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:12:16.088  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:12:16.088  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:12:16.090  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:12:16.090  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:12:16.090  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:12:16.090  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:12:16.091  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:12:16.091  INFO [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:12:16.091 DEBUG [eb3792a3-8bed-4c21-a56c-59ecb69b1f12] 13204 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:12:16.800 DEBUG [5ab88a4c-15c7-43c9-a4dc-d7b72e1ec5b1] 13204 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:12:16.805 DEBUG [33ade885-e72a-4c96-9037-266c5e4e473f] 13204 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:12:16.814 DEBUG [5ab88a4c-15c7-43c9-a4dc-d7b72e1ec5b1] 13204 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5F15D41CB835487604B75F228E62A343
2025-05-27 16:12:16.818 DEBUG [33ade885-e72a-4c96-9037-266c5e4e473f] 13204 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:12:16.818 DEBUG [5ab88a4c-15c7-43c9-a4dc-d7b72e1ec5b1] 13204 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:12:16.820  INFO [5ab88a4c-15c7-43c9-a4dc-d7b72e1ec5b1] 13204 --- [nio-8080-exec-6] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:12:16.820  INFO [33ade885-e72a-4c96-9037-266c5e4e473f] 13204 --- [nio-8080-exec-8] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:12:16.924 DEBUG [e0b8ca07-6180-4faf-ae90-efdb9f0b9256] 13204 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:16.940 DEBUG [e0b8ca07-6180-4faf-ae90-efdb9f0b9256] 13204 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 51114A30230FB8C6D0DA91347212AB2A
2025-05-27 16:12:16.943 DEBUG [e0b8ca07-6180-4faf-ae90-efdb9f0b9256] 13204 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:16.944  INFO [e0b8ca07-6180-4faf-ae90-efdb9f0b9256] 13204 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:12:16.945  INFO [e0b8ca07-6180-4faf-ae90-efdb9f0b9256] 13204 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:12:16.945  INFO [e0b8ca07-6180-4faf-ae90-efdb9f0b9256] 13204 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:12:16.945  INFO [e0b8ca07-6180-4faf-ae90-efdb9f0b9256] 13204 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:12:17.214 DEBUG [c450c52c-4c3b-4241-8deb-84daf104dad5] 13204 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:12:17.227 DEBUG [c450c52c-4c3b-4241-8deb-84daf104dad5] 13204 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:12:17.230  INFO [c450c52c-4c3b-4241-8deb-84daf104dad5] 13204 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:12:17.240  INFO [c450c52c-4c3b-4241-8deb-84daf104dad5] 13204 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:12:17.298 DEBUG [a518228e-db00-4c14-aa78-ecbbff17ba12] 13204 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:12:17.299 DEBUG [70e14f96-2cf9-411d-a09c-265be65b4c24] 13204 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:12:17.335 DEBUG [a518228e-db00-4c14-aa78-ecbbff17ba12] 13204 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D5DF0530708A22BFA1BBFFAB41DB90DF
2025-05-27 16:12:17.338 DEBUG [70e14f96-2cf9-411d-a09c-265be65b4c24] 13204 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:12:17.339 DEBUG [a518228e-db00-4c14-aa78-ecbbff17ba12] 13204 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:12:17.341  INFO [70e14f96-2cf9-411d-a09c-265be65b4c24] 13204 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:12:17.376  WARN [a518228e-db00-4c14-aa78-ecbbff17ba12] 13204 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:12:17.387  WARN [a518228e-db00-4c14-aa78-ecbbff17ba12] 13204 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:12:17.403  INFO [70e14f96-2cf9-411d-a09c-265be65b4c24] 13204 --- [nio-8080-exec-2] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 16:12:17.455  INFO [70e14f96-2cf9-411d-a09c-265be65b4c24] 13204 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:12:17.669 DEBUG [570701a5-be84-429f-9903-ce3a800f1607] 13204 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:12:17.691 DEBUG [570701a5-be84-429f-9903-ce3a800f1607] 13204 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:12:17.693  INFO [570701a5-be84-429f-9903-ce3a800f1607] 13204 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:12:17.704  INFO [570701a5-be84-429f-9903-ce3a800f1607] 13204 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:12:20.391 DEBUG [ed615000-7da6-4edd-bfec-e5cbf8ad58bd] 13204 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:12:20.406 DEBUG [ed615000-7da6-4edd-bfec-e5cbf8ad58bd] 13204 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 069F7E230AA1469C03E864EF6F750649
2025-05-27 16:12:20.410 DEBUG [ed615000-7da6-4edd-bfec-e5cbf8ad58bd] 13204 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:12:20.420  INFO [ed615000-7da6-4edd-bfec-e5cbf8ad58bd] 13204 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:12:20.420  INFO [ed615000-7da6-4edd-bfec-e5cbf8ad58bd] 13204 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:12:20.437 DEBUG [5316cfd9-e061-429e-91a1-d4cea697e0d2] 13204 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:12:20.455 DEBUG [5316cfd9-e061-429e-91a1-d4cea697e0d2] 13204 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:12:20.464  INFO [5316cfd9-e061-429e-91a1-d4cea697e0d2] 13204 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:12:20.464  INFO [5316cfd9-e061-429e-91a1-d4cea697e0d2] 13204 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:12:21.603 DEBUG [42ff510f-a29e-4368-8c44-347eb82ed0b7] 13204 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:12:21.616 DEBUG [42ff510f-a29e-4368-8c44-347eb82ed0b7] 13204 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 53B4D2A0081B1B613C587B5171A77245
2025-05-27 16:12:21.619 DEBUG [42ff510f-a29e-4368-8c44-347eb82ed0b7] 13204 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:12:21.627  INFO [42ff510f-a29e-4368-8c44-347eb82ed0b7] 13204 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:12:21.627  INFO [42ff510f-a29e-4368-8c44-347eb82ed0b7] 13204 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:12:21.683  INFO [42ff510f-a29e-4368-8c44-347eb82ed0b7] 13204 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:12:21.691 DEBUG [9388196c-d157-4d5b-88c7-3d012b39d745] 13204 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:12:21.703 DEBUG [9388196c-d157-4d5b-88c7-3d012b39d745] 13204 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:12:21.709  INFO [9388196c-d157-4d5b-88c7-3d012b39d745] 13204 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:12:21.709  INFO [9388196c-d157-4d5b-88c7-3d012b39d745] 13204 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:12:21.751  INFO [9388196c-d157-4d5b-88c7-3d012b39d745] 13204 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:12:22.419 DEBUG [712d200f-7165-4ea5-b867-1fe421dce5f4] 13204 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:22.430 DEBUG [712d200f-7165-4ea5-b867-1fe421dce5f4] 13204 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 45562BB567B9CB1FEE4B6094036E59D6
2025-05-27 16:12:22.431 DEBUG [712d200f-7165-4ea5-b867-1fe421dce5f4] 13204 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:22.432  INFO [712d200f-7165-4ea5-b867-1fe421dce5f4] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:12:22.432  INFO [712d200f-7165-4ea5-b867-1fe421dce5f4] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:12:22.432  INFO [712d200f-7165-4ea5-b867-1fe421dce5f4] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:12:22.432  INFO [712d200f-7165-4ea5-b867-1fe421dce5f4] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:12:23.033 DEBUG [fbebf382-9763-4d6d-84cc-ddbae771a7f1] 13204 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:12:23.047 DEBUG [fbebf382-9763-4d6d-84cc-ddbae771a7f1] 13204 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1B2929B7222F59899998CBA7A209F0F2
2025-05-27 16:12:23.048 DEBUG [fbebf382-9763-4d6d-84cc-ddbae771a7f1] 13204 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:12:23.049  INFO [fbebf382-9763-4d6d-84cc-ddbae771a7f1] 13204 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:12:23.065  INFO [fbebf382-9763-4d6d-84cc-ddbae771a7f1] 13204 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:12:23.075 DEBUG [3e9a1eb9-7aa4-40b4-969a-15d38192418e] 13204 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:12:23.087 DEBUG [3e9a1eb9-7aa4-40b4-969a-15d38192418e] 13204 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:12:23.088  INFO [3e9a1eb9-7aa4-40b4-969a-15d38192418e] 13204 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:12:23.104  INFO [3e9a1eb9-7aa4-40b4-969a-15d38192418e] 13204 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:12:23.937 DEBUG [80fc515b-72e7-4b32-9849-4fff9a86173d] 13204 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:12:23.948 DEBUG [80fc515b-72e7-4b32-9849-4fff9a86173d] 13204 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:12:23.949  INFO [80fc515b-72e7-4b32-9849-4fff9a86173d] 13204 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:12:23.955  INFO [80fc515b-72e7-4b32-9849-4fff9a86173d] 13204 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:12:23.984 DEBUG [4358faea-11ff-4065-8c4d-60b655bda1f0] 13204 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:12:23.998 DEBUG [4358faea-11ff-4065-8c4d-60b655bda1f0] 13204 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6CD1CA573CC2349249415A1BADDEAC75
2025-05-27 16:12:24.000 DEBUG [4358faea-11ff-4065-8c4d-60b655bda1f0] 13204 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:12:24.010  WARN [4358faea-11ff-4065-8c4d-60b655bda1f0] 13204 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:12:24.011  WARN [4358faea-11ff-4065-8c4d-60b655bda1f0] 13204 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:12:24.258 DEBUG [6df5f354-a872-4f8f-98a0-65b63ee70b30] 13204 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:12:24.277 DEBUG [6df5f354-a872-4f8f-98a0-65b63ee70b30] 13204 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:12:24.278  INFO [6df5f354-a872-4f8f-98a0-65b63ee70b30] 13204 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:12:24.285  INFO [6df5f354-a872-4f8f-98a0-65b63ee70b30] 13204 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:12:24.308 DEBUG [d9b120f6-8173-421a-bc72-13d9980d4ed3] 13204 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:12:24.321 DEBUG [d9b120f6-8173-421a-bc72-13d9980d4ed3] 13204 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C50E60236BD8FB03B6CEEA5B7AC92050
2025-05-27 16:12:24.323 DEBUG [d9b120f6-8173-421a-bc72-13d9980d4ed3] 13204 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:12:24.332  WARN [d9b120f6-8173-421a-bc72-13d9980d4ed3] 13204 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:12:24.333  WARN [d9b120f6-8173-421a-bc72-13d9980d4ed3] 13204 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:12:24.856 DEBUG [307a57b8-13da-4165-8272-766629d567f1] 13204 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:24.871 DEBUG [307a57b8-13da-4165-8272-766629d567f1] 13204 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 486831AC28B75352578062F35E21309A
2025-05-27 16:12:24.872 DEBUG [307a57b8-13da-4165-8272-766629d567f1] 13204 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:24.872  INFO [307a57b8-13da-4165-8272-766629d567f1] 13204 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:12:24.873  INFO [307a57b8-13da-4165-8272-766629d567f1] 13204 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:12:24.873  INFO [307a57b8-13da-4165-8272-766629d567f1] 13204 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:12:24.873  INFO [307a57b8-13da-4165-8272-766629d567f1] 13204 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:12:52.117 DEBUG [a5a1c55f-7d43-467f-8d8f-790eb0f20fa8] 13204 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:12:52.118 DEBUG [a5a1c55f-7d43-467f-8d8f-790eb0f20fa8] 13204 --- [nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:12:55.148 DEBUG [d898980e-2085-484f-8c1e-2d7290254aea] 13204 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:55.160 DEBUG [d898980e-2085-484f-8c1e-2d7290254aea] 13204 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C4A6B754B8298FAF7F110D64BC08BBF1
2025-05-27 16:12:55.161 DEBUG [d898980e-2085-484f-8c1e-2d7290254aea] 13204 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:12:55.162  INFO [d898980e-2085-484f-8c1e-2d7290254aea] 13204 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:12:55.163  INFO [d898980e-2085-484f-8c1e-2d7290254aea] 13204 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:12:55.163  INFO [d898980e-2085-484f-8c1e-2d7290254aea] 13204 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:12:55.163  INFO [d898980e-2085-484f-8c1e-2d7290254aea] 13204 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:13:09.013 DEBUG [c1d57b77-7a4e-4e08-bc09-f343ea8f5c86] 13204 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:13:09.035 DEBUG [c1d57b77-7a4e-4e08-bc09-f343ea8f5c86] 13204 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C7FF5F8CD953ED63292A2936D5247C0C
2025-05-27 16:13:09.036 DEBUG [c1d57b77-7a4e-4e08-bc09-f343ea8f5c86] 13204 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:13:09.037  INFO [c1d57b77-7a4e-4e08-bc09-f343ea8f5c86] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:13:09.037  INFO [c1d57b77-7a4e-4e08-bc09-f343ea8f5c86] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:13:09.037  INFO [c1d57b77-7a4e-4e08-bc09-f343ea8f5c86] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:13:09.038  INFO [c1d57b77-7a4e-4e08-bc09-f343ea8f5c86] 13204 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:20:53.558  INFO [NONE] 13204 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:20:53.562  INFO [NONE] 13204 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 16:20:53.569  INFO [NONE] 13204 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 16:21:07.064  INFO [NONE] 30096 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 30096 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 16:21:07.071 DEBUG [NONE] 30096 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 16:21:07.072  INFO [NONE] 30096 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 16:21:07.111  INFO [NONE] 30096 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 16:21:07.112  INFO [NONE] 30096 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 16:21:08.080  INFO [NONE] 30096 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:21:08.172  INFO [NONE] 30096 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 9 JPA repository interfaces.
2025-05-27 16:21:08.936  INFO [NONE] 30096 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 16:21:08.948  INFO [NONE] 30096 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 16:21:08.948  INFO [NONE] 30096 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 16:21:09.027  INFO [NONE] 30096 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 16:21:09.028  INFO [NONE] 30096 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1915 ms
2025-05-27 16:21:09.289  INFO [NONE] 30096 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:21:09.343  INFO [NONE] 30096 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 16:21:09.374  INFO [NONE] 30096 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 16:21:09.584  INFO [NONE] 30096 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:21:09.611  INFO [NONE] 30096 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 16:21:09.778  INFO [NONE] 30096 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3d3d855f
2025-05-27 16:21:09.780  INFO [NONE] 30096 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 16:21:09.823  WARN [NONE] 30096 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:21:10.978  INFO [NONE] 30096 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:21:17.999  INFO [NONE] 30096 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:21:18.297  INFO [NONE] 30096 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 16:21:18.698 DEBUG [NONE] 30096 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 16:21:18.700 DEBUG [NONE] 30096 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 16:21:18.891  INFO [NONE] 30096 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 16:21:19.199  INFO [NONE] 30096 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 16:21:19.199  WARN [NONE] 30096 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 16:21:19.199  WARN [NONE] 30096 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 16:21:19.199  WARN [NONE] 30096 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 16:21:19.200  WARN [NONE] 30096 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 16:21:19.250  WARN [NONE] 30096 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:21:19.359  INFO [NONE] 30096 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 16:21:19.653  INFO [NONE] 30096 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 16:21:19.746  INFO [NONE] 30096 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79288520, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20550af5, org.springframework.security.web.context.SecurityContextHolderFilter@2d2a0ca8, org.springframework.security.web.header.HeaderWriterFilter@bd11a98, org.springframework.web.filter.CorsFilter@4b22af74, org.springframework.security.web.authentication.logout.LogoutFilter@1471728c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@649409de, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@a708986, org.example.xlr8travel.security.JwtAuthenticationFilter@352dcec5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d869444, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6cd05e22, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@253192ea, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@647f358d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3343e524, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74d4db80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@188d02e9, org.springframework.security.web.session.SessionManagementFilter@74ee42fc, org.springframework.security.web.access.ExceptionTranslationFilter@1c598a77, org.springframework.security.web.access.intercept.AuthorizationFilter@56a1a907]
2025-05-27 16:21:20.286  INFO [NONE] 30096 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 16:21:20.360  INFO [NONE] 30096 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 16:21:20.372  INFO [NONE] 30096 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 13.741 seconds (process running for 14.27)
2025-05-27 16:26:11.902  INFO [NONE] 30096 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:26:11.902  INFO [NONE] 30096 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 16:26:11.904  INFO [NONE] 30096 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 16:26:11.927 DEBUG [37404686-629a-4d9c-a0f1-fd7dca0d9c84] 30096 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:26:11.927 DEBUG [92ff1e1b-e621-4cdb-bf6d-49444258a9cd] 30096 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:26:12.071 ERROR [37404686-629a-4d9c-a0f1-fd7dca0d9c84] 30096 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:12.071 ERROR [92ff1e1b-e621-4cdb-bf6d-49444258a9cd] 30096 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:12.075 DEBUG [92ff1e1b-e621-4cdb-bf6d-49444258a9cd] 30096 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:12.075 DEBUG [37404686-629a-4d9c-a0f1-fd7dca0d9c84] 30096 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:12.080  WARN [92ff1e1b-e621-4cdb-bf6d-49444258a9cd] 30096 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/geolocation/ip' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 16:26:12.101 DEBUG [92ff1e1b-e621-4cdb-bf6d-49444258a9cd] 30096 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:26:12.101 DEBUG [37404686-629a-4d9c-a0f1-fd7dca0d9c84] 30096 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:26:12.102 DEBUG [92ff1e1b-e621-4cdb-bf6d-49444258a9cd] 30096 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@5d983ce8
2025-05-27 16:26:12.102 DEBUG [37404686-629a-4d9c-a0f1-fd7dca0d9c84] 30096 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@5d983ce8
2025-05-27 16:26:12.124 DEBUG [644fee5f-fce7-453f-8a2e-990da1e148fd] 30096 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:26:12.139 ERROR [644fee5f-fce7-453f-8a2e-990da1e148fd] 30096 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:12.141 DEBUG [644fee5f-fce7-453f-8a2e-990da1e148fd] 30096 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:12.145 DEBUG [644fee5f-fce7-453f-8a2e-990da1e148fd] 30096 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:26:12.146 DEBUG [644fee5f-fce7-453f-8a2e-990da1e148fd] 30096 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@5d983ce8
2025-05-27 16:26:12.376 DEBUG [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:12.382 DEBUG [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:12.388 ERROR [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:12.389 DEBUG [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:12.393 DEBUG [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:12.395 ERROR [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:12.396 DEBUG [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:12.398 DEBUG [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:12.426  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:26:12.426  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:26:12.427  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:26:12.427  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:26:12.427  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:26:12.427  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:26:12.427  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:26:12.427  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:26:12.427  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:26:12.428  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:26:12.497  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:26:12.497  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:26:12.497  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:26:12.497  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:26:12.498  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:26:12.498  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:26:12.498  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:26:12.498  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:26:12.499  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:26:12.499  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:26:12.499  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:26:12.499  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:26:12.499  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:26:12.499  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:26:12.499  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:26:12.500  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:26:12.500  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:26:12.500  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:26:12.500  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:26:12.500  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:26:12.500  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:26:12.500  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:26:12.500  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:26:12.501  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:26:12.501  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:26:12.501  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:26:12.501  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:26:12.501  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:26:12.502  INFO [eb51e36a-982e-4cb3-b159-658398eaee0b] 30096 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:26:12.502  INFO [41d4336f-ba12-4b25-b822-76f587e75eb2] 30096 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:26:12.576 DEBUG [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:12.589 ERROR [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:12.590 DEBUG [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:12.593 DEBUG [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:12.594  INFO [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:26:12.594  INFO [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:26:12.594  INFO [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:26:12.594  INFO [7a53c6f5-05f4-4202-9166-8cd65f8f99a8] 30096 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:26:16.543 DEBUG [15c2696c-a583-41ec-b047-b623feb278d6] 30096 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:26:16.548 DEBUG [7aad6ec2-a7a5-494c-8d53-a57675fa9aeb] 30096 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:26:16.606 ERROR [15c2696c-a583-41ec-b047-b623feb278d6] 30096 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:16.614 DEBUG [15c2696c-a583-41ec-b047-b623feb278d6] 30096 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:16.633 DEBUG [15c2696c-a583-41ec-b047-b623feb278d6] 30096 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:26:16.636 ERROR [7aad6ec2-a7a5-494c-8d53-a57675fa9aeb] 30096 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:16.638 DEBUG [15c2696c-a583-41ec-b047-b623feb278d6] 30096 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@5d983ce8
2025-05-27 16:26:16.640 DEBUG [7aad6ec2-a7a5-494c-8d53-a57675fa9aeb] 30096 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:16.652 DEBUG [7aad6ec2-a7a5-494c-8d53-a57675fa9aeb] 30096 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:26:16.659 DEBUG [7aad6ec2-a7a5-494c-8d53-a57675fa9aeb] 30096 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@5d983ce8
2025-05-27 16:26:17.103 DEBUG [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:17.121 ERROR [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:17.124 DEBUG [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:17.126 DEBUG [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:17.128  INFO [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:26:17.129  INFO [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:26:17.129  INFO [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:26:17.130  INFO [bac3677c-e755-40e3-bc6c-23f30e03227a] 30096 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:26:23.435 DEBUG [40ad34d5-ae04-4166-825c-7c5eb00b52d3] 30096 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:26:23.447 ERROR [40ad34d5-ae04-4166-825c-7c5eb00b52d3] 30096 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:23.447 DEBUG [40ad34d5-ae04-4166-825c-7c5eb00b52d3] 30096 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:23.450 DEBUG [40ad34d5-ae04-4166-825c-7c5eb00b52d3] 30096 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:26:23.450 DEBUG [40ad34d5-ae04-4166-825c-7c5eb00b52d3] 30096 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@5d983ce8
2025-05-27 16:26:23.466 DEBUG [c15f50ef-728f-4d66-9a58-47aedc11890a] 30096 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:26:23.476 ERROR [c15f50ef-728f-4d66-9a58-47aedc11890a] 30096 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:23.477 DEBUG [c15f50ef-728f-4d66-9a58-47aedc11890a] 30096 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:23.480 DEBUG [c15f50ef-728f-4d66-9a58-47aedc11890a] 30096 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:26:23.480 DEBUG [c15f50ef-728f-4d66-9a58-47aedc11890a] 30096 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@5d983ce8
2025-05-27 16:26:23.682 DEBUG [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:23.694 ERROR [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:26:23.694 DEBUG [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:26:23.696 DEBUG [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:26:23.697  INFO [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:26:23.697  INFO [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:26:23.697  INFO [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:26:23.697  INFO [8a9dfa2e-6f3d-41f2-b87f-0c2e137fcbf2] 30096 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:27:08.109  INFO [NONE] 30096 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:27:08.113  INFO [NONE] 30096 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 16:27:08.118  INFO [NONE] 30096 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 16:27:15.356  INFO [NONE] 4916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 4916 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 16:27:15.362 DEBUG [NONE] 4916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 16:27:15.363  INFO [NONE] 4916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 16:27:15.401  INFO [NONE] 4916 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 16:27:15.402  INFO [NONE] 4916 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 16:27:16.315  INFO [NONE] 4916 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:27:16.398  INFO [NONE] 4916 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 9 JPA repository interfaces.
2025-05-27 16:27:17.304  INFO [NONE] 4916 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 16:27:17.315  INFO [NONE] 4916 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 16:27:17.316  INFO [NONE] 4916 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 16:27:17.388  INFO [NONE] 4916 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 16:27:17.389  INFO [NONE] 4916 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1985 ms
2025-05-27 16:27:17.643  INFO [NONE] 4916 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:27:17.698  INFO [NONE] 4916 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 16:27:17.729  INFO [NONE] 4916 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 16:27:17.963  INFO [NONE] 4916 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:27:17.993  INFO [NONE] 4916 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 16:27:18.150  INFO [NONE] 4916 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d585109
2025-05-27 16:27:18.152  INFO [NONE] 4916 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 16:27:18.214  WARN [NONE] 4916 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:27:19.446  INFO [NONE] 4916 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:27:26.246  INFO [NONE] 4916 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:27:26.745  INFO [NONE] 4916 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 16:27:27.295 DEBUG [NONE] 4916 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 16:27:27.296 DEBUG [NONE] 4916 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 16:27:27.488  INFO [NONE] 4916 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 16:27:27.773  INFO [NONE] 4916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 16:27:27.773  WARN [NONE] 4916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 16:27:27.774  WARN [NONE] 4916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 16:27:27.774  WARN [NONE] 4916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 16:27:27.774  WARN [NONE] 4916 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 16:27:27.824  WARN [NONE] 4916 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:27:27.954  INFO [NONE] 4916 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 16:27:28.285  INFO [NONE] 4916 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 16:27:28.389  INFO [NONE] 4916 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c5cb2f3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d4f359b, org.springframework.security.web.context.SecurityContextHolderFilter@121e7127, org.springframework.security.web.header.HeaderWriterFilter@48227c6b, org.springframework.web.filter.CorsFilter@702d4c4a, org.springframework.security.web.authentication.logout.LogoutFilter@1b73572b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5645710b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6caf9edd, org.example.xlr8travel.security.JwtAuthenticationFilter@42a91b63, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2eb5e4ff, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6680d9ad, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@aff5fdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1de32b72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8a271a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42f6fb09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@239dbf5d, org.springframework.security.web.session.SessionManagementFilter@3acf0075, org.springframework.security.web.access.ExceptionTranslationFilter@25ce4840, org.springframework.security.web.access.intercept.AuthorizationFilter@115fe1f2]
2025-05-27 16:27:28.905  INFO [NONE] 4916 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 16:27:28.976  INFO [NONE] 4916 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 16:27:28.987  INFO [NONE] 4916 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 14.07 seconds (process running for 14.564)
2025-05-27 16:27:33.643  INFO [NONE] 4916 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:27:33.644  INFO [NONE] 4916 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 16:27:33.646  INFO [NONE] 4916 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 16:27:33.662 DEBUG [c52aefdd-a1d2-4d09-92c0-972a152f9443] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:27:33.797 ERROR [c52aefdd-a1d2-4d09-92c0-972a152f9443] 4916 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:27:33.802 DEBUG [c52aefdd-a1d2-4d09-92c0-972a152f9443] 4916 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:27:33.807  WARN [c52aefdd-a1d2-4d09-92c0-972a152f9443] 4916 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/geolocation/ip' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 16:27:33.828 DEBUG [c52aefdd-a1d2-4d09-92c0-972a152f9443] 4916 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:27:33.829 DEBUG [c52aefdd-a1d2-4d09-92c0-972a152f9443] 4916 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@60dfd187
2025-05-27 16:27:33.846 DEBUG [d6b0f1b4-6db9-4730-a086-c32bdacda272] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:27:33.859 ERROR [d6b0f1b4-6db9-4730-a086-c32bdacda272] 4916 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:27:33.861 DEBUG [d6b0f1b4-6db9-4730-a086-c32bdacda272] 4916 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:27:33.866 DEBUG [d6b0f1b4-6db9-4730-a086-c32bdacda272] 4916 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:27:33.866 DEBUG [d6b0f1b4-6db9-4730-a086-c32bdacda272] 4916 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@60dfd187
2025-05-27 16:27:34.040 DEBUG [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:27:34.051 ERROR [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:27:34.052 DEBUG [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:27:34.056 DEBUG [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:27:34.093  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:27:34.094  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:27:34.094  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:27:34.094  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:27:34.095  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:27:34.175  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:27:34.175  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:27:34.177  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:27:34.177  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:27:34.178  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:27:34.178  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:27:34.178  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:27:34.179  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:27:34.179  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:27:34.179  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:27:34.180  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:27:34.180  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:27:34.180  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:27:34.180  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:27:34.181  INFO [bfb72210-c72f-4b5a-9270-eb05d43b115e] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:27:52.702 DEBUG [20a5fedd-1354-4570-abb2-80c8413cfa87] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:27:52.719 ERROR [20a5fedd-1354-4570-abb2-80c8413cfa87] 4916 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:27:52.722 DEBUG [20a5fedd-1354-4570-abb2-80c8413cfa87] 4916 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:27:52.729 DEBUG [20a5fedd-1354-4570-abb2-80c8413cfa87] 4916 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:27:52.729 DEBUG [20a5fedd-1354-4570-abb2-80c8413cfa87] 4916 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@60dfd187
2025-05-27 16:27:52.743 DEBUG [bf7146fa-9473-472c-ac43-60b8d52e9784] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:27:52.771 ERROR [bf7146fa-9473-472c-ac43-60b8d52e9784] 4916 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:27:52.773 DEBUG [bf7146fa-9473-472c-ac43-60b8d52e9784] 4916 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:27:52.779 DEBUG [bf7146fa-9473-472c-ac43-60b8d52e9784] 4916 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:27:52.780 DEBUG [bf7146fa-9473-472c-ac43-60b8d52e9784] 4916 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@60dfd187
2025-05-27 16:27:53.320 DEBUG [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 16:27:53.330 ERROR [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:27:53.331 DEBUG [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:27:53.333 DEBUG [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 16:27:53.334  INFO [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 16:27:53.334  INFO [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:27:53.334  INFO [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 16:27:53.334  INFO [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 16:27:53.334  INFO [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 16:27:53.345  INFO [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:27:53.345  WARN [d1768399-b30f-4f78-a997-6a2a5d8eb27e] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:28:10.142 DEBUG [2f2accfa-bad9-45f0-a673-27facf64225b] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:10.158 ERROR [2f2accfa-bad9-45f0-a673-27facf64225b] 4916 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:28:10.159 DEBUG [2f2accfa-bad9-45f0-a673-27facf64225b] 4916 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:28:10.164 DEBUG [2f2accfa-bad9-45f0-a673-27facf64225b] 4916 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:28:10.164 DEBUG [2f2accfa-bad9-45f0-a673-27facf64225b] 4916 --- [nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@60dfd187
2025-05-27 16:28:10.182 DEBUG [e7a10f61-8401-49ed-83db-84700ec4b975] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:10.212 ERROR [e7a10f61-8401-49ed-83db-84700ec4b975] 4916 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:28:10.214 DEBUG [e7a10f61-8401-49ed-83db-84700ec4b975] 4916 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:28:10.219 DEBUG [e7a10f61-8401-49ed-83db-84700ec4b975] 4916 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:28:10.220 DEBUG [e7a10f61-8401-49ed-83db-84700ec4b975] 4916 --- [nio-8080-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@60dfd187
2025-05-27 16:28:10.529 DEBUG [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=AMS
2025-05-27 16:28:10.542 ERROR [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:28:10.544 DEBUG [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:28:10.545 DEBUG [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=AMS
2025-05-27 16:28:10.547  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: AMS, departureDate: null
2025-05-27 16:28:10.547  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:28:10.548  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: AMS-2025-05-27
2025-05-27 16:28:10.548  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: AMS, after date: 2025-05-27
2025-05-27 16:28:10.548  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: AMS, date: 2025-05-27
2025-05-27 16:28:10.678  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Database query completed, found 2 flights
2025-05-27 16:28:10.679  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converting 2 Flight entities to FlightDTOs
2025-05-27 16:28:10.679  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Converted to 2 FlightDTOs
2025-05-27 16:28:10.679  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:28:10.679  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Grouped flights into 1 countries
2025-05-27 16:28:10.680  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:28:10.680  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding first flight from Romania (has 2 flights)
2025-05-27 16:28:10.680  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : First pass only yielded 1 flights, adding more in second pass
2025-05-27 16:28:10.680  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Country Romania has 1 additional flights to consider
2025-05-27 16:28:10.680  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Adding additional flight from Romania
2025-05-27 16:28:10.681  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Caching 2 diverse flights with key: AMS-2025-05-27
2025-05-27 16:28:10.681  INFO [f45d214f-d257-40c4-a5d6-b05675d1bf19] 4916 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning 2 diverse nearby flights from: AMS
2025-05-27 16:28:26.874 DEBUG [caa239b2-051c-4217-93a8-9081b1dc97c5] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:28:26.888 DEBUG [caa239b2-051c-4217-93a8-9081b1dc97c5] 4916 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=ZNjUrr1tEKuQdikijqGY2mL84o_He2gAInxAPvfkwVo%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:28:28.698 DEBUG [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=ZNjUrr1tEKuQdikijqGY2mL84o_He2gAInxAPvfkwVo%3D&code=4%2F0AUJR-x5bfali7aCf_lgYWjTBjJpOppqJHjwxtdkeu1ebVRoNhqCnNdKTMLX5kR9_kFadEg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 16:28:29.212  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 16:28:29.291  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 16:28:29.300 DEBUG [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C00EE8B4CF76C19950497EA3A1E56DE2
2025-05-27 16:28:29.301 DEBUG [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C00EE8B4CF76C19950497EA3A1E56DE2], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:28:29.312  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:28:29.312  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:28:29.313  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:28:29.313  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:28:29.313  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:28:29.314  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:28:29.314  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:28:29.314  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:28:29.314  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:28:29.315  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:28:29.315  INFO [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:28:29.315 DEBUG [fadb0a92-38d2-4177-878b-4422a4caaf32] 4916 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:28:30.065 DEBUG [f79c1526-0866-412a-ad01-a2c5d4624e7d] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:30.078 DEBUG [f79c1526-0866-412a-ad01-a2c5d4624e7d] 4916 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2B864E23E52839A031223E5DA4053EAF
2025-05-27 16:28:30.079 DEBUG [c43c8932-c3dc-46a5-8ce9-f399c32a6b0d] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:28:30.080 DEBUG [60f530d9-1337-48f2-bafe-17f3810c2b97] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:28:30.082 DEBUG [f79c1526-0866-412a-ad01-a2c5d4624e7d] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:30.085  INFO [f79c1526-0866-412a-ad01-a2c5d4624e7d] 4916 --- [nio-8080-exec-2] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:30.094 DEBUG [c43c8932-c3dc-46a5-8ce9-f399c32a6b0d] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:28:30.096 DEBUG [60f530d9-1337-48f2-bafe-17f3810c2b97] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:28:30.617 DEBUG [e03bc5e1-0267-41ce-b345-dae25a05c156] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:30.636 DEBUG [e03bc5e1-0267-41ce-b345-dae25a05c156] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:30.637  INFO [e03bc5e1-0267-41ce-b345-dae25a05c156] 4916 --- [nio-8080-exec-5] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:30.692 DEBUG [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:30.705 DEBUG [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B7A4D24BF0D75647BA82B3C19F7FEEAB
2025-05-27 16:28:30.707 DEBUG [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:30.708  INFO [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:28:30.708  INFO [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:28:30.708  INFO [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:28:30.708  INFO [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:28:30.709  INFO [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:28:30.716  INFO [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:28:30.717  WARN [273c7a0c-e679-4ff0-8018-916f75100a6f] 4916 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:28:44.735 DEBUG [fc97b7b2-a22c-4bdc-b956-a966cafd3d6a] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:28:44.736 DEBUG [fc97b7b2-a22c-4bdc-b956-a966cafd3d6a] 4916 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=_O8h6WqvAUsUCzx3n-hq7te92yqC0i018KoWOHa5zXQ%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:28:46.458 DEBUG [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=_O8h6WqvAUsUCzx3n-hq7te92yqC0i018KoWOHa5zXQ%3D&code=4%2F0AUJR-x55ArflAJBV3cYf801DgtH-LiRWm4Pc0L0nJ8vwRaTST-FBanaeAW6jlracGyZdZg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 16:28:46.721  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:28:46.741 DEBUG [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B4FDAA1A7572B4C6F5D8DCA45FCCF1F4
2025-05-27 16:28:46.741 DEBUG [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4FDAA1A7572B4C6F5D8DCA45FCCF1F4], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:28:46.742  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:28:46.743  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:28:46.743  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:28:46.743  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:28:46.744  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:28:46.744  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:28:46.745  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:28:46.745  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:28:46.745  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:28:46.745  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:28:46.745  INFO [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:28:46.745 DEBUG [722a773c-03ff-4226-99c8-89e2a99b3700] 4916 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:28:47.505 DEBUG [6d4cb2b1-e9d9-4a9b-b131-05765796af8b] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:47.505 DEBUG [93e94e98-3bca-48fb-b13d-a8f15ed6e41c] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:28:47.509 DEBUG [0b09f0d6-5bb1-45db-81bf-400496779b30] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:28:47.519 DEBUG [93e94e98-3bca-48fb-b13d-a8f15ed6e41c] 4916 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AFBFD16548C8CB487354EEE696A6B970
2025-05-27 16:28:47.519 DEBUG [6d4cb2b1-e9d9-4a9b-b131-05765796af8b] 4916 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 16DC8BBBF4DE501DF12747C20C3C4C4C
2025-05-27 16:28:47.522 DEBUG [93e94e98-3bca-48fb-b13d-a8f15ed6e41c] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:28:47.522 DEBUG [6d4cb2b1-e9d9-4a9b-b131-05765796af8b] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:47.524  INFO [6d4cb2b1-e9d9-4a9b-b131-05765796af8b] 4916 --- [io-8080-exec-10] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:47.524  INFO [93e94e98-3bca-48fb-b13d-a8f15ed6e41c] 4916 --- [nio-8080-exec-9] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:28:47.530 DEBUG [0b09f0d6-5bb1-45db-81bf-400496779b30] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:28:47.891 DEBUG [2e84b341-343d-4c27-8ed7-dc04f5decdcc] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:47.907 DEBUG [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:47.909 DEBUG [2e84b341-343d-4c27-8ed7-dc04f5decdcc] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:47.909  INFO [2e84b341-343d-4c27-8ed7-dc04f5decdcc] 4916 --- [nio-8080-exec-4] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:47.920 DEBUG [47ff381b-b40c-4c38-81b4-2cbd7905af77] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:28:47.920 DEBUG [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9719E0703DA8ACA7F8FDC08A2AC10903
2025-05-27 16:28:47.921 DEBUG [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:47.922  INFO [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:28:47.922  INFO [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:28:47.922  INFO [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:28:47.923  INFO [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:28:47.923  INFO [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:28:47.931  INFO [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:28:47.932  WARN [00707f8f-1478-4d6a-b9e9-fb96553b29b5] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:28:47.933 DEBUG [47ff381b-b40c-4c38-81b4-2cbd7905af77] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:28:47.936  INFO [47ff381b-b40c-4c38-81b4-2cbd7905af77] 4916 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:28:47.946  INFO [47ff381b-b40c-4c38-81b4-2cbd7905af77] 4916 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:28:47.994 DEBUG [66bc02b2-b5e0-483b-8292-12d0298af424] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:28:47.994 DEBUG [0ec8cb9a-beac-4dfa-9001-e3cc58a1b364] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:28:48.011 DEBUG [66bc02b2-b5e0-483b-8292-12d0298af424] 4916 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E80C97A16B030E23A2A870909825F134
2025-05-27 16:28:48.012 DEBUG [0ec8cb9a-beac-4dfa-9001-e3cc58a1b364] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:28:48.013 DEBUG [66bc02b2-b5e0-483b-8292-12d0298af424] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:28:48.013  INFO [0ec8cb9a-beac-4dfa-9001-e3cc58a1b364] 4916 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:28:48.027  WARN [66bc02b2-b5e0-483b-8292-12d0298af424] 4916 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:28:48.030  INFO [0ec8cb9a-beac-4dfa-9001-e3cc58a1b364] 4916 --- [nio-8080-exec-6] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 16:28:48.037  WARN [66bc02b2-b5e0-483b-8292-12d0298af424] 4916 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:28:48.048  INFO [0ec8cb9a-beac-4dfa-9001-e3cc58a1b364] 4916 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:28:53.311 DEBUG [e4bafca9-3b3d-4c71-b95b-07347b885ca5] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:28:53.324 DEBUG [e4bafca9-3b3d-4c71-b95b-07347b885ca5] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:28:53.325  INFO [e4bafca9-3b3d-4c71-b95b-07347b885ca5] 4916 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:28:53.332  INFO [e4bafca9-3b3d-4c71-b95b-07347b885ca5] 4916 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:28:53.421 DEBUG [d4c174e0-2f10-437e-9a22-76f4ba46e742] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:28:53.421 DEBUG [d8a9b6c1-bd05-4766-90c8-121f6e500efd] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:53.433 DEBUG [5784acb4-1391-4aa4-a0ae-9d0699ee3376] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:28:53.435 DEBUG [d4c174e0-2f10-437e-9a22-76f4ba46e742] 4916 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 196FFDAD60E3C7C7AC80E9D93E23FA4B
2025-05-27 16:28:53.435 DEBUG [d8a9b6c1-bd05-4766-90c8-121f6e500efd] 4916 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CB729E62C77E26EF470EEE883D209AC0
2025-05-27 16:28:53.440 DEBUG [d8a9b6c1-bd05-4766-90c8-121f6e500efd] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:53.440 DEBUG [d4c174e0-2f10-437e-9a22-76f4ba46e742] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:28:53.440  INFO [d8a9b6c1-bd05-4766-90c8-121f6e500efd] 4916 --- [nio-8080-exec-9] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:53.448  WARN [d4c174e0-2f10-437e-9a22-76f4ba46e742] 4916 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:28:53.449 DEBUG [5784acb4-1391-4aa4-a0ae-9d0699ee3376] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:28:53.450  INFO [5784acb4-1391-4aa4-a0ae-9d0699ee3376] 4916 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:28:53.451  WARN [d4c174e0-2f10-437e-9a22-76f4ba46e742] 4916 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:28:53.476 DEBUG [6faf0e39-5fb8-415d-9732-14d1f1230734] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:28:53.479  INFO [5784acb4-1391-4aa4-a0ae-9d0699ee3376] 4916 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:28:53.496 DEBUG [6faf0e39-5fb8-415d-9732-14d1f1230734] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:28:53.505  WARN [6faf0e39-5fb8-415d-9732-14d1f1230734] 4916 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:28:53.507  WARN [6faf0e39-5fb8-415d-9732-14d1f1230734] 4916 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:28:53.803 DEBUG [892227cd-1641-4ae9-92d6-5702046ecbc3] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:53.808 DEBUG [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:53.815 DEBUG [892227cd-1641-4ae9-92d6-5702046ecbc3] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:53.816  INFO [892227cd-1641-4ae9-92d6-5702046ecbc3] 4916 --- [nio-8080-exec-3] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:53.817 DEBUG [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3BE59F0A209EFE23A085711507B90C81
2025-05-27 16:28:53.818 DEBUG [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:53.819  INFO [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:28:53.819  INFO [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:28:53.819  INFO [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:28:53.820  INFO [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:28:53.820  INFO [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:28:53.826  INFO [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:28:53.827  WARN [f9c9fc3e-a20a-4752-b688-588f3f32b7bb] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:28:54.228 DEBUG [6284e5a7-7057-42ce-a138-82ed366cd6ce] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:28:54.244 DEBUG [6284e5a7-7057-42ce-a138-82ed366cd6ce] 4916 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B84801E5FA6F1827203F970488018626
2025-05-27 16:28:54.245 DEBUG [6284e5a7-7057-42ce-a138-82ed366cd6ce] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:28:54.246  INFO [6284e5a7-7057-42ce-a138-82ed366cd6ce] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:28:54.261  INFO [6284e5a7-7057-42ce-a138-82ed366cd6ce] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:28:54.272 DEBUG [b4b781ef-2b2c-47f0-b591-07aa155bb9b4] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:28:54.285 DEBUG [b4b781ef-2b2c-47f0-b591-07aa155bb9b4] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:28:54.286  INFO [b4b781ef-2b2c-47f0-b591-07aa155bb9b4] 4916 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:28:54.297  INFO [b4b781ef-2b2c-47f0-b591-07aa155bb9b4] 4916 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:28:55.944 DEBUG [51a19f0d-425b-42f2-b775-17d89505090b] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:28:55.958 DEBUG [51a19f0d-425b-42f2-b775-17d89505090b] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:28:55.959  INFO [51a19f0d-425b-42f2-b775-17d89505090b] 4916 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:28:55.968  INFO [51a19f0d-425b-42f2-b775-17d89505090b] 4916 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:28:56.001 DEBUG [bd43d3d4-af91-47dc-bc02-fc3d1f05c761] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:28:56.014 DEBUG [bd43d3d4-af91-47dc-bc02-fc3d1f05c761] 4916 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7AA60E5C7FF16A8E35DE231F55080165
2025-05-27 16:28:56.016 DEBUG [bd43d3d4-af91-47dc-bc02-fc3d1f05c761] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:28:56.026  WARN [bd43d3d4-af91-47dc-bc02-fc3d1f05c761] 4916 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:28:56.027  WARN [bd43d3d4-af91-47dc-bc02-fc3d1f05c761] 4916 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:28:56.274 DEBUG [a2168ae7-ae91-46fb-bf74-ae4501b0262e] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:28:56.288 DEBUG [a2168ae7-ae91-46fb-bf74-ae4501b0262e] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:28:56.289  INFO [a2168ae7-ae91-46fb-bf74-ae4501b0262e] 4916 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:28:56.297  INFO [a2168ae7-ae91-46fb-bf74-ae4501b0262e] 4916 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:28:56.315 DEBUG [48a0a664-7b07-443f-bd38-c6469107a526] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:28:56.327 DEBUG [48a0a664-7b07-443f-bd38-c6469107a526] 4916 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4F6F18D465002C30D739A577154D7675
2025-05-27 16:28:56.328 DEBUG [48a0a664-7b07-443f-bd38-c6469107a526] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:28:56.336  WARN [48a0a664-7b07-443f-bd38-c6469107a526] 4916 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:28:56.337  WARN [48a0a664-7b07-443f-bd38-c6469107a526] 4916 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:28:57.374 DEBUG [708b5e1e-fb07-458f-bf70-67d2fa9e9b61] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:57.384 DEBUG [708b5e1e-fb07-458f-bf70-67d2fa9e9b61] 4916 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0DB4FA244A0A3CF286A6EF43882FD133
2025-05-27 16:28:57.386 DEBUG [708b5e1e-fb07-458f-bf70-67d2fa9e9b61] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:57.387  INFO [708b5e1e-fb07-458f-bf70-67d2fa9e9b61] 4916 --- [io-8080-exec-10] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:57.612 DEBUG [d5e676e0-caca-41e2-893d-79382573dada] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:28:57.617 DEBUG [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:57.625 DEBUG [d5e676e0-caca-41e2-893d-79382573dada] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:28:57.626  INFO [d5e676e0-caca-41e2-893d-79382573dada] 4916 --- [nio-8080-exec-9] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:28:57.626 DEBUG [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 995B371D9EA39E8770B099C0DF248A8F
2025-05-27 16:28:57.627 DEBUG [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:28:57.628  INFO [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:28:57.628  INFO [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:28:57.628  INFO [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:28:57.628  INFO [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:28:57.629  INFO [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:28:57.634  INFO [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:28:57.634  WARN [c0ae65f5-6d46-406c-be82-0fd91d5ec96a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:29:09.070 DEBUG [e1dea35c-a547-44b1-b4ae-9c39961ea8fb] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:29:09.085 DEBUG [e1dea35c-a547-44b1-b4ae-9c39961ea8fb] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:29:09.086  INFO [e1dea35c-a547-44b1-b4ae-9c39961ea8fb] 4916 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:29:09.095  INFO [e1dea35c-a547-44b1-b4ae-9c39961ea8fb] 4916 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:29:09.205 DEBUG [6cc39d21-7dd1-475e-975b-8a2bcc4b81ae] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:29:09.207 DEBUG [0f82e5aa-b3fb-4fd7-965b-e8fe56b4d2ee] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:09.223 DEBUG [0f82e5aa-b3fb-4fd7-965b-e8fe56b4d2ee] 4916 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 96DDA5893F654F55391A4F10204CFF54
2025-05-27 16:29:09.224 DEBUG [973812a6-3f78-404f-92e9-b67144264572] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:29:09.224 DEBUG [6cc39d21-7dd1-475e-975b-8a2bcc4b81ae] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:29:09.228 DEBUG [0f82e5aa-b3fb-4fd7-965b-e8fe56b4d2ee] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:09.232  INFO [0f82e5aa-b3fb-4fd7-965b-e8fe56b4d2ee] 4916 --- [nio-8080-exec-4] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:09.247  WARN [6cc39d21-7dd1-475e-975b-8a2bcc4b81ae] 4916 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:29:09.252  WARN [6cc39d21-7dd1-475e-975b-8a2bcc4b81ae] 4916 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:29:09.277 DEBUG [973812a6-3f78-404f-92e9-b67144264572] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:29:09.288  INFO [973812a6-3f78-404f-92e9-b67144264572] 4916 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:29:09.280 DEBUG [3ea14d9e-ec3a-484b-9896-403a6227b7c0] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:29:09.321 DEBUG [3ea14d9e-ec3a-484b-9896-403a6227b7c0] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:29:09.342  INFO [973812a6-3f78-404f-92e9-b67144264572] 4916 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:29:09.343  WARN [3ea14d9e-ec3a-484b-9896-403a6227b7c0] 4916 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:29:09.344  WARN [3ea14d9e-ec3a-484b-9896-403a6227b7c0] 4916 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:29:09.616 DEBUG [1330c2dd-35ca-4d93-857b-4a61e7ef8d87] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:09.642 DEBUG [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:09.650 DEBUG [1330c2dd-35ca-4d93-857b-4a61e7ef8d87] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:09.651  INFO [1330c2dd-35ca-4d93-857b-4a61e7ef8d87] 4916 --- [nio-8080-exec-1] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:09.672 DEBUG [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CAE57E0CBC9873307DA34556021189FF
2025-05-27 16:29:09.673 DEBUG [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:09.674  INFO [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:29:09.674  INFO [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:29:09.675  INFO [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:29:09.675  INFO [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:29:09.675  INFO [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:29:09.685  INFO [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:29:09.686  WARN [683c49ac-3a03-403a-bd6e-d3c543ed9454] 4916 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:29:12.489 DEBUG [35245ff7-189a-4d15-86df-79525d8cd810] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:29:12.501 DEBUG [35245ff7-189a-4d15-86df-79525d8cd810] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:29:12.501  INFO [35245ff7-189a-4d15-86df-79525d8cd810] 4916 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:29:12.507  INFO [35245ff7-189a-4d15-86df-79525d8cd810] 4916 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:29:12.615 DEBUG [68a6111b-cba6-49f4-b615-7866e923a2b9] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:29:12.629 DEBUG [68a6111b-cba6-49f4-b615-7866e923a2b9] 4916 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0B8ED6FD48E028627B04D8C52CE67DF8
2025-05-27 16:29:12.630 DEBUG [68a6111b-cba6-49f4-b615-7866e923a2b9] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:29:12.641  WARN [68a6111b-cba6-49f4-b615-7866e923a2b9] 4916 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:29:12.642  WARN [68a6111b-cba6-49f4-b615-7866e923a2b9] 4916 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:29:12.656 DEBUG [c430848a-68d1-43db-bd9c-1872042002d7] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:12.659 DEBUG [31c1d6a8-b7eb-4c67-9e26-ab5d012b923f] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:29:12.672 DEBUG [31c1d6a8-b7eb-4c67-9e26-ab5d012b923f] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:29:12.672 DEBUG [c430848a-68d1-43db-bd9c-1872042002d7] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:12.672  INFO [31c1d6a8-b7eb-4c67-9e26-ab5d012b923f] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:29:12.672  INFO [c430848a-68d1-43db-bd9c-1872042002d7] 4916 --- [nio-8080-exec-3] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:12.690 DEBUG [eae11654-7092-4bb1-b7e5-6125bac4838d] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:29:12.692  INFO [31c1d6a8-b7eb-4c67-9e26-ab5d012b923f] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:29:12.722 DEBUG [eae11654-7092-4bb1-b7e5-6125bac4838d] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:29:12.733  WARN [eae11654-7092-4bb1-b7e5-6125bac4838d] 4916 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:29:12.734  WARN [eae11654-7092-4bb1-b7e5-6125bac4838d] 4916 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:29:12.898 DEBUG [706bb10b-24be-41a2-bdba-7b4d8b33c0fc] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:12.905 DEBUG [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:12.912 DEBUG [706bb10b-24be-41a2-bdba-7b4d8b33c0fc] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:12.913 DEBUG [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 55EF1B2FC00DC213F0D9955596D946CE
2025-05-27 16:29:12.913  INFO [706bb10b-24be-41a2-bdba-7b4d8b33c0fc] 4916 --- [nio-8080-exec-7] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:12.913 DEBUG [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:12.914  INFO [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:29:12.914  INFO [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:29:12.914  INFO [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:29:12.914  INFO [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:29:12.914  INFO [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:29:12.920  INFO [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:29:12.921  WARN [42443278-6f21-4fa9-87c0-3c055d513ad9] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:29:14.532 DEBUG [7c2c30e2-36aa-4f2d-9a4d-c00057f768f2] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:29:14.533 DEBUG [7c2c30e2-36aa-4f2d-9a4d-c00057f768f2] 4916 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:29:16.066 DEBUG [0f938efc-5ad1-421d-8500-bf75c9a3baee] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:29:16.067 DEBUG [0f938efc-5ad1-421d-8500-bf75c9a3baee] 4916 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=TJIWFSV7pdpHyAWZbxPwSxTTmiAqNGzGk27k5ecp4us%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:29:17.811 DEBUG [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=TJIWFSV7pdpHyAWZbxPwSxTTmiAqNGzGk27k5ecp4us%3D&code=4%2F0AUJR-x7M6LOVyoII30iGj7oacRyXl224IUSizcMaA08Anq5zcujrQmEC6tfUNfgdFdFU8w&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 16:29:18.083  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:29:18.100 DEBUG [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6411DE88812E7925AC0AC3A30B2BC2DF
2025-05-27 16:29:18.101 DEBUG [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6411DE88812E7925AC0AC3A30B2BC2DF], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:29:18.102  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:29:18.102  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:29:18.103  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:29:18.103  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:29:18.103  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:29:18.104  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:29:18.104  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:29:18.104  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:29:18.104  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:29:18.105  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:29:18.105  INFO [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:29:18.105 DEBUG [629fe38c-7730-4db0-bcf1-157c9a3226c4] 4916 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:29:18.959 DEBUG [47519dd8-cd6e-4d48-a794-826cb9fe3011] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:29:18.959 DEBUG [bfcbfab7-35cf-4519-859f-9cfc14a4d4a7] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:18.967 DEBUG [aefbe6bc-0840-4c97-b8d7-16e46eed27f6] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:29:18.968 DEBUG [bfcbfab7-35cf-4519-859f-9cfc14a4d4a7] 4916 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1A52616DAE09DF7D32827D274CB00550
2025-05-27 16:29:18.968 DEBUG [47519dd8-cd6e-4d48-a794-826cb9fe3011] 4916 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F09A21C1693BE3D944462AEB2C859EA7
2025-05-27 16:29:18.969 DEBUG [47519dd8-cd6e-4d48-a794-826cb9fe3011] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:29:18.969 DEBUG [bfcbfab7-35cf-4519-859f-9cfc14a4d4a7] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:18.969  INFO [47519dd8-cd6e-4d48-a794-826cb9fe3011] 4916 --- [nio-8080-exec-2] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:29:18.969  INFO [bfcbfab7-35cf-4519-859f-9cfc14a4d4a7] 4916 --- [nio-8080-exec-9] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:18.975 DEBUG [aefbe6bc-0840-4c97-b8d7-16e46eed27f6] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:29:19.319 DEBUG [642297bf-e20c-48fa-9728-60512deb60eb] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:19.323 DEBUG [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:19.331 DEBUG [642297bf-e20c-48fa-9728-60512deb60eb] 4916 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:19.332  INFO [642297bf-e20c-48fa-9728-60512deb60eb] 4916 --- [nio-8080-exec-6] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:19.334 DEBUG [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:19.335  INFO [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:29:19.335  INFO [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:29:19.335  INFO [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:29:19.335  INFO [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:29:19.336  INFO [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:29:19.344  INFO [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:29:19.344  WARN [d4fb7583-5c75-4973-945a-91084da666c1] 4916 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:29:19.447 DEBUG [8baacdf3-941e-456b-bf7f-a7e537783bac] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:29:19.458 DEBUG [8baacdf3-941e-456b-bf7f-a7e537783bac] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:29:19.459  INFO [8baacdf3-941e-456b-bf7f-a7e537783bac] 4916 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:29:19.465  INFO [8baacdf3-941e-456b-bf7f-a7e537783bac] 4916 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:29:19.530 DEBUG [c7cbf54c-03b0-4158-be9a-917527325ce4] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:29:19.530 DEBUG [74df6ed3-e550-4e0b-85a7-6feebb576cb0] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:29:19.542 DEBUG [74df6ed3-e550-4e0b-85a7-6feebb576cb0] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:29:19.543 DEBUG [c7cbf54c-03b0-4158-be9a-917527325ce4] 4916 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:29:19.543  INFO [74df6ed3-e550-4e0b-85a7-6feebb576cb0] 4916 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:29:19.550  WARN [c7cbf54c-03b0-4158-be9a-917527325ce4] 4916 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:29:19.551  WARN [c7cbf54c-03b0-4158-be9a-917527325ce4] 4916 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:29:19.558  INFO [74df6ed3-e550-4e0b-85a7-6feebb576cb0] 4916 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:29:22.335 DEBUG [5d603bd1-91f0-4532-bbfb-e34ba33704f8] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:29:22.346 DEBUG [5d603bd1-91f0-4532-bbfb-e34ba33704f8] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:29:22.347  INFO [5d603bd1-91f0-4532-bbfb-e34ba33704f8] 4916 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:29:22.354  INFO [5d603bd1-91f0-4532-bbfb-e34ba33704f8] 4916 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:29:22.429 DEBUG [d5f61f28-3ad1-47ae-822c-7bd1ed89768f] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:29:22.443 DEBUG [0b53cec9-66aa-4dc2-a963-34b833a8719a] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:22.443 DEBUG [3490d6cf-11a5-467c-b075-4f508a27b496] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:29:22.445 DEBUG [d5f61f28-3ad1-47ae-822c-7bd1ed89768f] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:29:22.458  WARN [d5f61f28-3ad1-47ae-822c-7bd1ed89768f] 4916 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:29:22.458 DEBUG [3490d6cf-11a5-467c-b075-4f508a27b496] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:29:22.459  INFO [3490d6cf-11a5-467c-b075-4f508a27b496] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:29:22.459 DEBUG [0b53cec9-66aa-4dc2-a963-34b833a8719a] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:22.459  WARN [d5f61f28-3ad1-47ae-822c-7bd1ed89768f] 4916 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:29:22.459  INFO [0b53cec9-66aa-4dc2-a963-34b833a8719a] 4916 --- [nio-8080-exec-2] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:22.478  INFO [3490d6cf-11a5-467c-b075-4f508a27b496] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:29:22.490 DEBUG [f1a164c0-f957-4001-b806-7271569fe047] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:29:22.527 DEBUG [f1a164c0-f957-4001-b806-7271569fe047] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:29:22.537  WARN [f1a164c0-f957-4001-b806-7271569fe047] 4916 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:29:22.538  WARN [f1a164c0-f957-4001-b806-7271569fe047] 4916 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:29:22.682 DEBUG [ea7b2b77-1224-4fad-a2eb-67789467409a] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:29:22.692 DEBUG [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:22.692 DEBUG [ea7b2b77-1224-4fad-a2eb-67789467409a] 4916 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:29:22.693  INFO [ea7b2b77-1224-4fad-a2eb-67789467409a] 4916 --- [nio-8080-exec-3] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:29:22.703 DEBUG [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:29:22.704  INFO [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:29:22.704  INFO [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:29:22.704  INFO [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:29:22.704  INFO [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:29:22.705  INFO [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:29:22.713  INFO [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:29:22.713  WARN [3ffee8c5-c1db-4b31-8581-46c8fd64917d] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:32:46.233 DEBUG [914f21dc-db62-4a4a-8f4a-020e652ddecb] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:32:46.253 DEBUG [914f21dc-db62-4a4a-8f4a-020e652ddecb] 4916 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:32:46.254  INFO [914f21dc-db62-4a4a-8f4a-020e652ddecb] 4916 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:32:46.266  INFO [914f21dc-db62-4a4a-8f4a-020e652ddecb] 4916 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:32:46.353 DEBUG [54ce8eb9-b898-43ba-ad4b-50d3f70076b2] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:32:46.365 DEBUG [80d4b4fb-85de-4523-bd59-3bdb3dfe8113] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:32:46.366 DEBUG [804d190b-fdd6-45b8-9d82-086c41bab3f7] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:32:46.366 DEBUG [54ce8eb9-b898-43ba-ad4b-50d3f70076b2] 4916 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:32:46.380  WARN [54ce8eb9-b898-43ba-ad4b-50d3f70076b2] 4916 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:32:46.382 DEBUG [804d190b-fdd6-45b8-9d82-086c41bab3f7] 4916 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:32:46.382  WARN [54ce8eb9-b898-43ba-ad4b-50d3f70076b2] 4916 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:32:46.382  INFO [804d190b-fdd6-45b8-9d82-086c41bab3f7] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:32:46.383 DEBUG [80d4b4fb-85de-4523-bd59-3bdb3dfe8113] 4916 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:32:46.384  INFO [80d4b4fb-85de-4523-bd59-3bdb3dfe8113] 4916 --- [nio-8080-exec-1] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:32:46.395 DEBUG [0631df7c-b869-470b-85de-b77612c86f32] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:32:46.399  INFO [804d190b-fdd6-45b8-9d82-086c41bab3f7] 4916 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:32:46.412 DEBUG [0631df7c-b869-470b-85de-b77612c86f32] 4916 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:32:46.420  WARN [0631df7c-b869-470b-85de-b77612c86f32] 4916 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:32:46.421  WARN [0631df7c-b869-470b-85de-b77612c86f32] 4916 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:32:46.754 DEBUG [03413f16-2d24-4c09-8b89-27412de0a6bf] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:32:46.768 DEBUG [03413f16-2d24-4c09-8b89-27412de0a6bf] 4916 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:32:46.771  INFO [03413f16-2d24-4c09-8b89-27412de0a6bf] 4916 --- [nio-8080-exec-2] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:32:46.772 DEBUG [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:32:46.802 DEBUG [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:32:46.803  INFO [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:32:46.803  INFO [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:32:46.804  INFO [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:32:46.804  INFO [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:32:46.804  INFO [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:32:46.812  INFO [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:32:46.812  WARN [d13ccf14-0fd2-44c2-a7c7-190857d2a704] 4916 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:33:04.154  INFO [NONE] 4916 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:33:04.158  INFO [NONE] 4916 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 16:33:04.164  INFO [NONE] 4916 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 16:33:13.518  INFO [NONE] 34376 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 34376 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 16:33:13.524 DEBUG [NONE] 34376 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 16:33:13.525  INFO [NONE] 34376 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 16:33:13.563  INFO [NONE] 34376 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 16:33:13.563  INFO [NONE] 34376 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 16:33:14.494  INFO [NONE] 34376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:33:14.574  INFO [NONE] 34376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 9 JPA repository interfaces.
2025-05-27 16:33:15.384  INFO [NONE] 34376 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 16:33:15.395  INFO [NONE] 34376 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 16:33:15.397  INFO [NONE] 34376 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 16:33:15.466  INFO [NONE] 34376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 16:33:15.467  INFO [NONE] 34376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1903 ms
2025-05-27 16:33:15.787  INFO [NONE] 34376 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:33:15.844  INFO [NONE] 34376 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 16:33:15.880  INFO [NONE] 34376 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 16:33:16.080  INFO [NONE] 34376 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:33:16.107  INFO [NONE] 34376 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 16:33:16.304  INFO [NONE] 34376 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@72ebff02
2025-05-27 16:33:16.307  INFO [NONE] 34376 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 16:33:16.369  WARN [NONE] 34376 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:33:17.618  INFO [NONE] 34376 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:33:24.909  INFO [NONE] 34376 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:33:25.187  INFO [NONE] 34376 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 16:33:25.554 DEBUG [NONE] 34376 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 16:33:25.556 DEBUG [NONE] 34376 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 16:33:25.713  INFO [NONE] 34376 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 16:33:25.975  INFO [NONE] 34376 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 16:33:25.975  WARN [NONE] 34376 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 16:33:25.976  WARN [NONE] 34376 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 16:33:25.976  WARN [NONE] 34376 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 16:33:25.976  WARN [NONE] 34376 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 16:33:26.031  WARN [NONE] 34376 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:33:26.161  INFO [NONE] 34376 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 16:33:26.443  INFO [NONE] 34376 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 16:33:26.525  INFO [NONE] 34376 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54b2ca10, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44fbef2d, org.springframework.security.web.context.SecurityContextHolderFilter@3acf0075, org.springframework.security.web.header.HeaderWriterFilter@5bd4e6cf, org.springframework.web.filter.CorsFilter@2eb5e4ff, org.springframework.security.web.authentication.logout.LogoutFilter@4f95b12, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@461d2e70, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@55594da7, org.example.xlr8travel.security.JwtAuthenticationFilter@4ceacbd6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6caf9edd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7b94522e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@15650747, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@115c30d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f7f32c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@512bdac5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5745adb1, org.springframework.security.web.session.SessionManagementFilter@3a96d75, org.springframework.security.web.access.ExceptionTranslationFilter@29ab96a1, org.springframework.security.web.access.intercept.AuthorizationFilter@30cf34d4]
2025-05-27 16:33:27.000  INFO [NONE] 34376 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 16:33:27.082  INFO [NONE] 34376 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 16:33:27.094  INFO [NONE] 34376 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 14.016 seconds (process running for 14.97)
2025-05-27 16:33:39.293  INFO [NONE] 34376 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:33:39.293  INFO [NONE] 34376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 16:33:39.295  INFO [NONE] 34376 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 16:33:39.323 DEBUG [16e84e4c-e07e-4be9-b961-ee2ad7234521] 34376 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:33:39.477 ERROR [16e84e4c-e07e-4be9-b961-ee2ad7234521] 34376 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:33:39.481 DEBUG [16e84e4c-e07e-4be9-b961-ee2ad7234521] 34376 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:33:39.481 DEBUG [16e84e4c-e07e-4be9-b961-ee2ad7234521] 34376 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id F09A21C1693BE3D944462AEB2C859EA7
2025-05-27 16:33:39.487  WARN [16e84e4c-e07e-4be9-b961-ee2ad7234521] 34376 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/geolocation/ip' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 16:33:39.510 DEBUG [16e84e4c-e07e-4be9-b961-ee2ad7234521] 34376 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:33:39.510 DEBUG [16e84e4c-e07e-4be9-b961-ee2ad7234521] 34376 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@59eb72a0
2025-05-27 16:33:39.524 DEBUG [b3063e71-16a5-46a2-9645-747cd59da3e2] 34376 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:33:39.534 ERROR [b3063e71-16a5-46a2-9645-747cd59da3e2] 34376 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:33:39.535 DEBUG [b3063e71-16a5-46a2-9645-747cd59da3e2] 34376 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:33:39.535 DEBUG [b3063e71-16a5-46a2-9645-747cd59da3e2] 34376 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id F09A21C1693BE3D944462AEB2C859EA7
2025-05-27 16:33:39.540 DEBUG [b3063e71-16a5-46a2-9645-747cd59da3e2] 34376 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:33:39.540 DEBUG [b3063e71-16a5-46a2-9645-747cd59da3e2] 34376 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@59eb72a0
2025-05-27 16:33:39.688 DEBUG [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:33:39.700 ERROR [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:33:39.701 DEBUG [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:33:39.701 DEBUG [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id F09A21C1693BE3D944462AEB2C859EA7
2025-05-27 16:33:39.705 DEBUG [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:33:39.741  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:33:39.742  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:33:39.742  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:33:39.743  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:33:39.744  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:33:39.800  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:33:39.800  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:33:39.801  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:33:39.801  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:33:39.802  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:33:39.802  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:33:39.802  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:33:39.802  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:33:39.803  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:33:39.803  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:33:39.803  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:33:39.803  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:33:39.803  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:33:39.803  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:33:39.804  INFO [0805cf41-5fc8-48fb-a99f-03a37f989156] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:33:42.987 DEBUG [278c427b-f0be-425f-93b3-75a6311b3f3c] 34376 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:33:43.010 DEBUG [278c427b-f0be-425f-93b3-75a6311b3f3c] 34376 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=rWOzu5siVlANe5G1Flsqs9751wAAEOxhgiq3MZn3b98%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:33:44.849 DEBUG [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=rWOzu5siVlANe5G1Flsqs9751wAAEOxhgiq3MZn3b98%3D&code=4%2F0AUJR-x4D8rA4IYiPkM8lLzNF1SxJDzidZteCviSOoA-LWvXfejLPPiSTc1UzonnIPPjcow&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=1&prompt=none
2025-05-27 16:33:45.332  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 16:33:45.409  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 16:33:45.410 DEBUG [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 24E78451D438E674E678FB7E25D1643E
2025-05-27 16:33:45.411 DEBUG [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=24E78451D438E674E678FB7E25D1643E], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:33:45.424  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:33:45.424  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:33:45.424  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:33:45.424  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:33:45.425  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:33:45.426  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:33:45.427  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:33:45.427  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:33:45.427  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:33:45.427  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:33:45.428  INFO [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:33:45.428 DEBUG [7c8bcb20-5d11-4c9c-8193-0644d996ae77] 34376 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:33:46.170 DEBUG [1a806240-c821-4d14-a715-d709345f73b3] 34376 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:33:46.170 DEBUG [53f50ecb-5a9f-4ca6-99ba-696f692b9fb4] 34376 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:33:46.170 DEBUG [3f582aac-dabf-4da0-bb20-95a495993c31] 34376 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:33:46.183 DEBUG [1a806240-c821-4d14-a715-d709345f73b3] 34376 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F5B110AF409D53F45B8740811FA5F6CF
2025-05-27 16:33:46.187 DEBUG [3f582aac-dabf-4da0-bb20-95a495993c31] 34376 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:33:46.188 DEBUG [1a806240-c821-4d14-a715-d709345f73b3] 34376 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:33:46.191  INFO [1a806240-c821-4d14-a715-d709345f73b3] 34376 --- [nio-8080-exec-6] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:33:46.191  INFO [3f582aac-dabf-4da0-bb20-95a495993c31] 34376 --- [nio-8080-exec-8] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:33:46.193 DEBUG [53f50ecb-5a9f-4ca6-99ba-696f692b9fb4] 34376 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:33:46.518 DEBUG [9e66a61c-34e0-42e2-9ef4-8f3329d465bb] 34376 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:33:46.534 DEBUG [9e66a61c-34e0-42e2-9ef4-8f3329d465bb] 34376 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:33:46.536  INFO [9e66a61c-34e0-42e2-9ef4-8f3329d465bb] 34376 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:33:46.547  INFO [9e66a61c-34e0-42e2-9ef4-8f3329d465bb] 34376 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:33:46.605 DEBUG [25e6c45c-7452-40e1-8584-26a0b927bf96] 34376 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:33:46.605 DEBUG [e584f6b7-bdf6-4b16-8fd8-5dab9d2be23e] 34376 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:33:46.607 DEBUG [5653da8b-1f75-4c57-9919-59e626613bcd] 34376 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:33:46.621 DEBUG [e584f6b7-bdf6-4b16-8fd8-5dab9d2be23e] 34376 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:33:46.622 DEBUG [5653da8b-1f75-4c57-9919-59e626613bcd] 34376 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:33:46.623  INFO [e584f6b7-bdf6-4b16-8fd8-5dab9d2be23e] 34376 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:33:46.623  INFO [5653da8b-1f75-4c57-9919-59e626613bcd] 34376 --- [nio-8080-exec-2] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:33:46.623 DEBUG [25e6c45c-7452-40e1-8584-26a0b927bf96] 34376 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:33:46.635  WARN [25e6c45c-7452-40e1-8584-26a0b927bf96] 34376 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:33:46.637 DEBUG [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=JFK
2025-05-27 16:33:46.642  INFO [e584f6b7-bdf6-4b16-8fd8-5dab9d2be23e] 34376 --- [nio-8080-exec-1] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 16:33:46.648  WARN [25e6c45c-7452-40e1-8584-26a0b927bf96] 34376 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:33:46.655 DEBUG [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0F1E8B3468505EA8503C113A2EE210A7
2025-05-27 16:33:46.657 DEBUG [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=JFK
2025-05-27 16:33:46.659  INFO [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: JFK, departureDate: null
2025-05-27 16:33:46.659  INFO [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:33:46.659  INFO [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: JFK-2025-05-27
2025-05-27 16:33:46.660  INFO [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: JFK, after date: 2025-05-27
2025-05-27 16:33:46.660  INFO [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: JFK, date: 2025-05-27
2025-05-27 16:33:46.662  INFO [e584f6b7-bdf6-4b16-8fd8-5dab9d2be23e] 34376 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:33:46.669  INFO [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:33:46.670  WARN [9a134438-e5d6-455a-be72-cafafd31f084] 34376 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No nearby flights found from: JFK after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:35:54.467  INFO [NONE] 34376 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:35:54.471  INFO [NONE] 34376 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 16:35:54.477  INFO [NONE] 34376 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 16:36:06.655  INFO [NONE] 33352 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 33352 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 16:36:06.660 DEBUG [NONE] 33352 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 16:36:06.661  INFO [NONE] 33352 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 16:36:06.698  INFO [NONE] 33352 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 16:36:06.698  INFO [NONE] 33352 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 16:36:07.556  INFO [NONE] 33352 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:36:07.633  INFO [NONE] 33352 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 9 JPA repository interfaces.
2025-05-27 16:36:08.407  INFO [NONE] 33352 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 16:36:08.434  INFO [NONE] 33352 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 16:36:08.436  INFO [NONE] 33352 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 16:36:08.521  INFO [NONE] 33352 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 16:36:08.523  INFO [NONE] 33352 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1823 ms
2025-05-27 16:36:08.785  INFO [NONE] 33352 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:36:08.848  INFO [NONE] 33352 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 16:36:08.889  INFO [NONE] 33352 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 16:36:09.085  INFO [NONE] 33352 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:36:09.108  INFO [NONE] 33352 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 16:36:09.240  INFO [NONE] 33352 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fb114ba
2025-05-27 16:36:09.242  INFO [NONE] 33352 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 16:36:09.283  WARN [NONE] 33352 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:36:10.349  INFO [NONE] 33352 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:36:17.577  INFO [NONE] 33352 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:36:17.890  INFO [NONE] 33352 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 16:36:18.393 DEBUG [NONE] 33352 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 16:36:18.396 DEBUG [NONE] 33352 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 16:36:18.630  INFO [NONE] 33352 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 16:36:18.998  INFO [NONE] 33352 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 16:36:18.999  WARN [NONE] 33352 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 16:36:18.999  WARN [NONE] 33352 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 16:36:18.999  WARN [NONE] 33352 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 16:36:18.999  WARN [NONE] 33352 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 16:36:19.053  WARN [NONE] 33352 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:36:19.183  INFO [NONE] 33352 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 16:36:19.501  INFO [NONE] 33352 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 16:36:19.608  INFO [NONE] 33352 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a4215f4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7325e9ad, org.springframework.security.web.context.SecurityContextHolderFilter@7c2f8b2b, org.springframework.security.web.header.HeaderWriterFilter@60f74a4d, org.springframework.web.filter.CorsFilter@68f0518d, org.springframework.security.web.authentication.logout.LogoutFilter@3ae5c7b6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@63711da6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@20550af5, org.example.xlr8travel.security.JwtAuthenticationFilter@70ca7201, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e80f5c4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@25865cbb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@550b2e59, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@45e1d9b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dd6fa61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66dd2142, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fcc7cb9, org.springframework.security.web.session.SessionManagementFilter@3343e524, org.springframework.security.web.access.ExceptionTranslationFilter@54636220, org.springframework.security.web.access.intercept.AuthorizationFilter@4bb8f926]
2025-05-27 16:36:20.155  INFO [NONE] 33352 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 16:36:20.235  INFO [NONE] 33352 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 16:36:20.246  INFO [NONE] 33352 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 13.991 seconds (process running for 14.455)
2025-05-27 16:36:21.330  INFO [NONE] 33352 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:36:21.331  INFO [NONE] 33352 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 16:36:21.332  INFO [NONE] 33352 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-27 16:36:21.353 DEBUG [64d4eb2f-99ca-4312-ba64-be701ac000ee] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:21.498 ERROR [64d4eb2f-99ca-4312-ba64-be701ac000ee] 33352 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:36:21.504 DEBUG [64d4eb2f-99ca-4312-ba64-be701ac000ee] 33352 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:36:21.510  WARN [64d4eb2f-99ca-4312-ba64-be701ac000ee] 33352 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/geolocation/ip' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 16:36:21.533 DEBUG [64d4eb2f-99ca-4312-ba64-be701ac000ee] 33352 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:36:21.534 DEBUG [64d4eb2f-99ca-4312-ba64-be701ac000ee] 33352 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@21850d88
2025-05-27 16:36:21.551 DEBUG [ae8f9db8-efb7-4326-81c9-d9ecf8292d18] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:21.563 ERROR [ae8f9db8-efb7-4326-81c9-d9ecf8292d18] 33352 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:36:21.564 DEBUG [ae8f9db8-efb7-4326-81c9-d9ecf8292d18] 33352 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:36:21.570 DEBUG [ae8f9db8-efb7-4326-81c9-d9ecf8292d18] 33352 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:36:21.571 DEBUG [ae8f9db8-efb7-4326-81c9-d9ecf8292d18] 33352 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@21850d88
2025-05-27 16:36:21.714 DEBUG [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:21.727 ERROR [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 16:36:21.728 DEBUG [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:36:21.732 DEBUG [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:21.758  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:36:21.759  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:36:21.759  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:36:21.759  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:36:21.759  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:36:21.864  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:36:21.865  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:36:21.866  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:36:21.866  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:36:21.867  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:36:21.867  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:36:21.867  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:36:21.867  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:36:21.867  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:36:21.868  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:36:21.868  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:36:21.868  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:36:21.868  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:36:21.868  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:36:21.869  INFO [4d51ed1e-cdb8-4fae-b434-d5cdf4fc70a5] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:36:26.943 DEBUG [6bc5544b-1425-4037-ae3e-0e8ae3fcfebc] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:36:26.957 DEBUG [6bc5544b-1425-4037-ae3e-0e8ae3fcfebc] 33352 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=Y2rqj6iBcLxdWJov9JhZlAT6xz6VsSd9CjbfiV1_27s%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:36:29.052 DEBUG [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=Y2rqj6iBcLxdWJov9JhZlAT6xz6VsSd9CjbfiV1_27s%3D&code=4%2F0AUJR-x6W1lN-sYdt4Fu9wcuiRJvwVz4uMIR6u013AkID28ex1cYiDx4hrYnDo4fj6nSQEw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 16:36:29.548  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 16:36:29.630  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 16:36:29.639 DEBUG [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DF1EC09F252E4B92322EBB7DFA333A11
2025-05-27 16:36:29.639 DEBUG [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=DF1EC09F252E4B92322EBB7DFA333A11], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:36:29.652  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:36:29.652  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:36:29.653  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:36:29.653  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:36:29.653  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:36:29.654  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:36:29.654  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:36:29.655  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:36:29.655  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:36:29.656  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:36:29.656  INFO [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:36:29.656 DEBUG [65c2e260-1bbb-408f-9271-a66087f6e2a9] 33352 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:36:30.429 DEBUG [e3417234-3cbd-4a2b-aecf-8179f2bfba56] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:30.430 DEBUG [08710dc5-6200-4076-a877-2edc411d82df] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:36:30.443 DEBUG [e3417234-3cbd-4a2b-aecf-8179f2bfba56] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 732F6A52BE37EA215D8D0499E641F5EF
2025-05-27 16:36:30.449 DEBUG [08710dc5-6200-4076-a877-2edc411d82df] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:36:30.450 DEBUG [e3417234-3cbd-4a2b-aecf-8179f2bfba56] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:36:30.452  INFO [e3417234-3cbd-4a2b-aecf-8179f2bfba56] 33352 --- [nio-8080-exec-6] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:36:30.452  INFO [08710dc5-6200-4076-a877-2edc411d82df] 33352 --- [nio-8080-exec-7] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:36:30.453  INFO [e3417234-3cbd-4a2b-aecf-8179f2bfba56] 33352 --- [nio-8080-exec-6] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:36:30.467 DEBUG [d1b63d9a-58f3-4a5a-a5e8-8b7aac5004e1] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:36:30.474 DEBUG [c706b2cd-9c71-475c-b750-d03c392063ad] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:30.484 DEBUG [d1b63d9a-58f3-4a5a-a5e8-8b7aac5004e1] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:36:30.489 DEBUG [c706b2cd-9c71-475c-b750-d03c392063ad] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:36:30.491  INFO [c706b2cd-9c71-475c-b750-d03c392063ad] 33352 --- [nio-8080-exec-9] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:36:30.491  INFO [c706b2cd-9c71-475c-b750-d03c392063ad] 33352 --- [nio-8080-exec-9] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:36:30.580 DEBUG [c629c62f-c156-42a1-a747-cbdbd8cfdce5] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:30.598 DEBUG [c629c62f-c156-42a1-a747-cbdbd8cfdce5] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4A277D6075EB33E5EE667ED978D27AFF
2025-05-27 16:36:30.600 DEBUG [c629c62f-c156-42a1-a747-cbdbd8cfdce5] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:30.602  INFO [c629c62f-c156-42a1-a747-cbdbd8cfdce5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:36:30.602  INFO [c629c62f-c156-42a1-a747-cbdbd8cfdce5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:36:30.602  INFO [c629c62f-c156-42a1-a747-cbdbd8cfdce5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:36:30.602  INFO [c629c62f-c156-42a1-a747-cbdbd8cfdce5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:36:30.855 DEBUG [8fde5744-29b9-4c8a-aca9-24869a6703b5] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:36:30.873 DEBUG [8fde5744-29b9-4c8a-aca9-24869a6703b5] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:36:30.875  INFO [8fde5744-29b9-4c8a-aca9-24869a6703b5] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:36:30.888  INFO [8fde5744-29b9-4c8a-aca9-24869a6703b5] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:36:30.942 DEBUG [3cb78d5d-10fa-43a3-9fbb-f70f44099314] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:36:30.945 DEBUG [bf55c68c-7d5b-4673-95b1-cf77e132dbb3] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:36:30.956 DEBUG [3cb78d5d-10fa-43a3-9fbb-f70f44099314] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3B167D5E9619532CC78E9C1B99442768
2025-05-27 16:36:30.959 DEBUG [3cb78d5d-10fa-43a3-9fbb-f70f44099314] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:36:30.961 DEBUG [bf55c68c-7d5b-4673-95b1-cf77e132dbb3] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:36:30.962  INFO [bf55c68c-7d5b-4673-95b1-cf77e132dbb3] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:36:30.971  WARN [3cb78d5d-10fa-43a3-9fbb-f70f44099314] 33352 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:36:30.976  INFO [bf55c68c-7d5b-4673-95b1-cf77e132dbb3] 33352 --- [nio-8080-exec-4] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 16:36:30.981  WARN [3cb78d5d-10fa-43a3-9fbb-f70f44099314] 33352 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:36:30.995  INFO [bf55c68c-7d5b-4673-95b1-cf77e132dbb3] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:36:49.403 DEBUG [11e13875-22bf-4444-9890-0a0009a5bfb5] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:36:49.418 DEBUG [11e13875-22bf-4444-9890-0a0009a5bfb5] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:36:49.419  INFO [11e13875-22bf-4444-9890-0a0009a5bfb5] 33352 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:36:49.428  INFO [11e13875-22bf-4444-9890-0a0009a5bfb5] 33352 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:36:49.504 DEBUG [57b39c06-6287-4d1f-9432-b916003c56d4] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:36:49.504 DEBUG [c3853586-f3b7-4d41-9fe8-8679a352b16a] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:36:49.504 DEBUG [676de2df-816b-48c4-822f-ef45a5ed9221] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:49.517 DEBUG [676de2df-816b-48c4-822f-ef45a5ed9221] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E6D640E439C05D6B8DC944B0FCBD66C4
2025-05-27 16:36:49.519 DEBUG [c3853586-f3b7-4d41-9fe8-8679a352b16a] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:36:49.520 DEBUG [676de2df-816b-48c4-822f-ef45a5ed9221] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:36:49.520 DEBUG [57b39c06-6287-4d1f-9432-b916003c56d4] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:36:49.521  INFO [c3853586-f3b7-4d41-9fe8-8679a352b16a] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:36:49.521  INFO [676de2df-816b-48c4-822f-ef45a5ed9221] 33352 --- [nio-8080-exec-6] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:36:49.521  INFO [676de2df-816b-48c4-822f-ef45a5ed9221] 33352 --- [nio-8080-exec-6] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:36:49.546  WARN [57b39c06-6287-4d1f-9432-b916003c56d4] 33352 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:36:49.548  WARN [57b39c06-6287-4d1f-9432-b916003c56d4] 33352 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:36:49.583  INFO [c3853586-f3b7-4d41-9fe8-8679a352b16a] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:36:49.602 DEBUG [400aa783-0835-4b4a-9001-1766a3b595aa] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:49.624 DEBUG [400aa783-0835-4b4a-9001-1766a3b595aa] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:36:49.626  INFO [400aa783-0835-4b4a-9001-1766a3b595aa] 33352 --- [nio-8080-exec-9] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:36:49.626  INFO [400aa783-0835-4b4a-9001-1766a3b595aa] 33352 --- [nio-8080-exec-9] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:36:49.634 DEBUG [10b8935d-84d8-4113-a25f-c222d0c863df] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:49.635 DEBUG [19ebcfcc-6d9f-41b8-b479-e2bb29c802f7] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:36:49.681 DEBUG [10b8935d-84d8-4113-a25f-c222d0c863df] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 47C23DC5BD3051B8291D5258CD64EAF9
2025-05-27 16:36:49.681 DEBUG [19ebcfcc-6d9f-41b8-b479-e2bb29c802f7] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:36:49.684 DEBUG [10b8935d-84d8-4113-a25f-c222d0c863df] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:49.685  INFO [10b8935d-84d8-4113-a25f-c222d0c863df] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:36:49.686  INFO [10b8935d-84d8-4113-a25f-c222d0c863df] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:36:49.686  INFO [10b8935d-84d8-4113-a25f-c222d0c863df] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:36:49.687  INFO [10b8935d-84d8-4113-a25f-c222d0c863df] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:36:49.694  WARN [19ebcfcc-6d9f-41b8-b479-e2bb29c802f7] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:36:49.695  WARN [19ebcfcc-6d9f-41b8-b479-e2bb29c802f7] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:36:52.459 DEBUG [b07fceac-959b-487a-b703-6c01437eabcb] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:36:52.472 DEBUG [b07fceac-959b-487a-b703-6c01437eabcb] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:36:52.474  INFO [b07fceac-959b-487a-b703-6c01437eabcb] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:36:52.481  INFO [b07fceac-959b-487a-b703-6c01437eabcb] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:36:52.574 DEBUG [70cfc8e0-f048-4149-bdf0-8fd7b27f2ebe] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:36:52.589 DEBUG [70cfc8e0-f048-4149-bdf0-8fd7b27f2ebe] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 61C7222F0667D53AFD1A6D6D3C81185A
2025-05-27 16:36:52.592 DEBUG [70cfc8e0-f048-4149-bdf0-8fd7b27f2ebe] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:36:52.619 DEBUG [988c4bc8-f37b-44a4-bd73-700ffe07b2c7] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:52.624 DEBUG [d1699fde-8309-4492-86cd-78efdfea6097] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:36:52.626  WARN [70cfc8e0-f048-4149-bdf0-8fd7b27f2ebe] 33352 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:36:52.632  WARN [70cfc8e0-f048-4149-bdf0-8fd7b27f2ebe] 33352 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:36:52.672 DEBUG [988c4bc8-f37b-44a4-bd73-700ffe07b2c7] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:36:52.675  INFO [988c4bc8-f37b-44a4-bd73-700ffe07b2c7] 33352 --- [nio-8080-exec-5] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:36:52.676  INFO [988c4bc8-f37b-44a4-bd73-700ffe07b2c7] 33352 --- [nio-8080-exec-5] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:36:52.677 DEBUG [d1699fde-8309-4492-86cd-78efdfea6097] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:36:52.678  INFO [d1699fde-8309-4492-86cd-78efdfea6097] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:36:52.708  INFO [d1699fde-8309-4492-86cd-78efdfea6097] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:36:52.713 DEBUG [5ea8015d-035a-4332-960b-97430e9d3de2] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:36:52.736 DEBUG [5ea8015d-035a-4332-960b-97430e9d3de2] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:36:52.748  WARN [5ea8015d-035a-4332-960b-97430e9d3de2] 33352 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:36:52.749 DEBUG [59918e0d-e266-483d-81eb-7d8afe5816d9] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:36:52.751  WARN [5ea8015d-035a-4332-960b-97430e9d3de2] 33352 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:36:52.774 DEBUG [de1fdea1-0fe3-48fa-b408-962946f81184] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:52.779 DEBUG [59918e0d-e266-483d-81eb-7d8afe5816d9] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:36:52.780  INFO [59918e0d-e266-483d-81eb-7d8afe5816d9] 33352 --- [nio-8080-exec-7] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:36:52.780  INFO [59918e0d-e266-483d-81eb-7d8afe5816d9] 33352 --- [nio-8080-exec-7] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:36:52.794 DEBUG [de1fdea1-0fe3-48fa-b408-962946f81184] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3036B30BB70DC4A62E921E1DE5F2447C
2025-05-27 16:36:52.796 DEBUG [de1fdea1-0fe3-48fa-b408-962946f81184] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:36:52.796  INFO [de1fdea1-0fe3-48fa-b408-962946f81184] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:36:52.797  INFO [de1fdea1-0fe3-48fa-b408-962946f81184] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:36:52.797  INFO [de1fdea1-0fe3-48fa-b408-962946f81184] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:36:52.797  INFO [de1fdea1-0fe3-48fa-b408-962946f81184] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:37:18.875 DEBUG [023b2e12-db82-41a7-a20b-5044fdde4875] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:37:18.876 DEBUG [023b2e12-db82-41a7-a20b-5044fdde4875] 33352 --- [nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:37:22.067 DEBUG [1c740393-9ff8-49a4-ae13-2ed1004a770c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:37:22.084 DEBUG [1c740393-9ff8-49a4-ae13-2ed1004a770c] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 73FB200B3535F1AC3DA0B76EAFFBB839
2025-05-27 16:37:22.086 DEBUG [1c740393-9ff8-49a4-ae13-2ed1004a770c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:37:22.087  INFO [1c740393-9ff8-49a4-ae13-2ed1004a770c] 33352 --- [io-8080-exec-10] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:37:22.087  INFO [1c740393-9ff8-49a4-ae13-2ed1004a770c] 33352 --- [io-8080-exec-10] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:37:22.101 DEBUG [1741d7a5-e82b-4db8-af51-f4d88a3a31c8] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:37:22.124 DEBUG [1741d7a5-e82b-4db8-af51-f4d88a3a31c8] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:37:22.125  INFO [1741d7a5-e82b-4db8-af51-f4d88a3a31c8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:37:22.125  INFO [1741d7a5-e82b-4db8-af51-f4d88a3a31c8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:37:22.143 DEBUG [87b53462-608b-4bc4-a9e7-d1cafddb6bc5] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:37:22.157 DEBUG [87b53462-608b-4bc4-a9e7-d1cafddb6bc5] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 63DCA8D1493BCCC14794389C130EC42F
2025-05-27 16:37:22.158 DEBUG [87b53462-608b-4bc4-a9e7-d1cafddb6bc5] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:37:22.160  INFO [87b53462-608b-4bc4-a9e7-d1cafddb6bc5] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:37:22.160  INFO [87b53462-608b-4bc4-a9e7-d1cafddb6bc5] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:37:22.160  INFO [87b53462-608b-4bc4-a9e7-d1cafddb6bc5] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:37:22.160  INFO [87b53462-608b-4bc4-a9e7-d1cafddb6bc5] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:37:31.679 DEBUG [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 16:37:31.680 DEBUG [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:37:31.680 DEBUG [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 16:37:31.699  INFO [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 16:37:31.919  INFO [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 16:37:31.919  INFO [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 16:37:32.065 DEBUG [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 16:37:32.065  INFO [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 16:37:32.082  INFO [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 16:37:32.083  INFO [1133e70b-b0ef-4931-8565-eca6e804886b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 16:37:32.129 DEBUG [1a8cc9ed-9d87-4fa1-92c8-5f0c020b2a14] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:37:32.133 DEBUG [7ef29ead-3135-4fae-b314-72e3e442ca96] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:37:32.146 DEBUG [1a8cc9ed-9d87-4fa1-92c8-5f0c020b2a14] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4E5EC2C926EED12C94AD770A50FAC049
2025-05-27 16:37:32.148 DEBUG [1a8cc9ed-9d87-4fa1-92c8-5f0c020b2a14] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:37:32.150 DEBUG [7ef29ead-3135-4fae-b314-72e3e442ca96] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:37:32.151  INFO [7ef29ead-3135-4fae-b314-72e3e442ca96] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:37:32.160  WARN [1a8cc9ed-9d87-4fa1-92c8-5f0c020b2a14] 33352 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:37:32.163  WARN [1a8cc9ed-9d87-4fa1-92c8-5f0c020b2a14] 33352 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:37:32.179  INFO [7ef29ead-3135-4fae-b314-72e3e442ca96] 33352 --- [nio-8080-exec-3] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user user2 with ID 2, creating a new one.
2025-05-27 16:37:32.201  INFO [7ef29ead-3135-4fae-b314-72e3e442ca96] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 16:37:35.100 DEBUG [4f1cd966-a2ae-40ca-bab3-31ba8d87ccd3] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:37:35.101 DEBUG [4f1cd966-a2ae-40ca-bab3-31ba8d87ccd3] 33352 --- [nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:38:17.546 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 16:38:17.559 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4932F9CDD608A4B723248709ADCBDC56
2025-05-27 16:38:17.560 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 16:38:17.563  INFO [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Weekend trip from Bucharest to Paris
2025-05-27 16:38:17.563  INFO [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : No closest airport provided or determined, defaulting to OTP
2025-05-27 16:38:17.563  INFO [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 16:38:17.565 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Weekend trip from Bucharest to Paris";
2025-05-27 16:38:17.567  INFO [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 16:38:20.359 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-06-03",
  "returnDate": "2025-06-06",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 16:38:20.359 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 16:38:20.362 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 16:38:20.362 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 16:38:20.368 DEBUG [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 16:38:20.368  INFO [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 16:38:20.368  INFO [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-06-03, returnDate=2025-06-06, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 16:38:20.368  INFO [06f9b888-8600-452f-a566-337480124174] 33352 --- [nio-8080-exec-7] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 16:38:24.434 DEBUG [29f89071-aab0-4670-9080-2c19c180266d] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 16:38:24.455 DEBUG [29f89071-aab0-4670-9080-2c19c180266d] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AC520E461D750FB16958A3144027B0FE
2025-05-27 16:38:24.457 DEBUG [29f89071-aab0-4670-9080-2c19c180266d] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 16:38:24.468  INFO [29f89071-aab0-4670-9080-2c19c180266d] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 16:38:24.468  INFO [29f89071-aab0-4670-9080-2c19c180266d] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-06-03
2025-05-27 16:38:24.532  INFO [29f89071-aab0-4670-9080-2c19c180266d] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:38:24.544 DEBUG [862a4108-bc66-4279-b33e-9f6c648a57c6] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 16:38:24.549 DEBUG [3251b42c-2ec2-476e-b50d-38b889288bc5] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 16:38:24.556 DEBUG [862a4108-bc66-4279-b33e-9f6c648a57c6] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-06-03&tripType=oneWay
2025-05-27 16:38:24.558  INFO [862a4108-bc66-4279-b33e-9f6c648a57c6] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 16:38:24.558  INFO [862a4108-bc66-4279-b33e-9f6c648a57c6] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-06-03
2025-05-27 16:38:24.560 DEBUG [3251b42c-2ec2-476e-b50d-38b889288bc5] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from ECF6AED659A8D0A40ED4686C75F02955
2025-05-27 16:38:24.561 DEBUG [3251b42c-2ec2-476e-b50d-38b889288bc5] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 16:38:24.562  INFO [3251b42c-2ec2-476e-b50d-38b889288bc5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-06, Return=null, Pax=1/0/0
2025-05-27 16:38:24.562  INFO [3251b42c-2ec2-476e-b50d-38b889288bc5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-06
2025-05-27 16:38:24.570  WARN [3251b42c-2ec2-476e-b50d-38b889288bc5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-06
2025-05-27 16:38:24.570  INFO [3251b42c-2ec2-476e-b50d-38b889288bc5] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 16:38:24.619  INFO [862a4108-bc66-4279-b33e-9f6c648a57c6] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:38:24.634 DEBUG [426c49bb-a656-42b8-aa26-326137758825] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 16:38:24.645 DEBUG [426c49bb-a656-42b8-aa26-326137758825] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 278E182CCF7B6C7F37633EA4913438B6
2025-05-27 16:38:24.646 DEBUG [426c49bb-a656-42b8-aa26-326137758825] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-06&tripType=oneWay
2025-05-27 16:38:24.647  INFO [426c49bb-a656-42b8-aa26-326137758825] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-06, Return=null, Pax=1/0/0
2025-05-27 16:38:24.647  INFO [426c49bb-a656-42b8-aa26-326137758825] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-06
2025-05-27 16:38:24.654  WARN [426c49bb-a656-42b8-aa26-326137758825] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-06
2025-05-27 16:38:24.654  INFO [426c49bb-a656-42b8-aa26-326137758825] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 16:38:30.460 DEBUG [d4c09ed6-2766-403b-87b1-950c71225d5e] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:38:30.481 DEBUG [d4c09ed6-2766-403b-87b1-950c71225d5e] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3C7C29FED79A938F15B10DAB2693B601
2025-05-27 16:38:30.483 DEBUG [d4c09ed6-2766-403b-87b1-950c71225d5e] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:38:30.483  INFO [d4c09ed6-2766-403b-87b1-950c71225d5e] 33352 --- [nio-8080-exec-2] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:38:30.483  INFO [d4c09ed6-2766-403b-87b1-950c71225d5e] 33352 --- [nio-8080-exec-2] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:38:30.495 DEBUG [be59fa10-1163-4695-8408-c3c8b4f69ad7] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/geolocation/ip
2025-05-27 16:38:30.503 DEBUG [0534df7d-139d-45d8-b51c-b5d1f180ef2a] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:38:30.509 DEBUG [be59fa10-1163-4695-8408-c3c8b4f69ad7] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/geolocation/ip
2025-05-27 16:38:30.510  INFO [be59fa10-1163-4695-8408-c3c8b4f69ad7] 33352 --- [nio-8080-exec-4] o.e.x.controllers.GeolocationController  : Getting location for IP: 0:0:0:0:0:0:0:1
2025-05-27 16:38:30.510  INFO [be59fa10-1163-4695-8408-c3c8b4f69ad7] 33352 --- [nio-8080-exec-4] o.e.x.controllers.GeolocationController  : Localhost detected, using default location for development
2025-05-27 16:38:30.513 DEBUG [0534df7d-139d-45d8-b51c-b5d1f180ef2a] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E4669F3C4FA57B06DB740E4755985D42
2025-05-27 16:38:30.514 DEBUG [0534df7d-139d-45d8-b51c-b5d1f180ef2a] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:38:30.515  INFO [0534df7d-139d-45d8-b51c-b5d1f180ef2a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:38:30.516  INFO [0534df7d-139d-45d8-b51c-b5d1f180ef2a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:38:30.516  INFO [0534df7d-139d-45d8-b51c-b5d1f180ef2a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:38:30.516  INFO [0534df7d-139d-45d8-b51c-b5d1f180ef2a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:42:12.858 DEBUG [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=AMS
2025-05-27 16:42:12.906 DEBUG [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F55A714DF7904045DFAE8779E30264F5
2025-05-27 16:42:12.907 DEBUG [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=AMS
2025-05-27 16:42:12.909  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: AMS, departureDate: null
2025-05-27 16:42:12.909  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:42:12.910  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: AMS-2025-05-27
2025-05-27 16:42:12.912  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: AMS, after date: 2025-05-27
2025-05-27 16:42:12.913  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: AMS, date: 2025-05-27
2025-05-27 16:42:13.003  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 2 flights
2025-05-27 16:42:13.004  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 2 Flight entities to FlightDTOs
2025-05-27 16:42:13.004  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 2 FlightDTOs
2025-05-27 16:42:13.004  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:42:13.004  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 1 countries
2025-05-27 16:42:13.004  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:42:13.005  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Romania (has 2 flights)
2025-05-27 16:42:13.005  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : First pass only yielded 1 flights, adding more in second pass
2025-05-27 16:42:13.005  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Country Romania has 1 additional flights to consider
2025-05-27 16:42:13.005  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding additional flight from Romania
2025-05-27 16:42:13.005  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 2 diverse flights with key: AMS-2025-05-27
2025-05-27 16:42:13.006  INFO [21602ec7-8cf3-4a2b-9c31-3d9a88ea729a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 2 diverse nearby flights from: AMS
2025-05-27 16:42:14.624 DEBUG [aa783f7d-ee77-4a52-9b69-517ce086ea80] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=AMS
2025-05-27 16:42:14.634 DEBUG [aa783f7d-ee77-4a52-9b69-517ce086ea80] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 16F5B97D9D27A6D6DB8301D4D6BF2B72
2025-05-27 16:42:14.636 DEBUG [aa783f7d-ee77-4a52-9b69-517ce086ea80] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=AMS
2025-05-27 16:42:14.637  INFO [aa783f7d-ee77-4a52-9b69-517ce086ea80] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: AMS, departureDate: null
2025-05-27 16:42:14.637  INFO [aa783f7d-ee77-4a52-9b69-517ce086ea80] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:42:14.637  INFO [aa783f7d-ee77-4a52-9b69-517ce086ea80] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: AMS-2025-05-27
2025-05-27 16:42:14.637  INFO [aa783f7d-ee77-4a52-9b69-517ce086ea80] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: AMS, found 2 flights
2025-05-27 16:42:23.950 DEBUG [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:42:23.962 DEBUG [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F0F0E368E2D5397778E04720C0FB8D26
2025-05-27 16:42:23.963 DEBUG [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:42:23.964  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:42:23.964  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:42:23.964  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:42:23.964  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:42:23.964  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:42:24.022  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:42:24.023  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:42:24.023  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:42:24.023  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:42:24.023  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:42:24.023  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:42:24.023  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:42:24.024  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:42:24.024  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:42:24.024  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:42:24.024  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:42:24.024  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:42:24.024  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:42:24.025  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:42:24.025  INFO [9e274c67-f22e-41fa-8d07-c1a3bb091f30] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:42:31.683 DEBUG [d3b02cdd-bad3-4a16-b66c-fc8a3493cac8] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 16:42:31.685 DEBUG [d3b02cdd-bad3-4a16-b66c-fc8a3493cac8] 33352 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=NnINX3Rt7q6eQXPII-kUTPhMAbYuX82QCM2QLK-DfMs%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 16:42:33.217 DEBUG [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=NnINX3Rt7q6eQXPII-kUTPhMAbYuX82QCM2QLK-DfMs%3D&code=4%2F0AUJR-x7Zn_VLH4nedEVkNpSLb6MoxzQBaYABHnt0tQccRN0GFqrBis0LAeJi_P3mKT3Xrg&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 16:42:33.510  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 16:42:33.533 DEBUG [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8509160D3BC5833D50DC1278F91AF19A
2025-05-27 16:42:33.534 DEBUG [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8509160D3BC5833D50DC1278F91AF19A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 16:42:33.535  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:42:33.535  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:42:33.536  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:42:33.536  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:42:33.536  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:42:33.537  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 16:42:33.537  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 16:42:33.537  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 16:42:33.537  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 16:42:33.538  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 16:42:33.538  INFO [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 16:42:33.538 DEBUG [d937333d-fb6c-4a29-a842-f77c155ccdf5] 33352 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 16:42:34.244 DEBUG [269df2c1-1e4a-40ad-a175-3f2280ae93db] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:42:34.244 DEBUG [5e5ee9fd-4168-4c3d-b66c-d805b0b8863c] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 16:42:34.257 DEBUG [5e5ee9fd-4168-4c3d-b66c-d805b0b8863c] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 95EACF4F20FB96794BAE782B602AD85F
2025-05-27 16:42:34.257 DEBUG [269df2c1-1e4a-40ad-a175-3f2280ae93db] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A170EA447D3B88AE0E110C53B7D26A61
2025-05-27 16:42:34.258 DEBUG [5e5ee9fd-4168-4c3d-b66c-d805b0b8863c] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:42:34.258 DEBUG [269df2c1-1e4a-40ad-a175-3f2280ae93db] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 16:42:34.258  INFO [5e5ee9fd-4168-4c3d-b66c-d805b0b8863c] 33352 --- [nio-8080-exec-1] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 16:42:34.459 DEBUG [3ac53a69-5aad-4de2-adb4-0b01259319e1] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:42:34.472 DEBUG [3ac53a69-5aad-4de2-adb4-0b01259319e1] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E7D321B2CBAFFDFAF32D8047EEFA196C
2025-05-27 16:42:34.473 DEBUG [3ac53a69-5aad-4de2-adb4-0b01259319e1] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:42:34.474  INFO [3ac53a69-5aad-4de2-adb4-0b01259319e1] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:42:34.474  INFO [3ac53a69-5aad-4de2-adb4-0b01259319e1] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:42:34.475  INFO [3ac53a69-5aad-4de2-adb4-0b01259319e1] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:42:34.476  INFO [3ac53a69-5aad-4de2-adb4-0b01259319e1] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:42:34.727 DEBUG [2db1c7a8-4eff-4a49-95d7-31dc6babce44] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:42:34.737 DEBUG [2db1c7a8-4eff-4a49-95d7-31dc6babce44] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:42:34.737  INFO [2db1c7a8-4eff-4a49-95d7-31dc6babce44] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:42:34.743  INFO [2db1c7a8-4eff-4a49-95d7-31dc6babce44] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:42:34.784 DEBUG [0ffda435-43c3-4aba-bbf2-39ffb0e2a826] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:42:34.785 DEBUG [3ff6694f-e05b-43ac-8bd1-c4bb226ea069] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:42:34.795 DEBUG [3ff6694f-e05b-43ac-8bd1-c4bb226ea069] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4A398F969FF7B76E9A98CC1808B69AC1
2025-05-27 16:42:34.796 DEBUG [3ff6694f-e05b-43ac-8bd1-c4bb226ea069] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:42:34.796 DEBUG [0ffda435-43c3-4aba-bbf2-39ffb0e2a826] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:42:34.797  INFO [3ff6694f-e05b-43ac-8bd1-c4bb226ea069] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:42:34.805  WARN [0ffda435-43c3-4aba-bbf2-39ffb0e2a826] 33352 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:42:34.806  WARN [0ffda435-43c3-4aba-bbf2-39ffb0e2a826] 33352 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:42:34.812  INFO [3ff6694f-e05b-43ac-8bd1-c4bb226ea069] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:42:39.269 DEBUG [681a2b17-035b-447b-8005-c4cb04debba2] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:42:39.279 DEBUG [681a2b17-035b-447b-8005-c4cb04debba2] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:42:39.279  INFO [681a2b17-035b-447b-8005-c4cb04debba2] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:42:39.285  INFO [681a2b17-035b-447b-8005-c4cb04debba2] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:42:39.314 DEBUG [9e4257c6-1940-4c56-9d38-2ca230b113d5] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:42:39.328 DEBUG [9e4257c6-1940-4c56-9d38-2ca230b113d5] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E486DDBB6BFAA5F457BB5473793C69AD
2025-05-27 16:42:39.331 DEBUG [9e4257c6-1940-4c56-9d38-2ca230b113d5] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:42:39.340  WARN [9e4257c6-1940-4c56-9d38-2ca230b113d5] 33352 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:42:39.340  WARN [9e4257c6-1940-4c56-9d38-2ca230b113d5] 33352 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:42:39.582 DEBUG [5d1def92-6073-42f3-a586-0e1faac756fd] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:42:39.595 DEBUG [5d1def92-6073-42f3-a586-0e1faac756fd] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:42:39.595  INFO [5d1def92-6073-42f3-a586-0e1faac756fd] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:42:39.601  INFO [5d1def92-6073-42f3-a586-0e1faac756fd] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:42:39.618 DEBUG [23ce0797-a61d-414e-b970-3e394f395e71] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:42:39.629 DEBUG [23ce0797-a61d-414e-b970-3e394f395e71] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 34B45DBAE68CA3092FBE5CD92F4A9C39
2025-05-27 16:42:39.630 DEBUG [23ce0797-a61d-414e-b970-3e394f395e71] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:42:39.639  WARN [23ce0797-a61d-414e-b970-3e394f395e71] 33352 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:42:39.640  WARN [23ce0797-a61d-414e-b970-3e394f395e71] 33352 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:42:41.544 DEBUG [802a5f89-8535-44d4-9b03-f5809ad96480] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:42:41.555 DEBUG [802a5f89-8535-44d4-9b03-f5809ad96480] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9F0FA98F061AEFAB38D997E3BF9A9A26
2025-05-27 16:42:41.556 DEBUG [802a5f89-8535-44d4-9b03-f5809ad96480] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:42:41.557  INFO [802a5f89-8535-44d4-9b03-f5809ad96480] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:42:41.557  INFO [802a5f89-8535-44d4-9b03-f5809ad96480] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:42:41.557  INFO [802a5f89-8535-44d4-9b03-f5809ad96480] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:42:41.557  INFO [802a5f89-8535-44d4-9b03-f5809ad96480] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:42:52.883 DEBUG [baf7107e-45f2-470a-83cc-31b98ed4c841] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:42:52.897 DEBUG [baf7107e-45f2-470a-83cc-31b98ed4c841] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:42:52.898  INFO [baf7107e-45f2-470a-83cc-31b98ed4c841] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:42:52.905  INFO [baf7107e-45f2-470a-83cc-31b98ed4c841] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:42:52.979 DEBUG [a495f98a-d76c-4319-b759-30d7cb91d5cc] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:42:52.985 DEBUG [dfe1d79b-fc5b-4ec9-8200-4a3e44bf0612] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:42:52.995 DEBUG [a495f98a-d76c-4319-b759-30d7cb91d5cc] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 34F3D63BA753CF9B72969693AE76E5EE
2025-05-27 16:42:52.997 DEBUG [a495f98a-d76c-4319-b759-30d7cb91d5cc] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:42:53.001 DEBUG [dfe1d79b-fc5b-4ec9-8200-4a3e44bf0612] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:42:53.003  INFO [dfe1d79b-fc5b-4ec9-8200-4a3e44bf0612] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:42:53.013  WARN [a495f98a-d76c-4319-b759-30d7cb91d5cc] 33352 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:42:53.016  WARN [a495f98a-d76c-4319-b759-30d7cb91d5cc] 33352 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:42:53.029  INFO [dfe1d79b-fc5b-4ec9-8200-4a3e44bf0612] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:42:53.047 DEBUG [1e0eb7fa-fbce-4f1b-81b6-38c20e690c34] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:42:53.079 DEBUG [1e0eb7fa-fbce-4f1b-81b6-38c20e690c34] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:42:53.089  WARN [1e0eb7fa-fbce-4f1b-81b6-38c20e690c34] 33352 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:42:53.090  WARN [1e0eb7fa-fbce-4f1b-81b6-38c20e690c34] 33352 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:42:53.277 DEBUG [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 16:42:53.294 DEBUG [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7535CBB44FA9AE4C4708F6544FE28DD6
2025-05-27 16:42:53.295 DEBUG [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 16:42:53.296  INFO [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 16:42:53.296  INFO [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:42:53.297  INFO [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 16:42:53.297  INFO [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 16:42:53.297  INFO [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 16:42:53.307  INFO [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:42:53.308  WARN [5094be1d-94e9-4927-a9a1-9fb32f46a8ea] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:42:58.026 DEBUG [42e227b3-fc40-4002-bff2-1ff0dde7200f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:42:58.038 DEBUG [42e227b3-fc40-4002-bff2-1ff0dde7200f] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 380A953F144AC368B68EACEB5EAC5A2D
2025-05-27 16:42:58.039 DEBUG [42e227b3-fc40-4002-bff2-1ff0dde7200f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:42:58.046  INFO [42e227b3-fc40-4002-bff2-1ff0dde7200f] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:42:58.047  INFO [42e227b3-fc40-4002-bff2-1ff0dde7200f] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:42:58.059 DEBUG [4b0b541c-8c9a-4f12-9a95-6fe75183df9e] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:42:58.070 DEBUG [4b0b541c-8c9a-4f12-9a95-6fe75183df9e] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:42:58.076  INFO [4b0b541c-8c9a-4f12-9a95-6fe75183df9e] 33352 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:42:58.076  INFO [4b0b541c-8c9a-4f12-9a95-6fe75183df9e] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:42:58.827 DEBUG [9828187e-528b-4113-8951-dcbf164b5f3e] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:42:58.839 DEBUG [9828187e-528b-4113-8951-dcbf164b5f3e] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0A94E983EF8E3AA55AE32177B26B7FC0
2025-05-27 16:42:58.841 DEBUG [9828187e-528b-4113-8951-dcbf164b5f3e] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:42:58.849  INFO [9828187e-528b-4113-8951-dcbf164b5f3e] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:42:58.849  INFO [9828187e-528b-4113-8951-dcbf164b5f3e] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:42:58.895  INFO [9828187e-528b-4113-8951-dcbf164b5f3e] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:42:58.906 DEBUG [a69adefa-c173-4de3-8e8c-180f52ea8244] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:42:58.918 DEBUG [a69adefa-c173-4de3-8e8c-180f52ea8244] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:42:58.924  INFO [a69adefa-c173-4de3-8e8c-180f52ea8244] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:42:58.925  INFO [a69adefa-c173-4de3-8e8c-180f52ea8244] 33352 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:42:58.967  INFO [a69adefa-c173-4de3-8e8c-180f52ea8244] 33352 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:42:59.616 DEBUG [099b157c-16a6-422a-88c7-a8f526127d52] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:42:59.631 DEBUG [099b157c-16a6-422a-88c7-a8f526127d52] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CB2FFCCAE81F70D2EAB72DD26FDF0ED6
2025-05-27 16:42:59.632 DEBUG [099b157c-16a6-422a-88c7-a8f526127d52] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:42:59.633  INFO [099b157c-16a6-422a-88c7-a8f526127d52] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:42:59.645  INFO [099b157c-16a6-422a-88c7-a8f526127d52] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:42:59.654 DEBUG [57a818e4-454e-446c-ab19-1337815a88af] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:42:59.665 DEBUG [57a818e4-454e-446c-ab19-1337815a88af] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:42:59.666  INFO [57a818e4-454e-446c-ab19-1337815a88af] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:42:59.677  INFO [57a818e4-454e-446c-ab19-1337815a88af] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:43:02.165 DEBUG [6ad3ae6c-35eb-4272-9841-6a4eaff0fa1b] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:43:02.181 DEBUG [6ad3ae6c-35eb-4272-9841-6a4eaff0fa1b] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 58C2DAE6AB75AC1B98052B1676DDC2EC
2025-05-27 16:43:02.183 DEBUG [6ad3ae6c-35eb-4272-9841-6a4eaff0fa1b] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:43:02.192  INFO [6ad3ae6c-35eb-4272-9841-6a4eaff0fa1b] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:43:02.192  INFO [6ad3ae6c-35eb-4272-9841-6a4eaff0fa1b] 33352 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:43:02.207 DEBUG [fd021987-1b1b-4e52-b1bb-009b67f41acd] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:43:02.220 DEBUG [fd021987-1b1b-4e52-b1bb-009b67f41acd] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:43:02.226  INFO [fd021987-1b1b-4e52-b1bb-009b67f41acd] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:43:02.227  INFO [fd021987-1b1b-4e52-b1bb-009b67f41acd] 33352 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:43:03.027 DEBUG [27de8930-3ef9-4438-8bd6-55b88c297d0d] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:43:03.038 DEBUG [27de8930-3ef9-4438-8bd6-55b88c297d0d] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 59012326FA029724588B9C2467EECB8E
2025-05-27 16:43:03.040 DEBUG [27de8930-3ef9-4438-8bd6-55b88c297d0d] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:43:03.046  INFO [27de8930-3ef9-4438-8bd6-55b88c297d0d] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:43:03.047  INFO [27de8930-3ef9-4438-8bd6-55b88c297d0d] 33352 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:43:03.085  INFO [27de8930-3ef9-4438-8bd6-55b88c297d0d] 33352 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:43:03.094 DEBUG [06b22ec3-68a4-48ae-8c47-124c507b6adf] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:43:03.106 DEBUG [06b22ec3-68a4-48ae-8c47-124c507b6adf] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:43:03.111  INFO [06b22ec3-68a4-48ae-8c47-124c507b6adf] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:43:03.112  INFO [06b22ec3-68a4-48ae-8c47-124c507b6adf] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:43:03.148  INFO [06b22ec3-68a4-48ae-8c47-124c507b6adf] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:43:03.655 DEBUG [c2854cf4-aa8c-4797-b156-c4fe1c2f9f8f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:43:03.666 DEBUG [c2854cf4-aa8c-4797-b156-c4fe1c2f9f8f] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C8ABC22CC1D26EF622D2E39B946214C6
2025-05-27 16:43:03.667 DEBUG [c2854cf4-aa8c-4797-b156-c4fe1c2f9f8f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:43:03.675  INFO [c2854cf4-aa8c-4797-b156-c4fe1c2f9f8f] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:43:03.676  INFO [c2854cf4-aa8c-4797-b156-c4fe1c2f9f8f] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:43:03.688 DEBUG [9ca09d46-cd33-46cd-ac33-dc0205a0a24b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:43:03.698 DEBUG [9ca09d46-cd33-46cd-ac33-dc0205a0a24b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:43:03.703  INFO [9ca09d46-cd33-46cd-ac33-dc0205a0a24b] 33352 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:43:03.703  INFO [9ca09d46-cd33-46cd-ac33-dc0205a0a24b] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:43:04.460 DEBUG [2a1287d9-7ddd-477e-a162-789c4ce691f7] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:43:04.472 DEBUG [2a1287d9-7ddd-477e-a162-789c4ce691f7] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D60D4AF43B1AC52BEE2A9D33C667946D
2025-05-27 16:43:04.473 DEBUG [2a1287d9-7ddd-477e-a162-789c4ce691f7] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:43:04.474  INFO [2a1287d9-7ddd-477e-a162-789c4ce691f7] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:43:04.488  INFO [2a1287d9-7ddd-477e-a162-789c4ce691f7] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:43:04.501 DEBUG [64c5190d-1313-4782-93d5-2ca0306f7966] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:43:04.509 DEBUG [64c5190d-1313-4782-93d5-2ca0306f7966] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:43:04.510  INFO [64c5190d-1313-4782-93d5-2ca0306f7966] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:43:04.519  INFO [64c5190d-1313-4782-93d5-2ca0306f7966] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:43:08.398 DEBUG [df1c0be3-d17f-48d2-8e7d-65fb6d543173] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:43:08.411 DEBUG [df1c0be3-d17f-48d2-8e7d-65fb6d543173] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D17E1C62DC6769BE4AB96D22D0F6B37B
2025-05-27 16:43:08.412 DEBUG [df1c0be3-d17f-48d2-8e7d-65fb6d543173] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:43:08.420  INFO [df1c0be3-d17f-48d2-8e7d-65fb6d543173] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:43:08.420  INFO [df1c0be3-d17f-48d2-8e7d-65fb6d543173] 33352 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:43:08.435 DEBUG [6edeb6f1-9ad6-41e7-8e8c-13270c8a415d] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:43:08.445 DEBUG [6edeb6f1-9ad6-41e7-8e8c-13270c8a415d] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:43:08.451  INFO [6edeb6f1-9ad6-41e7-8e8c-13270c8a415d] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:43:08.451  INFO [6edeb6f1-9ad6-41e7-8e8c-13270c8a415d] 33352 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:43:09.668 DEBUG [878b603d-4ccb-4007-8286-b558c4abe1c8] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:43:09.683 DEBUG [878b603d-4ccb-4007-8286-b558c4abe1c8] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7FE90B080472363D1EC7CC7F6939FD7D
2025-05-27 16:43:09.683 DEBUG [878b603d-4ccb-4007-8286-b558c4abe1c8] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:43:09.684  INFO [878b603d-4ccb-4007-8286-b558c4abe1c8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:43:09.697  INFO [878b603d-4ccb-4007-8286-b558c4abe1c8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:43:09.709 DEBUG [7b5b5002-c631-4a28-8dc8-ec46d6c66fa7] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:43:09.721 DEBUG [7b5b5002-c631-4a28-8dc8-ec46d6c66fa7] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:43:09.721  INFO [7b5b5002-c631-4a28-8dc8-ec46d6c66fa7] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:43:09.732  INFO [7b5b5002-c631-4a28-8dc8-ec46d6c66fa7] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:43:58.600 DEBUG [bdd2c822-a416-44a8-a639-a0d32ca32a38] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:43:58.612 DEBUG [bdd2c822-a416-44a8-a639-a0d32ca32a38] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A5A8037E0448F827D73CF630B986AB07
2025-05-27 16:43:58.614 DEBUG [bdd2c822-a416-44a8-a639-a0d32ca32a38] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:43:58.614  INFO [bdd2c822-a416-44a8-a639-a0d32ca32a38] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:43:58.627  INFO [bdd2c822-a416-44a8-a639-a0d32ca32a38] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:01.671 DEBUG [03f8410e-7bc1-4895-8682-8d9a388dbb6f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:01.685 DEBUG [03f8410e-7bc1-4895-8682-8d9a388dbb6f] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AEBF7A92510F984775BF4D06A4391C43
2025-05-27 16:44:01.686 DEBUG [03f8410e-7bc1-4895-8682-8d9a388dbb6f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:01.687  INFO [03f8410e-7bc1-4895-8682-8d9a388dbb6f] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:01.704  INFO [03f8410e-7bc1-4895-8682-8d9a388dbb6f] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:06.545 DEBUG [e8f70899-fb5d-4765-9c62-13d8667f84b0] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:06.557 DEBUG [e8f70899-fb5d-4765-9c62-13d8667f84b0] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F3A477460102C176186DB77E3F138EEA
2025-05-27 16:44:06.558 DEBUG [e8f70899-fb5d-4765-9c62-13d8667f84b0] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:06.559  INFO [e8f70899-fb5d-4765-9c62-13d8667f84b0] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:06.570  INFO [e8f70899-fb5d-4765-9c62-13d8667f84b0] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:27.170 DEBUG [6ebffadc-2bfd-4987-b0c3-7c51ae09b6fe] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:27.182 DEBUG [6ebffadc-2bfd-4987-b0c3-7c51ae09b6fe] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E4BBDFB002CA71DAB637A6CE860D3140
2025-05-27 16:44:27.184 DEBUG [6ebffadc-2bfd-4987-b0c3-7c51ae09b6fe] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:27.185  INFO [6ebffadc-2bfd-4987-b0c3-7c51ae09b6fe] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:27.196  INFO [6ebffadc-2bfd-4987-b0c3-7c51ae09b6fe] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:33.229 DEBUG [5c2dc68b-1f1e-4885-9d23-98f849da0eb0] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:33.243 DEBUG [5c2dc68b-1f1e-4885-9d23-98f849da0eb0] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 52AD332A3C811E4BEFA122831A8C5523
2025-05-27 16:44:33.245 DEBUG [5c2dc68b-1f1e-4885-9d23-98f849da0eb0] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:33.246  INFO [5c2dc68b-1f1e-4885-9d23-98f849da0eb0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:33.260  INFO [5c2dc68b-1f1e-4885-9d23-98f849da0eb0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:37.037 DEBUG [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 16:44:37.047 DEBUG [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DD5F9D6EF59A259E9006179980AC2E6F
2025-05-27 16:44:37.048 DEBUG [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 16:44:37.049  INFO [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 16:44:37.049  INFO [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:44:37.050  INFO [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 16:44:37.050  INFO [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 16:44:37.050  INFO [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 16:44:37.056  INFO [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:44:37.056  WARN [dfc90baf-f5a6-4bff-a9ce-255fee3f1ba8] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:44:38.057 DEBUG [8fd9bac4-5f38-4f34-a255-35cb0fcb0187] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:38.080 DEBUG [8fd9bac4-5f38-4f34-a255-35cb0fcb0187] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 90FDEF6B51AE2CB0F44699EEB36436B8
2025-05-27 16:44:38.081 DEBUG [8fd9bac4-5f38-4f34-a255-35cb0fcb0187] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:38.081  INFO [8fd9bac4-5f38-4f34-a255-35cb0fcb0187] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:38.097  INFO [8fd9bac4-5f38-4f34-a255-35cb0fcb0187] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:38.111 DEBUG [09b12739-2e80-4395-8340-ca2c053b0481] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:38.121 DEBUG [09b12739-2e80-4395-8340-ca2c053b0481] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:38.122  INFO [09b12739-2e80-4395-8340-ca2c053b0481] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:38.132  INFO [09b12739-2e80-4395-8340-ca2c053b0481] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:38.714 DEBUG [144e7754-856b-4f85-b496-5b3714ccd977] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:44:38.726 DEBUG [144e7754-856b-4f85-b496-5b3714ccd977] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 423B4438B1A7F2CAD2AD09599DAD6F02
2025-05-27 16:44:38.727 DEBUG [144e7754-856b-4f85-b496-5b3714ccd977] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:44:38.735  INFO [144e7754-856b-4f85-b496-5b3714ccd977] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:44:38.735  INFO [144e7754-856b-4f85-b496-5b3714ccd977] 33352 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:44:38.749 DEBUG [ccf3dc57-4638-4128-9cc3-029c52377dd0] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:44:38.759 DEBUG [ccf3dc57-4638-4128-9cc3-029c52377dd0] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:44:38.766  INFO [ccf3dc57-4638-4128-9cc3-029c52377dd0] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:44:38.766  INFO [ccf3dc57-4638-4128-9cc3-029c52377dd0] 33352 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:44:39.356 DEBUG [4049b775-83a6-418c-b3ba-73570022f1da] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:44:39.366 DEBUG [4049b775-83a6-418c-b3ba-73570022f1da] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from ED90EFBE529DB83075ECE8F6AA5143F5
2025-05-27 16:44:39.367 DEBUG [4049b775-83a6-418c-b3ba-73570022f1da] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:44:39.375  INFO [4049b775-83a6-418c-b3ba-73570022f1da] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:44:39.375  INFO [4049b775-83a6-418c-b3ba-73570022f1da] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:44:39.415  INFO [4049b775-83a6-418c-b3ba-73570022f1da] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:44:39.424 DEBUG [1499d9e7-9264-4402-924f-17ce926cd9e1] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:44:39.435 DEBUG [1499d9e7-9264-4402-924f-17ce926cd9e1] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:44:39.440  INFO [1499d9e7-9264-4402-924f-17ce926cd9e1] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:44:39.441  INFO [1499d9e7-9264-4402-924f-17ce926cd9e1] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:44:39.478  INFO [1499d9e7-9264-4402-924f-17ce926cd9e1] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:44:40.214 DEBUG [5cdae24d-84b0-4a42-ac90-721b3c333fb5] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:40.224 DEBUG [5cdae24d-84b0-4a42-ac90-721b3c333fb5] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B045C996DC0B332E6809DCC456AE8C83
2025-05-27 16:44:40.225 DEBUG [5cdae24d-84b0-4a42-ac90-721b3c333fb5] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:40.226  INFO [5cdae24d-84b0-4a42-ac90-721b3c333fb5] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:40.238  INFO [5cdae24d-84b0-4a42-ac90-721b3c333fb5] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:40.248 DEBUG [d47b5c55-d320-4d6b-ba57-7c42c2335b94] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:40.258 DEBUG [d47b5c55-d320-4d6b-ba57-7c42c2335b94] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:40.259  INFO [d47b5c55-d320-4d6b-ba57-7c42c2335b94] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:40.268  INFO [d47b5c55-d320-4d6b-ba57-7c42c2335b94] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:45.566 DEBUG [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 16:44:45.575 DEBUG [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D80738CF700FE74C0DB7D9D8DF6D3DEB
2025-05-27 16:44:45.576 DEBUG [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 16:44:45.577  INFO [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 16:44:45.577  INFO [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:44:45.577  INFO [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 16:44:45.577  INFO [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 16:44:45.577  INFO [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 16:44:45.584  INFO [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:44:45.584  WARN [27b45dc4-c8ef-4ac1-9ce3-a55c4fac4261] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:44:47.011 DEBUG [9e4015b5-d017-4f93-8b3b-80687b9f3e48] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:47.033 DEBUG [9e4015b5-d017-4f93-8b3b-80687b9f3e48] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BD2DABD28197956DB10F4C0734E9ABD0
2025-05-27 16:44:47.035 DEBUG [9e4015b5-d017-4f93-8b3b-80687b9f3e48] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:47.036  INFO [9e4015b5-d017-4f93-8b3b-80687b9f3e48] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:47.050  INFO [9e4015b5-d017-4f93-8b3b-80687b9f3e48] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:47.060 DEBUG [0156f2cb-ebd1-4e6d-b191-999f44e4bd45] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:47.073 DEBUG [0156f2cb-ebd1-4e6d-b191-999f44e4bd45] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:47.074  INFO [0156f2cb-ebd1-4e6d-b191-999f44e4bd45] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:47.086  INFO [0156f2cb-ebd1-4e6d-b191-999f44e4bd45] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:47.832 DEBUG [2301dd26-5d91-45f2-a592-2716a23805f5] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:44:47.842 DEBUG [2301dd26-5d91-45f2-a592-2716a23805f5] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1A3CBF1DE46A13784742A576AFCABF08
2025-05-27 16:44:47.843 DEBUG [2301dd26-5d91-45f2-a592-2716a23805f5] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:44:47.848  INFO [2301dd26-5d91-45f2-a592-2716a23805f5] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:44:47.849  INFO [2301dd26-5d91-45f2-a592-2716a23805f5] 33352 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:44:47.860 DEBUG [555cd82f-4c8b-454d-8a59-5a86bcae005b] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 16:44:47.871 DEBUG [555cd82f-4c8b-454d-8a59-5a86bcae005b] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 16:44:47.877  INFO [555cd82f-4c8b-454d-8a59-5a86bcae005b] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 16:44:47.877  INFO [555cd82f-4c8b-454d-8a59-5a86bcae005b] 33352 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 16:44:48.406 DEBUG [d02061a5-f6c3-424a-99c8-0241ad4da33d] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:44:48.417 DEBUG [d02061a5-f6c3-424a-99c8-0241ad4da33d] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CA1B92A51125EBB88F29497AF4AB044F
2025-05-27 16:44:48.419 DEBUG [d02061a5-f6c3-424a-99c8-0241ad4da33d] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:44:48.426  INFO [d02061a5-f6c3-424a-99c8-0241ad4da33d] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:44:48.426  INFO [d02061a5-f6c3-424a-99c8-0241ad4da33d] 33352 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:44:48.464  INFO [d02061a5-f6c3-424a-99c8-0241ad4da33d] 33352 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:44:48.474 DEBUG [5f41cc6c-c7bf-446b-94af-97297ba5336e] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 16:44:48.486 DEBUG [5f41cc6c-c7bf-446b-94af-97297ba5336e] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 16:44:48.493  INFO [5f41cc6c-c7bf-446b-94af-97297ba5336e] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 16:44:48.494  INFO [5f41cc6c-c7bf-446b-94af-97297ba5336e] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 16:44:48.533  INFO [5f41cc6c-c7bf-446b-94af-97297ba5336e] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 16:44:49.894 DEBUG [19b7e50c-d043-41b9-a5a5-a80781d94584] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 16:44:49.908 DEBUG [19b7e50c-d043-41b9-a5a5-a80781d94584] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 16:44:49.908  INFO [19b7e50c-d043-41b9-a5a5-a80781d94584] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 16:44:49.916  INFO [19b7e50c-d043-41b9-a5a5-a80781d94584] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 16:44:50.020 DEBUG [1f1a4bfa-356a-4c52-a09d-2c22f0f1fa11] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:44:50.020 DEBUG [33d771af-42c9-4845-85ee-b69f7602a717] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 16:44:50.031 DEBUG [33d771af-42c9-4845-85ee-b69f7602a717] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 37CEDDBCBC36CC31BFCB9EBF0BFB21E8
2025-05-27 16:44:50.031 DEBUG [1f1a4bfa-356a-4c52-a09d-2c22f0f1fa11] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 496B28A69271FADA390CA78DAC2D2556
2025-05-27 16:44:50.032 DEBUG [33d771af-42c9-4845-85ee-b69f7602a717] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 16:44:50.032 DEBUG [1f1a4bfa-356a-4c52-a09d-2c22f0f1fa11] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:44:50.032  INFO [33d771af-42c9-4845-85ee-b69f7602a717] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 16:44:50.043  WARN [1f1a4bfa-356a-4c52-a09d-2c22f0f1fa11] 33352 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:44:50.045  WARN [1f1a4bfa-356a-4c52-a09d-2c22f0f1fa11] 33352 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:44:50.050  INFO [33d771af-42c9-4845-85ee-b69f7602a717] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 16:44:50.059 DEBUG [d4bec95f-8c5a-44a9-a3b8-40596c84e896] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 16:44:50.071 DEBUG [d4bec95f-8c5a-44a9-a3b8-40596c84e896] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 16:44:50.080  WARN [d4bec95f-8c5a-44a9-a3b8-40596c84e896] 33352 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 16:44:50.081  WARN [d4bec95f-8c5a-44a9-a3b8-40596c84e896] 33352 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 16:44:51.169 DEBUG [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 16:44:51.179 DEBUG [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 16:44:51.180  INFO [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 16:44:51.180  INFO [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:44:51.180  INFO [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 16:44:51.180  INFO [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 16:44:51.181  INFO [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 16:44:51.186  INFO [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:44:51.186  WARN [d8930a97-a16c-4a22-aca8-d07f537a2b28] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:44:51.706 DEBUG [870a27a3-d5ba-48bd-a915-0283debe3eff] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 16:44:51.706 DEBUG [870a27a3-d5ba-48bd-a915-0283debe3eff] 33352 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 16:44:54.926 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 16:44:54.936 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 16:44:54.938  INFO [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: Family vacation to Rome in July with 2 kids
2025-05-27 16:44:54.943  INFO [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: CRL
2025-05-27 16:44:54.944  INFO [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: CRL
2025-05-27 16:44:54.944 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is CRL. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'CRL' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "Family vacation to Rome in July with 2 kids";
2025-05-27 16:44:54.947  INFO [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 16:44:56.770 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "CRL",
  "destination": "FCO",
  "departureDate": "2025-07-15",
  "returnDate": "2025-07-22",
  "tripType": "roundTrip",
  "adults": 2,
  "children": 2,
  "infants": 0
}
```
2025-05-27 16:44:56.771 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'CRL'
2025-05-27 16:44:56.771 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'CRL', userClosestAirport: 'CRL'
2025-05-27 16:44:56.772 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'CRL', isClosestAirportPlaceholder: false
2025-05-27 16:44:56.772 DEBUG [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'CRL'
2025-05-27 16:44:56.772  INFO [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'CRL'
2025-05-27 16:44:56.772  INFO [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=CRL, destination=FCO, departureDate=2025-07-15, returnDate=2025-07-22, tripType=roundTrip, adults=2, children=2, infants=0
2025-05-27 16:44:56.772  INFO [af1eb255-fe93-4783-8889-61ac4b692e0c] 33352 --- [nio-8080-exec-5] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: CRL, Destination: FCO
2025-05-27 16:45:07.723 DEBUG [8be323af-bef7-42c0-8125-f28e91d26922] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:45:07.755 DEBUG [8be323af-bef7-42c0-8125-f28e91d26922] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:45:07.757  INFO [8be323af-bef7-42c0-8125-f28e91d26922] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:45:07.758  INFO [8be323af-bef7-42c0-8125-f28e91d26922] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:45:07.759  INFO [8be323af-bef7-42c0-8125-f28e91d26922] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:45:07.759  INFO [8be323af-bef7-42c0-8125-f28e91d26922] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:45:12.555 DEBUG [440371df-977b-4f79-8a16-8a92ad84efc4] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:12.569 DEBUG [440371df-977b-4f79-8a16-8a92ad84efc4] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:12.571  INFO [440371df-977b-4f79-8a16-8a92ad84efc4] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:45:12.571  INFO [440371df-977b-4f79-8a16-8a92ad84efc4] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:45:12.631  INFO [440371df-977b-4f79-8a16-8a92ad84efc4] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:45:12.643 DEBUG [7a6154a2-9613-407c-899f-00b9da159663] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:12.657 DEBUG [7a6154a2-9613-407c-899f-00b9da159663] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:12.659  INFO [7a6154a2-9613-407c-899f-00b9da159663] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:45:12.659  INFO [7a6154a2-9613-407c-899f-00b9da159663] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:45:12.708  INFO [7a6154a2-9613-407c-899f-00b9da159663] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:45:35.520 DEBUG [8ac02609-c25f-4bdb-bf4e-58c964377d4f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:35.532 DEBUG [8ac02609-c25f-4bdb-bf4e-58c964377d4f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:35.534  INFO [8ac02609-c25f-4bdb-bf4e-58c964377d4f] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:45:35.534  INFO [8ac02609-c25f-4bdb-bf4e-58c964377d4f] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:45:35.583  INFO [8ac02609-c25f-4bdb-bf4e-58c964377d4f] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:45:35.595 DEBUG [38c93356-6002-4780-a632-0d271721673a] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:35.608 DEBUG [38c93356-6002-4780-a632-0d271721673a] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:35.609  INFO [38c93356-6002-4780-a632-0d271721673a] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:45:35.609  INFO [38c93356-6002-4780-a632-0d271721673a] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:45:35.664  INFO [38c93356-6002-4780-a632-0d271721673a] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:45:50.220 DEBUG [68ceb57d-3c9d-493e-b4be-06553deab00a] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:50.231 DEBUG [68ceb57d-3c9d-493e-b4be-06553deab00a] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:50.232  INFO [68ceb57d-3c9d-493e-b4be-06553deab00a] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:45:50.233  INFO [68ceb57d-3c9d-493e-b4be-06553deab00a] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:45:50.293  INFO [68ceb57d-3c9d-493e-b4be-06553deab00a] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:45:50.303 DEBUG [76dcf340-0409-4ad5-a786-55c517d8e1f9] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:50.313 DEBUG [76dcf340-0409-4ad5-a786-55c517d8e1f9] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:50.315  INFO [76dcf340-0409-4ad5-a786-55c517d8e1f9] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:45:50.315  INFO [76dcf340-0409-4ad5-a786-55c517d8e1f9] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:45:50.370  INFO [76dcf340-0409-4ad5-a786-55c517d8e1f9] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:45:59.856 DEBUG [7ee5a7f7-5594-49ff-81be-9f4729f164b2] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:59.892 DEBUG [7ee5a7f7-5594-49ff-81be-9f4729f164b2] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:45:59.895  INFO [7ee5a7f7-5594-49ff-81be-9f4729f164b2] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:45:59.895  INFO [7ee5a7f7-5594-49ff-81be-9f4729f164b2] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:46:00.007  INFO [7ee5a7f7-5594-49ff-81be-9f4729f164b2] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:46:00.022 DEBUG [0349b0e6-2592-4d0f-b93c-76f14588426e] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:46:00.042 DEBUG [0349b0e6-2592-4d0f-b93c-76f14588426e] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:46:00.043  INFO [0349b0e6-2592-4d0f-b93c-76f14588426e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:46:00.044  INFO [0349b0e6-2592-4d0f-b93c-76f14588426e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:46:00.111  INFO [0349b0e6-2592-4d0f-b93c-76f14588426e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:46:39.525 DEBUG [8e7597d1-dd8c-4939-b215-fa5b572c1926] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:46:39.541 DEBUG [8e7597d1-dd8c-4939-b215-fa5b572c1926] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:46:39.542  INFO [8e7597d1-dd8c-4939-b215-fa5b572c1926] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:46:39.542  INFO [8e7597d1-dd8c-4939-b215-fa5b572c1926] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:46:39.588  INFO [8e7597d1-dd8c-4939-b215-fa5b572c1926] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:46:39.599 DEBUG [27f760a6-ca38-4cb8-ae8d-aee656d33300] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:46:39.609 DEBUG [27f760a6-ca38-4cb8-ae8d-aee656d33300] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:46:39.610  INFO [27f760a6-ca38-4cb8-ae8d-aee656d33300] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:46:39.611  INFO [27f760a6-ca38-4cb8-ae8d-aee656d33300] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:46:39.651  INFO [27f760a6-ca38-4cb8-ae8d-aee656d33300] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:47:28.810 DEBUG [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:47:28.821 DEBUG [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:47:28.822  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:47:28.823  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:47:28.823  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:47:28.823  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:47:28.823  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:47:28.870  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:47:28.870  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:47:28.870  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:47:28.870  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:47:28.871  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:47:28.871  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:47:28.871  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:47:28.871  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:47:28.871  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:47:28.871  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:47:28.871  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:47:28.872  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:47:28.872  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:47:28.872  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:47:28.872  INFO [2ff499e7-59dd-4c8e-92a2-c18e8bde8510] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:47:56.043 DEBUG [427f10a2-7e57-4cb8-8098-b2b99eb28da1] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:47:56.056 DEBUG [427f10a2-7e57-4cb8-8098-b2b99eb28da1] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:47:56.058  INFO [427f10a2-7e57-4cb8-8098-b2b99eb28da1] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:47:56.059  INFO [427f10a2-7e57-4cb8-8098-b2b99eb28da1] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:47:56.129  INFO [427f10a2-7e57-4cb8-8098-b2b99eb28da1] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:47:56.138 DEBUG [a58bf842-3eed-42ed-81c4-bc75f6481d0b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:47:56.149 DEBUG [a58bf842-3eed-42ed-81c4-bc75f6481d0b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:47:56.150  INFO [a58bf842-3eed-42ed-81c4-bc75f6481d0b] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:47:56.151  INFO [a58bf842-3eed-42ed-81c4-bc75f6481d0b] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:47:56.207  INFO [a58bf842-3eed-42ed-81c4-bc75f6481d0b] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:48:00.091 DEBUG [991e92a8-3e54-48d5-9040-7537c0ffccbb] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:48:00.111 DEBUG [991e92a8-3e54-48d5-9040-7537c0ffccbb] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:48:00.112  INFO [991e92a8-3e54-48d5-9040-7537c0ffccbb] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:48:00.112  INFO [991e92a8-3e54-48d5-9040-7537c0ffccbb] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:48:00.112  INFO [991e92a8-3e54-48d5-9040-7537c0ffccbb] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:48:00.112  INFO [991e92a8-3e54-48d5-9040-7537c0ffccbb] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:48:29.699 DEBUG [7852d5c4-04a1-4434-b23a-204cec8d1962] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:48:29.722 DEBUG [7852d5c4-04a1-4434-b23a-204cec8d1962] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:48:29.723  INFO [7852d5c4-04a1-4434-b23a-204cec8d1962] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:48:29.724  INFO [7852d5c4-04a1-4434-b23a-204cec8d1962] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:48:29.785  INFO [7852d5c4-04a1-4434-b23a-204cec8d1962] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:48:29.798 DEBUG [abe86c38-61f8-4078-981f-ed4ceb9ac86c] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:48:29.813 DEBUG [abe86c38-61f8-4078-981f-ed4ceb9ac86c] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:48:29.814  INFO [abe86c38-61f8-4078-981f-ed4ceb9ac86c] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:48:29.814  INFO [abe86c38-61f8-4078-981f-ed4ceb9ac86c] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:48:29.878  INFO [abe86c38-61f8-4078-981f-ed4ceb9ac86c] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:49:21.228 DEBUG [b5c7a168-5f04-44b8-8296-33dad047e7b1] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:21.243 DEBUG [b5c7a168-5f04-44b8-8296-33dad047e7b1] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:21.245  INFO [b5c7a168-5f04-44b8-8296-33dad047e7b1] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:49:21.245  INFO [b5c7a168-5f04-44b8-8296-33dad047e7b1] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:49:21.298  INFO [b5c7a168-5f04-44b8-8296-33dad047e7b1] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:49:21.310 DEBUG [f15c8a50-774e-461a-9d72-15cb7b3a886c] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:21.322 DEBUG [f15c8a50-774e-461a-9d72-15cb7b3a886c] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:21.324  INFO [f15c8a50-774e-461a-9d72-15cb7b3a886c] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:49:21.324  INFO [f15c8a50-774e-461a-9d72-15cb7b3a886c] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:49:21.377  INFO [f15c8a50-774e-461a-9d72-15cb7b3a886c] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:49:51.772 DEBUG [28917e17-fe72-4bd3-9686-100b489beac8] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:51.784 DEBUG [28917e17-fe72-4bd3-9686-100b489beac8] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:51.786  INFO [28917e17-fe72-4bd3-9686-100b489beac8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:49:51.787  INFO [28917e17-fe72-4bd3-9686-100b489beac8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:49:51.854  INFO [28917e17-fe72-4bd3-9686-100b489beac8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:49:51.873 DEBUG [079f1ebc-0400-4244-9718-93b833040737] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:51.886 DEBUG [079f1ebc-0400-4244-9718-93b833040737] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:51.888  INFO [079f1ebc-0400-4244-9718-93b833040737] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:49:51.888  INFO [079f1ebc-0400-4244-9718-93b833040737] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:49:51.952  INFO [079f1ebc-0400-4244-9718-93b833040737] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:49:55.914 DEBUG [0d32c29d-3503-4c57-b301-282cfc03a2c1] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:55.925 DEBUG [0d32c29d-3503-4c57-b301-282cfc03a2c1] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:55.927  INFO [0d32c29d-3503-4c57-b301-282cfc03a2c1] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:49:55.927  INFO [0d32c29d-3503-4c57-b301-282cfc03a2c1] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:49:55.987  INFO [0d32c29d-3503-4c57-b301-282cfc03a2c1] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:49:56.000 DEBUG [c38b9102-c5f3-4db6-9c6b-99c5aa16632d] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:56.013 DEBUG [c38b9102-c5f3-4db6-9c6b-99c5aa16632d] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:49:56.015  INFO [c38b9102-c5f3-4db6-9c6b-99c5aa16632d] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:49:56.015  INFO [c38b9102-c5f3-4db6-9c6b-99c5aa16632d] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:49:56.077  INFO [c38b9102-c5f3-4db6-9c6b-99c5aa16632d] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:50:52.290 DEBUG [05974019-466f-4634-b47c-a8b402c0fcc7] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:52.303 DEBUG [05974019-466f-4634-b47c-a8b402c0fcc7] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:52.304  INFO [05974019-466f-4634-b47c-a8b402c0fcc7] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:50:52.305  INFO [05974019-466f-4634-b47c-a8b402c0fcc7] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:50:52.352  INFO [05974019-466f-4634-b47c-a8b402c0fcc7] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:50:52.361 DEBUG [537cb3ea-05db-4ff8-9384-3ffff0c3efab] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:52.370 DEBUG [537cb3ea-05db-4ff8-9384-3ffff0c3efab] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:52.371  INFO [537cb3ea-05db-4ff8-9384-3ffff0c3efab] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:50:52.371  INFO [537cb3ea-05db-4ff8-9384-3ffff0c3efab] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:50:52.424  INFO [537cb3ea-05db-4ff8-9384-3ffff0c3efab] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:50:55.799 DEBUG [34e2d2d3-3a7b-4d27-9eb0-25cd12980b77] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:55.811 DEBUG [34e2d2d3-3a7b-4d27-9eb0-25cd12980b77] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:55.812  INFO [34e2d2d3-3a7b-4d27-9eb0-25cd12980b77] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:50:55.812  INFO [34e2d2d3-3a7b-4d27-9eb0-25cd12980b77] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:50:55.867  INFO [34e2d2d3-3a7b-4d27-9eb0-25cd12980b77] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:50:55.877 DEBUG [4722f06b-93b6-47a2-856c-55b34ea167ad] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:55.887 DEBUG [4722f06b-93b6-47a2-856c-55b34ea167ad] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:50:55.888  INFO [4722f06b-93b6-47a2-856c-55b34ea167ad] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:50:55.889  INFO [4722f06b-93b6-47a2-856c-55b34ea167ad] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:50:55.943  INFO [4722f06b-93b6-47a2-856c-55b34ea167ad] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:53:55.925 DEBUG [2ec52fee-f4ae-4c24-a53b-dc6430147f8b] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:53:55.936 DEBUG [2ec52fee-f4ae-4c24-a53b-dc6430147f8b] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:53:55.938  INFO [2ec52fee-f4ae-4c24-a53b-dc6430147f8b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:53:55.938  INFO [2ec52fee-f4ae-4c24-a53b-dc6430147f8b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:53:55.985  INFO [2ec52fee-f4ae-4c24-a53b-dc6430147f8b] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:53:55.996 DEBUG [043fb7aa-9cc5-46a2-962d-9e518990b5e4] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:53:56.005 DEBUG [043fb7aa-9cc5-46a2-962d-9e518990b5e4] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:53:56.006  INFO [043fb7aa-9cc5-46a2-962d-9e518990b5e4] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:53:56.007  INFO [043fb7aa-9cc5-46a2-962d-9e518990b5e4] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:53:56.049  INFO [043fb7aa-9cc5-46a2-962d-9e518990b5e4] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:54:22.696 DEBUG [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:54:22.705 DEBUG [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:54:22.706  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:54:22.706  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:54:22.706  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:54:22.706  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 16:54:22.706  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 16:54:22.753  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 16:54:22.754  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 16:54:22.754  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 16:54:22.754  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 16:54:22.754  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 16:54:22.754  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 16:54:22.755  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 16:54:22.756  INFO [1a99f0a1-c896-4bc4-b2c9-7e0ad77484c8] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 16:54:27.564 DEBUG [99c5ee43-9e77-4b1c-b03f-c4e9f993d7f2] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:54:27.575 DEBUG [99c5ee43-9e77-4b1c-b03f-c4e9f993d7f2] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:54:27.576  INFO [99c5ee43-9e77-4b1c-b03f-c4e9f993d7f2] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:54:27.576  INFO [99c5ee43-9e77-4b1c-b03f-c4e9f993d7f2] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:54:27.576  INFO [99c5ee43-9e77-4b1c-b03f-c4e9f993d7f2] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:54:27.577  INFO [99c5ee43-9e77-4b1c-b03f-c4e9f993d7f2] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:54:31.194 DEBUG [5285b5ed-ca37-4950-8461-9f345a0294f6] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:54:31.207 DEBUG [5285b5ed-ca37-4950-8461-9f345a0294f6] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:54:31.209  INFO [5285b5ed-ca37-4950-8461-9f345a0294f6] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:54:31.209  INFO [5285b5ed-ca37-4950-8461-9f345a0294f6] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:54:31.261  INFO [5285b5ed-ca37-4950-8461-9f345a0294f6] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:54:31.272 DEBUG [1f341928-a617-4178-b403-60423bccb73c] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:54:31.284 DEBUG [1f341928-a617-4178-b403-60423bccb73c] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 16:54:31.285  INFO [1f341928-a617-4178-b403-60423bccb73c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 16:54:31.285  INFO [1f341928-a617-4178-b403-60423bccb73c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 16:54:31.334  INFO [1f341928-a617-4178-b403-60423bccb73c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 16:54:48.327 DEBUG [b896e889-0b5c-4ff6-a82d-0f594ed8e17d] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-27 16:54:48.329 ERROR [b896e889-0b5c-4ff6-a82d-0f594ed8e17d] 33352 --- [io-8080-exec-10] o.example.xlr8travel.security.JwtUtils   : Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-05-27 16:54:48.329 DEBUG [b896e889-0b5c-4ff6-a82d-0f594ed8e17d] 33352 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:54:48.329 DEBUG [b896e889-0b5c-4ff6-a82d-0f594ed8e17d] 33352 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 496B28A69271FADA390CA78DAC2D2556
2025-05-27 16:54:48.330 DEBUG [b896e889-0b5c-4ff6-a82d-0f594ed8e17d] 33352 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 16:54:48.331 DEBUG [b896e889-0b5c-4ff6-a82d-0f594ed8e17d] 33352 --- [io-8080-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@21850d88
2025-05-27 16:54:51.662 DEBUG [a4759d4f-8b02-4a52-9121-11cd009e42b1] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:54:51.672 DEBUG [a4759d4f-8b02-4a52-9121-11cd009e42b1] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:54:51.674  INFO [a4759d4f-8b02-4a52-9121-11cd009e42b1] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:54:51.674  INFO [a4759d4f-8b02-4a52-9121-11cd009e42b1] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:54:51.674  INFO [a4759d4f-8b02-4a52-9121-11cd009e42b1] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:54:51.674  INFO [a4759d4f-8b02-4a52-9121-11cd009e42b1] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:55:39.415 DEBUG [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=CRL
2025-05-27 16:55:39.429 DEBUG [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=CRL
2025-05-27 16:55:39.430  INFO [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: CRL, departureDate: null
2025-05-27 16:55:39.431  INFO [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:55:39.431  INFO [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: CRL-2025-05-27
2025-05-27 16:55:39.431  INFO [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: CRL, after date: 2025-05-27
2025-05-27 16:55:39.432  INFO [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: CRL, date: 2025-05-27
2025-05-27 16:55:39.441  INFO [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Database query completed, found 0 flights
2025-05-27 16:55:39.442  WARN [41a00848-643e-451a-9020-0a9a4bb101a0] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No nearby flights found from: CRL after date: 2025-05-27. This may cause the frontend to show a loading spinner indefinitely.
2025-05-27 16:55:45.041 DEBUG [e922ab0c-cfb2-4380-ad92-6a3d6222dee3] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:55:45.054 DEBUG [e922ab0c-cfb2-4380-ad92-6a3d6222dee3] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:55:45.055  INFO [e922ab0c-cfb2-4380-ad92-6a3d6222dee3] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:55:45.055  INFO [e922ab0c-cfb2-4380-ad92-6a3d6222dee3] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:55:45.055  INFO [e922ab0c-cfb2-4380-ad92-6a3d6222dee3] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:55:45.055  INFO [e922ab0c-cfb2-4380-ad92-6a3d6222dee3] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:55:49.444 DEBUG [9f75dd37-27b3-4545-90c9-bf0e1033ff07] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:55:49.455 DEBUG [9f75dd37-27b3-4545-90c9-bf0e1033ff07] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:55:49.456  INFO [9f75dd37-27b3-4545-90c9-bf0e1033ff07] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:55:49.456  INFO [9f75dd37-27b3-4545-90c9-bf0e1033ff07] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:55:49.456  INFO [9f75dd37-27b3-4545-90c9-bf0e1033ff07] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:55:49.456  INFO [9f75dd37-27b3-4545-90c9-bf0e1033ff07] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:56:01.220 DEBUG [801bf19a-72e5-49c7-8eae-1ff3d20d9e3a] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:56:01.231 DEBUG [801bf19a-72e5-49c7-8eae-1ff3d20d9e3a] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:56:01.232  INFO [801bf19a-72e5-49c7-8eae-1ff3d20d9e3a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:56:01.232  INFO [801bf19a-72e5-49c7-8eae-1ff3d20d9e3a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:56:01.232  INFO [801bf19a-72e5-49c7-8eae-1ff3d20d9e3a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:56:01.232  INFO [801bf19a-72e5-49c7-8eae-1ff3d20d9e3a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 16:58:01.813 DEBUG [9f458d17-e511-4116-84e0-221b54da705c] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 16:58:01.828 DEBUG [9f458d17-e511-4116-84e0-221b54da705c] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 16:58:01.829  INFO [9f458d17-e511-4116-84e0-221b54da705c] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 16:58:01.830  INFO [9f458d17-e511-4116-84e0-221b54da705c] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 16:58:01.830  INFO [9f458d17-e511-4116-84e0-221b54da705c] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 16:58:01.830  INFO [9f458d17-e511-4116-84e0-221b54da705c] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:03:37.914 DEBUG [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:03:37.925 DEBUG [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:03:37.926  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:03:37.926  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:03:37.927  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:03:37.927  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:03:37.927  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:03:37.970  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:03:37.970  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:03:37.970  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:03:37.970  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:03:37.970  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:03:37.971  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:03:37.971  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:03:37.971  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:03:37.971  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:03:37.971  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:03:37.971  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:03:37.971  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:03:37.972  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:03:37.972  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:03:37.972  INFO [693bb9cf-eeea-43c8-a494-1a83b053d0a1] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:03:42.570 DEBUG [9e3f3783-e12d-4b37-8a82-d51075dea294] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:03:42.583 DEBUG [9e3f3783-e12d-4b37-8a82-d51075dea294] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:03:42.584  INFO [9e3f3783-e12d-4b37-8a82-d51075dea294] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:03:42.584  INFO [9e3f3783-e12d-4b37-8a82-d51075dea294] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:03:42.585  INFO [9e3f3783-e12d-4b37-8a82-d51075dea294] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:03:42.585  INFO [9e3f3783-e12d-4b37-8a82-d51075dea294] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:03:49.136 DEBUG [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:03:49.136 DEBUG [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:03:49.137 DEBUG [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:03:49.138  INFO [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:03:49.306  INFO [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:03:49.306  INFO [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:03:49.381 DEBUG [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '****@****.***'
2025-05-27 17:03:49.382  WARN [fa9d9e14-7e58-46af-a894-a05f2175a827] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Authentication failed for user ****@****.***: Invalid credentials
2025-05-27 17:04:39.718 DEBUG [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:04:39.719 DEBUG [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:04:39.720 DEBUG [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:04:39.721  INFO [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:04:39.886  INFO [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:04:39.887  INFO [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:04:39.961 DEBUG [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '****@****.***'
2025-05-27 17:04:39.962  WARN [73fc6cc4-fc86-4c0f-8a08-dd4797673728] 33352 --- [io-8080-exec-10] o.e.x.controllers.LoginController        : Authentication failed for user ****@****.***: Invalid credentials
2025-05-27 17:05:24.745 DEBUG [8e84006f-8e6e-448e-98f5-dd46123fe78b] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:05:24.756 DEBUG [8e84006f-8e6e-448e-98f5-dd46123fe78b] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:05:24.757  INFO [8e84006f-8e6e-448e-98f5-dd46123fe78b] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:05:24.757  INFO [8e84006f-8e6e-448e-98f5-dd46123fe78b] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:05:24.757  INFO [8e84006f-8e6e-448e-98f5-dd46123fe78b] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:05:24.757  INFO [8e84006f-8e6e-448e-98f5-dd46123fe78b] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:06:39.891 DEBUG [654f4755-a702-447c-95ac-07200d25651d] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:06:39.906 DEBUG [654f4755-a702-447c-95ac-07200d25651d] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:06:39.906  INFO [654f4755-a702-447c-95ac-07200d25651d] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:06:39.907  INFO [654f4755-a702-447c-95ac-07200d25651d] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:06:39.907  INFO [654f4755-a702-447c-95ac-07200d25651d] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:06:39.907  INFO [654f4755-a702-447c-95ac-07200d25651d] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:07:30.529 DEBUG [b5aad4e8-3527-4eff-ab83-7aa9d13901a8] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:07:30.539 DEBUG [b5aad4e8-3527-4eff-ab83-7aa9d13901a8] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:07:30.539  INFO [b5aad4e8-3527-4eff-ab83-7aa9d13901a8] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:07:30.540  INFO [b5aad4e8-3527-4eff-ab83-7aa9d13901a8] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:07:30.540  INFO [b5aad4e8-3527-4eff-ab83-7aa9d13901a8] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:07:30.540  INFO [b5aad4e8-3527-4eff-ab83-7aa9d13901a8] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:09:19.698 DEBUG [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/signup
2025-05-27 17:09:19.699 DEBUG [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:09:19.700 DEBUG [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/signup
2025-05-27 17:09:19.760  INFO [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.e.x.controllers.SignupController       : Received registration request for email: ****@****.***
2025-05-27 17:09:19.941  INFO [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:09:19.941  INFO [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.e.x.controllers.SignupController       : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:09:20.012 DEBUG [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.e.x.controllers.SignupController       : Attempting to save new user: ****@****.***
2025-05-27 17:09:20.039  INFO [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.e.x.controllers.SignupController       : User registered successfully: ****@****.***
2025-05-27 17:09:20.105 DEBUG [628d636a-257c-4000-9ce3-5ae66ce4380b] 33352 --- [nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:09:27.823 DEBUG [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:09:27.823 DEBUG [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:09:27.824 DEBUG [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:09:27.825  INFO [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:09:27.984  INFO [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:09:27.984  INFO [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:09:28.059 DEBUG [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:09:28.059  INFO [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Authentication successful for user: null
2025-05-27 17:09:28.080  INFO [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Updated last login time for user: null
2025-05-27 17:09:28.080  INFO [13beddb3-c56f-4b8f-a383-baf14673b58e] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: null
2025-05-27 17:09:28.120 DEBUG [53878e65-3aa1-4bea-9a0d-43fa284c3f08] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:09:28.120 DEBUG [90410660-f2b9-430d-baba-3e2e0cd6d6c0] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:09:28.132 DEBUG [53878e65-3aa1-4bea-9a0d-43fa284c3f08] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:09:28.137 DEBUG [90410660-f2b9-430d-baba-3e2e0cd6d6c0] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:09:28.137  INFO [90410660-f2b9-430d-baba-3e2e0cd6d6c0] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:09:28.138  WARN [53878e65-3aa1-4bea-9a0d-43fa284c3f08] 33352 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:09:28.139  WARN [53878e65-3aa1-4bea-9a0d-43fa284c3f08] 33352 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:09:28.148  INFO [90410660-f2b9-430d-baba-3e2e0cd6d6c0] 33352 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user null with ID 5, creating a new one.
2025-05-27 17:09:28.180  INFO [90410660-f2b9-430d-baba-3e2e0cd6d6c0] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:09:28.810 DEBUG [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:09:28.821 DEBUG [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:09:28.822  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:09:28.822  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:09:28.823  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:09:28.823  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:09:28.823  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:09:28.888  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:09:28.889  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:09:28.889  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:09:28.889  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:09:28.889  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:09:28.890  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:09:28.890  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:09:28.890  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:09:28.890  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:09:28.890  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:09:28.890  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:09:28.891  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:09:28.891  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:09:28.891  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:09:28.891  INFO [00dea596-8e6e-4fd8-8150-ec5b09504c47] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:09:29.736 DEBUG [63fc3b9c-eae2-4057-8b19-e0205c863d6b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:09:29.747 DEBUG [63fc3b9c-eae2-4057-8b19-e0205c863d6b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:09:29.748  INFO [63fc3b9c-eae2-4057-8b19-e0205c863d6b] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:09:29.753  INFO [63fc3b9c-eae2-4057-8b19-e0205c863d6b] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:09:29.782 DEBUG [8965210a-cf2e-4b26-b549-f8b7cd45c046] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:09:29.795 DEBUG [8965210a-cf2e-4b26-b549-f8b7cd45c046] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:09:29.802  WARN [8965210a-cf2e-4b26-b549-f8b7cd45c046] 33352 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:09:29.802  WARN [8965210a-cf2e-4b26-b549-f8b7cd45c046] 33352 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:09:30.047 DEBUG [3ba633db-3d57-4cbf-9e2c-4edcbdb7fa1e] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:09:30.060 DEBUG [3ba633db-3d57-4cbf-9e2c-4edcbdb7fa1e] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:09:30.060  INFO [3ba633db-3d57-4cbf-9e2c-4edcbdb7fa1e] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:09:30.065  INFO [3ba633db-3d57-4cbf-9e2c-4edcbdb7fa1e] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:09:30.081 DEBUG [2b18fb88-7b80-4445-9688-9d2edf06da30] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:09:30.092 DEBUG [2b18fb88-7b80-4445-9688-9d2edf06da30] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:09:30.098  WARN [2b18fb88-7b80-4445-9688-9d2edf06da30] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:09:30.099  WARN [2b18fb88-7b80-4445-9688-9d2edf06da30] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:09:30.792 DEBUG [7406c183-2840-48b8-980f-5b21e8fd5f0d] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:09:30.793 DEBUG [7406c183-2840-48b8-980f-5b21e8fd5f0d] 33352 --- [nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:09:31.229 DEBUG [fe22f73f-edf8-4c92-8242-761360143cd8] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:09:31.240 DEBUG [fe22f73f-edf8-4c92-8242-761360143cd8] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:09:31.242  INFO [fe22f73f-edf8-4c92-8242-761360143cd8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:09:31.242  INFO [fe22f73f-edf8-4c92-8242-761360143cd8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:09:31.242  INFO [fe22f73f-edf8-4c92-8242-761360143cd8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:09:31.242  INFO [fe22f73f-edf8-4c92-8242-761360143cd8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:09:36.688 DEBUG [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:09:36.688 DEBUG [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:09:36.689 DEBUG [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:09:36.690  INFO [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:09:36.845  INFO [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:09:36.845  INFO [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:09:36.916 DEBUG [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:09:36.916  INFO [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Authentication successful for user: null
2025-05-27 17:09:36.934  INFO [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Updated last login time for user: null
2025-05-27 17:09:36.935  INFO [ac94ab9e-8eda-45f7-8a58-a9ae324471b1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: null
2025-05-27 17:09:36.975 DEBUG [be4542e2-3905-423f-83ab-e551d4a91b41] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:09:36.975 DEBUG [b155f85c-0540-4402-a475-31e541c80e0c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:09:36.985 DEBUG [b155f85c-0540-4402-a475-31e541c80e0c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:09:36.985 DEBUG [be4542e2-3905-423f-83ab-e551d4a91b41] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:09:36.986  INFO [be4542e2-3905-423f-83ab-e551d4a91b41] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:09:36.991  WARN [b155f85c-0540-4402-a475-31e541c80e0c] 33352 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:09:36.991  WARN [b155f85c-0540-4402-a475-31e541c80e0c] 33352 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:09:36.996  INFO [be4542e2-3905-423f-83ab-e551d4a91b41] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:09:41.161 DEBUG [d470aa0a-77fc-45bf-beec-ffd515d99ffb] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:09:41.172 DEBUG [d470aa0a-77fc-45bf-beec-ffd515d99ffb] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:09:41.172  INFO [d470aa0a-77fc-45bf-beec-ffd515d99ffb] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:09:41.177  INFO [d470aa0a-77fc-45bf-beec-ffd515d99ffb] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:09:41.202 DEBUG [5b38c8c5-6c2a-4bd3-9462-25030d80dc39] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:09:41.215 DEBUG [5b38c8c5-6c2a-4bd3-9462-25030d80dc39] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:09:41.222  WARN [5b38c8c5-6c2a-4bd3-9462-25030d80dc39] 33352 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:09:41.222  WARN [5b38c8c5-6c2a-4bd3-9462-25030d80dc39] 33352 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:09:41.410 DEBUG [9a6bd846-15c9-46a9-ad99-796cbfb7fb37] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:09:41.420 DEBUG [9a6bd846-15c9-46a9-ad99-796cbfb7fb37] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:09:41.421  INFO [9a6bd846-15c9-46a9-ad99-796cbfb7fb37] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:09:41.425  INFO [9a6bd846-15c9-46a9-ad99-796cbfb7fb37] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:09:41.439 DEBUG [d308b3ec-e71a-47e7-8468-bd88d7a998b8] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:09:41.451 DEBUG [d308b3ec-e71a-47e7-8468-bd88d7a998b8] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:09:41.459  WARN [d308b3ec-e71a-47e7-8468-bd88d7a998b8] 33352 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:09:41.459  WARN [d308b3ec-e71a-47e7-8468-bd88d7a998b8] 33352 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:09:45.636 DEBUG [6403dd77-8704-4653-ab91-7bc328a244d1] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:09:45.637 DEBUG [6403dd77-8704-4653-ab91-7bc328a244d1] 33352 --- [nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:09:46.054 DEBUG [39c5b9ec-7d6d-4bf7-86de-3c67cbd16cf9] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:09:46.064 DEBUG [39c5b9ec-7d6d-4bf7-86de-3c67cbd16cf9] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:09:46.065  INFO [39c5b9ec-7d6d-4bf7-86de-3c67cbd16cf9] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:09:46.065  INFO [39c5b9ec-7d6d-4bf7-86de-3c67cbd16cf9] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:09:46.065  INFO [39c5b9ec-7d6d-4bf7-86de-3c67cbd16cf9] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:09:46.066  INFO [39c5b9ec-7d6d-4bf7-86de-3c67cbd16cf9] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:10:00.876 DEBUG [7edab251-c9a7-4081-9892-3038266ec481] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:00.889 DEBUG [7edab251-c9a7-4081-9892-3038266ec481] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:00.889  INFO [7edab251-c9a7-4081-9892-3038266ec481] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:10:00.890  INFO [7edab251-c9a7-4081-9892-3038266ec481] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:10:00.892  INFO [7edab251-c9a7-4081-9892-3038266ec481] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:10:00.892  INFO [7edab251-c9a7-4081-9892-3038266ec481] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:10:19.263 DEBUG [287cdce8-c968-4d48-af22-19860b0956d1] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:19.273 DEBUG [287cdce8-c968-4d48-af22-19860b0956d1] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:19.273  INFO [287cdce8-c968-4d48-af22-19860b0956d1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:10:19.274  INFO [287cdce8-c968-4d48-af22-19860b0956d1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:10:19.274  INFO [287cdce8-c968-4d48-af22-19860b0956d1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:10:19.274  INFO [287cdce8-c968-4d48-af22-19860b0956d1] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:10:47.531 DEBUG [e7da81fc-ae1e-485c-a433-50cb00317c4d] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:47.555 DEBUG [e7da81fc-ae1e-485c-a433-50cb00317c4d] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:47.556  INFO [e7da81fc-ae1e-485c-a433-50cb00317c4d] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:10:47.556  INFO [e7da81fc-ae1e-485c-a433-50cb00317c4d] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:10:47.557  INFO [e7da81fc-ae1e-485c-a433-50cb00317c4d] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:10:47.557  INFO [e7da81fc-ae1e-485c-a433-50cb00317c4d] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:10:50.134 DEBUG [aaac6f9f-ceab-47f2-8781-0a434ec52657] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 17:10:50.136 DEBUG [aaac6f9f-ceab-47f2-8781-0a434ec52657] 33352 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=U-jnt9VZYMEpgoU0NCdiAxgWK4HrFJCPAaVJNoMXCR0%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 17:10:52.304 DEBUG [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=U-jnt9VZYMEpgoU0NCdiAxgWK4HrFJCPAaVJNoMXCR0%3D&code=4%2F0AUJR-x6kag2YYkWDXEdR0IR6IYODo2OlccQLm94OG6exqGM5FH7LGzV2QsOvB0sgCOEZfg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 17:10:52.600  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 17:10:52.616 DEBUG [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D5347F24A821375D40206956303A7433
2025-05-27 17:10:52.617 DEBUG [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D5347F24A821375D40206956303A7433], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 17:10:52.619  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:10:52.619  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:10:52.619  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:10:52.619  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:10:52.619  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:10:52.621  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:10:52.621  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:10:52.621  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:10:52.621  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:10:52.621  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:10:52.621  INFO [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 17:10:52.622 DEBUG [aa13fa7b-9d3b-4388-98bf-507c98bbba35] 33352 --- [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 17:10:53.459 DEBUG [c6e3a844-4782-450a-8a74-28a6402b272f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:10:53.459 DEBUG [7bb0b851-3846-4253-b205-873a347657bf] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:10:53.469 DEBUG [c6e3a844-4782-450a-8a74-28a6402b272f] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7BC6C47D57AEDC87B31180643AD7778F
2025-05-27 17:10:53.469 DEBUG [7bb0b851-3846-4253-b205-873a347657bf] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D87218B68706D2277C5DD84D5127228E
2025-05-27 17:10:53.469 DEBUG [c6e3a844-4782-450a-8a74-28a6402b272f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:10:53.470 DEBUG [7bb0b851-3846-4253-b205-873a347657bf] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:10:53.470  INFO [c6e3a844-4782-450a-8a74-28a6402b272f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:10:53.470  INFO [7bb0b851-3846-4253-b205-873a347657bf] 33352 --- [nio-8080-exec-2] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:10:53.575 DEBUG [b8533430-6dc1-4e85-8c17-23395b776fa7] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:53.587 DEBUG [b8533430-6dc1-4e85-8c17-23395b776fa7] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:10:53.589  INFO [b8533430-6dc1-4e85-8c17-23395b776fa7] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:10:53.589  INFO [b8533430-6dc1-4e85-8c17-23395b776fa7] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:10:53.589  INFO [b8533430-6dc1-4e85-8c17-23395b776fa7] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:10:53.590  INFO [b8533430-6dc1-4e85-8c17-23395b776fa7] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:10:53.893 DEBUG [b05fcb3a-7895-4f6e-bf0b-d327d29372cc] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:10:53.902 DEBUG [b05fcb3a-7895-4f6e-bf0b-d327d29372cc] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:10:53.903  INFO [b05fcb3a-7895-4f6e-bf0b-d327d29372cc] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:10:53.909  INFO [b05fcb3a-7895-4f6e-bf0b-d327d29372cc] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:10:53.962 DEBUG [3b59bb25-f8b6-457c-b8b3-632c56a883a3] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:10:53.962 DEBUG [4f4d5702-43ac-4820-85de-1d323b1883b0] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:10:53.973 DEBUG [3b59bb25-f8b6-457c-b8b3-632c56a883a3] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:10:53.974 DEBUG [4f4d5702-43ac-4820-85de-1d323b1883b0] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:10:53.974  INFO [3b59bb25-f8b6-457c-b8b3-632c56a883a3] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:10:53.986  WARN [4f4d5702-43ac-4820-85de-1d323b1883b0] 33352 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:10:53.987  WARN [4f4d5702-43ac-4820-85de-1d323b1883b0] 33352 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:10:54.000  INFO [3b59bb25-f8b6-457c-b8b3-632c56a883a3] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:10:54.267 DEBUG [245e76cd-8f4f-4519-9b18-43e904a63dbe] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:10:54.278 DEBUG [245e76cd-8f4f-4519-9b18-43e904a63dbe] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:10:54.279  INFO [245e76cd-8f4f-4519-9b18-43e904a63dbe] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:10:54.285  INFO [245e76cd-8f4f-4519-9b18-43e904a63dbe] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:10:58.485 DEBUG [0cfa1c34-065f-4f8a-8f9a-9aff99470bf1] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:10:58.510 DEBUG [0cfa1c34-065f-4f8a-8f9a-9aff99470bf1] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:10:58.524  INFO [0cfa1c34-065f-4f8a-8f9a-9aff99470bf1] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:10:58.524  INFO [0cfa1c34-065f-4f8a-8f9a-9aff99470bf1] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:10:58.547 DEBUG [35661a67-9ede-43da-82f9-ac7bb33f7b51] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:10:58.576 DEBUG [35661a67-9ede-43da-82f9-ac7bb33f7b51] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:10:58.590  INFO [35661a67-9ede-43da-82f9-ac7bb33f7b51] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:10:58.591  INFO [35661a67-9ede-43da-82f9-ac7bb33f7b51] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:10:59.491 DEBUG [a84b4f9b-430d-4b63-8c0b-26e971726881] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:10:59.504 DEBUG [a84b4f9b-430d-4b63-8c0b-26e971726881] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:10:59.511  INFO [a84b4f9b-430d-4b63-8c0b-26e971726881] 33352 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:10:59.512  INFO [a84b4f9b-430d-4b63-8c0b-26e971726881] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:10:59.559  INFO [a84b4f9b-430d-4b63-8c0b-26e971726881] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:10:59.573 DEBUG [d26e4477-a1df-4f96-a4a4-e0d9592f0a9a] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:10:59.585 DEBUG [d26e4477-a1df-4f96-a4a4-e0d9592f0a9a] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:10:59.591  INFO [d26e4477-a1df-4f96-a4a4-e0d9592f0a9a] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:10:59.592  INFO [d26e4477-a1df-4f96-a4a4-e0d9592f0a9a] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:10:59.635  INFO [d26e4477-a1df-4f96-a4a4-e0d9592f0a9a] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:11:00.272 DEBUG [0a756ece-0c3b-4114-bc18-21b5f40d7855] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:11:00.282 DEBUG [0a756ece-0c3b-4114-bc18-21b5f40d7855] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:11:00.283  INFO [0a756ece-0c3b-4114-bc18-21b5f40d7855] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:11:00.283  INFO [0a756ece-0c3b-4114-bc18-21b5f40d7855] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:11:00.283  INFO [0a756ece-0c3b-4114-bc18-21b5f40d7855] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:11:00.283  INFO [0a756ece-0c3b-4114-bc18-21b5f40d7855] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:11:00.693 DEBUG [537faa00-3a28-4aee-8c21-edc629b02266] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:11:00.693 DEBUG [537faa00-3a28-4aee-8c21-edc629b02266] 33352 --- [nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:13:53.727 DEBUG [f159e0d6-9cd2-445b-91ad-5126b268f25a] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 17:13:53.728 DEBUG [f159e0d6-9cd2-445b-91ad-5126b268f25a] 33352 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=0FSMl9IUTmZLrONAnudlqnz0aKQgDMTEEgKUq01emxw%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 17:13:55.551 DEBUG [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=0FSMl9IUTmZLrONAnudlqnz0aKQgDMTEEgKUq01emxw%3D&code=4%2F0AUJR-x4zdFL94Ru7CZki13AJoc0bsF3GTyO2CmSShTOu4Y801iVVPDXLbJ8v-gS-ybNdgA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none
2025-05-27 17:13:55.846  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 17:13:55.862 DEBUG [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8136FA42206AFAAA1D83EBCDC5D2B431
2025-05-27 17:13:55.862 DEBUG [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8136FA42206AFAAA1D83EBCDC5D2B431], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 17:13:55.863  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:13:55.864  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:13:55.864  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:13:55.865  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:13:55.865  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:13:55.865  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:13:55.866  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:13:55.866  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:13:55.866  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:13:55.866  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:13:55.866  INFO [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 17:13:55.867 DEBUG [1894eb29-13fb-474f-9174-f5ec9393c8f2] 33352 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 17:13:56.636 DEBUG [5e76756a-4813-434f-9c46-51722945d9fa] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:13:56.636 DEBUG [8e76e721-d1d6-4a65-b3c0-c67e16f8e4f9] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:13:56.653 DEBUG [8e76e721-d1d6-4a65-b3c0-c67e16f8e4f9] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9B0C06A02F0C91FD3EF3E3F1CB4FEA60
2025-05-27 17:13:56.654 DEBUG [5e76756a-4813-434f-9c46-51722945d9fa] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:13:56.655 DEBUG [8e76e721-d1d6-4a65-b3c0-c67e16f8e4f9] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:13:56.655  INFO [5e76756a-4813-434f-9c46-51722945d9fa] 33352 --- [nio-8080-exec-7] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:13:56.835 DEBUG [78ae5f3f-87d5-4411-a5f3-cbf276d33681] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:13:56.846 DEBUG [78ae5f3f-87d5-4411-a5f3-cbf276d33681] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CB3116C473B3A40989CB3750A4C3DA7F
2025-05-27 17:13:56.847 DEBUG [78ae5f3f-87d5-4411-a5f3-cbf276d33681] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:13:56.847  INFO [78ae5f3f-87d5-4411-a5f3-cbf276d33681] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:13:56.848  INFO [78ae5f3f-87d5-4411-a5f3-cbf276d33681] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:13:56.848  INFO [78ae5f3f-87d5-4411-a5f3-cbf276d33681] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:13:56.848  INFO [78ae5f3f-87d5-4411-a5f3-cbf276d33681] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:13:57.311 DEBUG [d2758494-8eea-47a3-85ad-0ab5deb922fa] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:13:57.352 DEBUG [d2758494-8eea-47a3-85ad-0ab5deb922fa] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:13:57.353  INFO [d2758494-8eea-47a3-85ad-0ab5deb922fa] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:13:57.363  INFO [d2758494-8eea-47a3-85ad-0ab5deb922fa] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:13:57.415 DEBUG [ecab0e1c-9745-45dd-b109-9bd3c8700493] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:13:57.419 DEBUG [59208f96-97cc-48d0-ac47-31d0c5c2b875] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:13:57.432 DEBUG [59208f96-97cc-48d0-ac47-31d0c5c2b875] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 63CD2022036D320212314FE1F526B155
2025-05-27 17:13:57.435 DEBUG [ecab0e1c-9745-45dd-b109-9bd3c8700493] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:13:57.435 DEBUG [59208f96-97cc-48d0-ac47-31d0c5c2b875] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:13:57.436  INFO [59208f96-97cc-48d0-ac47-31d0c5c2b875] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:13:57.449  WARN [ecab0e1c-9745-45dd-b109-9bd3c8700493] 33352 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:13:57.451  WARN [ecab0e1c-9745-45dd-b109-9bd3c8700493] 33352 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:13:57.465  INFO [59208f96-97cc-48d0-ac47-31d0c5c2b875] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:13:59.996 DEBUG [468e7a77-ac1c-4783-a65b-74c5b2bb3207] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:14:00.015 DEBUG [468e7a77-ac1c-4783-a65b-74c5b2bb3207] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 75761DB391A945D0F13AF48EFC887420
2025-05-27 17:14:00.019 DEBUG [468e7a77-ac1c-4783-a65b-74c5b2bb3207] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:14:00.068  INFO [468e7a77-ac1c-4783-a65b-74c5b2bb3207] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:14:00.070  INFO [468e7a77-ac1c-4783-a65b-74c5b2bb3207] 33352 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:14:00.099 DEBUG [3062f20e-e177-480c-a862-efefa631cf2f] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:14:00.148 DEBUG [3062f20e-e177-480c-a862-efefa631cf2f] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:14:00.157  INFO [3062f20e-e177-480c-a862-efefa631cf2f] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:14:00.158  INFO [3062f20e-e177-480c-a862-efefa631cf2f] 33352 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:14:03.880 DEBUG [c5496baf-6a8b-4a30-a15b-2a72e6ef502f] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:03.890 DEBUG [c5496baf-6a8b-4a30-a15b-2a72e6ef502f] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B5524A83E554728CD4A0A7BE18DBE4C7
2025-05-27 17:14:03.890 DEBUG [c5496baf-6a8b-4a30-a15b-2a72e6ef502f] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:03.891  INFO [c5496baf-6a8b-4a30-a15b-2a72e6ef502f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:14:03.891  INFO [c5496baf-6a8b-4a30-a15b-2a72e6ef502f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:14:03.891  INFO [c5496baf-6a8b-4a30-a15b-2a72e6ef502f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:14:03.891  INFO [c5496baf-6a8b-4a30-a15b-2a72e6ef502f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:14:04.715 DEBUG [27358e09-454d-424f-a4ec-7be7e849a363] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:14:04.726 DEBUG [27358e09-454d-424f-a4ec-7be7e849a363] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:14:04.726  INFO [27358e09-454d-424f-a4ec-7be7e849a363] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:14:04.732  INFO [27358e09-454d-424f-a4ec-7be7e849a363] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:14:04.760 DEBUG [3caa5b8c-2016-417c-a737-cd815920d883] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:14:04.769 DEBUG [3caa5b8c-2016-417c-a737-cd815920d883] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E52DEFB33C2A629E4D9BAD6189C2A37B
2025-05-27 17:14:04.770 DEBUG [3caa5b8c-2016-417c-a737-cd815920d883] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:14:04.777  WARN [3caa5b8c-2016-417c-a737-cd815920d883] 33352 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:14:04.778  WARN [3caa5b8c-2016-417c-a737-cd815920d883] 33352 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:14:04.984 DEBUG [aba59f74-1b99-4ae1-8d54-e39cc79a8053] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:14:04.994 DEBUG [aba59f74-1b99-4ae1-8d54-e39cc79a8053] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:14:04.995  INFO [aba59f74-1b99-4ae1-8d54-e39cc79a8053] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:14:05.000  INFO [aba59f74-1b99-4ae1-8d54-e39cc79a8053] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:14:05.024 DEBUG [566169aa-6537-4452-8790-ed523bc48c9c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:14:05.035 DEBUG [566169aa-6537-4452-8790-ed523bc48c9c] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CFA84D61CF64FE126D8B18B4D5BCAC78
2025-05-27 17:14:05.037 DEBUG [566169aa-6537-4452-8790-ed523bc48c9c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:14:05.043  WARN [566169aa-6537-4452-8790-ed523bc48c9c] 33352 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:14:05.044  WARN [566169aa-6537-4452-8790-ed523bc48c9c] 33352 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:14:06.223 DEBUG [cd2f46a8-51ea-4840-a79f-cff2a50df5fc] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:14:06.224 DEBUG [cd2f46a8-51ea-4840-a79f-cff2a50df5fc] 33352 --- [nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:14:06.678 DEBUG [4672d45f-ee7c-46a3-a2bf-8cfbb4e6edd1] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:06.687 DEBUG [4672d45f-ee7c-46a3-a2bf-8cfbb4e6edd1] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8144550D306ABF1EE01BBDD29B9CDB26
2025-05-27 17:14:06.687 DEBUG [4672d45f-ee7c-46a3-a2bf-8cfbb4e6edd1] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:06.688  INFO [4672d45f-ee7c-46a3-a2bf-8cfbb4e6edd1] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:14:06.688  INFO [4672d45f-ee7c-46a3-a2bf-8cfbb4e6edd1] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:14:06.688  INFO [4672d45f-ee7c-46a3-a2bf-8cfbb4e6edd1] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:14:06.689  INFO [4672d45f-ee7c-46a3-a2bf-8cfbb4e6edd1] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:14:07.490 DEBUG [37c39197-23b9-4b65-a2a8-73ff474af2a8] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 17:14:07.491 DEBUG [37c39197-23b9-4b65-a2a8-73ff474af2a8] 33352 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=kKPvf2fump7Cj0_LWmKPfOWGLff7Rw0WwZyCGDHa1UE%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 17:14:09.215 DEBUG [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=kKPvf2fump7Cj0_LWmKPfOWGLff7Rw0WwZyCGDHa1UE%3D&code=4%2F0AUJR-x7Wrb-nIATvp6ua7P0kHgadjRkAQu6Vx4YFP12KQapClrYNIlItR-aO7xbP1kBbxg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 17:14:09.475  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 17:14:09.491 DEBUG [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CA7637E7BC5E34D871C4007E965A43F9
2025-05-27 17:14:09.492 DEBUG [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CA7637E7BC5E34D871C4007E965A43F9], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 17:14:09.493  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:14:09.493  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:14:09.493  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:14:09.494  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:14:09.494  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:14:09.495  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:14:09.495  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:14:09.495  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:14:09.495  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:14:09.496  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:14:09.496  INFO [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 17:14:09.496 DEBUG [1df72fbb-8c4b-40b6-b683-d6d73258e5dd] 33352 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 17:14:10.691 DEBUG [e153d3cf-e1a5-43d8-b314-174766db5878] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:14:10.717 DEBUG [196cac7c-6117-4f57-83bb-6e5bec4d7327] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:14:10.819 DEBUG [e153d3cf-e1a5-43d8-b314-174766db5878] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F7B880D89BE945D3BBC1A4827B158836
2025-05-27 17:14:10.855 DEBUG [196cac7c-6117-4f57-83bb-6e5bec4d7327] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:14:10.874 DEBUG [e153d3cf-e1a5-43d8-b314-174766db5878] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:14:10.883  INFO [196cac7c-6117-4f57-83bb-6e5bec4d7327] 33352 --- [nio-8080-exec-3] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:14:10.899 DEBUG [6e0c4086-1d6e-4608-a696-e2e38d904e8e] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:10.945 DEBUG [6e0c4086-1d6e-4608-a696-e2e38d904e8e] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:10.961  INFO [6e0c4086-1d6e-4608-a696-e2e38d904e8e] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:14:10.973  INFO [6e0c4086-1d6e-4608-a696-e2e38d904e8e] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:14:10.974  INFO [6e0c4086-1d6e-4608-a696-e2e38d904e8e] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:14:10.975  INFO [6e0c4086-1d6e-4608-a696-e2e38d904e8e] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:14:12.142 DEBUG [cc946d9d-9cc2-4092-b5ea-b3c1ee7f738c] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:14:12.157 DEBUG [cc946d9d-9cc2-4092-b5ea-b3c1ee7f738c] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:14:12.158  INFO [cc946d9d-9cc2-4092-b5ea-b3c1ee7f738c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:14:12.169  INFO [cc946d9d-9cc2-4092-b5ea-b3c1ee7f738c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:14:12.241 DEBUG [44f4ae3d-d05a-47bd-bf07-66a327dab283] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:14:12.241 DEBUG [6f98849e-2120-4494-a137-f5d268a42a15] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:14:12.264 DEBUG [6f98849e-2120-4494-a137-f5d268a42a15] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5EF53BAF957EC4B48829636D21B33A07
2025-05-27 17:14:12.266 DEBUG [6f98849e-2120-4494-a137-f5d268a42a15] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:14:12.268  INFO [6f98849e-2120-4494-a137-f5d268a42a15] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:14:12.273 DEBUG [44f4ae3d-d05a-47bd-bf07-66a327dab283] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:14:12.289  WARN [44f4ae3d-d05a-47bd-bf07-66a327dab283] 33352 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:14:12.292  WARN [44f4ae3d-d05a-47bd-bf07-66a327dab283] 33352 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:14:12.305  INFO [6f98849e-2120-4494-a137-f5d268a42a15] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:14:18.851 DEBUG [72ef5bad-c88b-48da-86b2-cb699bdac0fc] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:14:18.861 DEBUG [72ef5bad-c88b-48da-86b2-cb699bdac0fc] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:14:18.862  INFO [72ef5bad-c88b-48da-86b2-cb699bdac0fc] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:14:18.869  INFO [72ef5bad-c88b-48da-86b2-cb699bdac0fc] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:14:18.965 DEBUG [a334b9b5-e360-4d2c-8899-516ad0fcb25c] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:14:18.965 DEBUG [af69c79d-245e-4361-adbf-9e84c9e8d1bd] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:14:18.969 DEBUG [57a6caf5-d785-42ca-ad93-3ad653c1e3ad] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:14:18.981 DEBUG [af69c79d-245e-4361-adbf-9e84c9e8d1bd] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 439FE0039A10E39CBB36F7C61A78D4C4
2025-05-27 17:14:18.981 DEBUG [a334b9b5-e360-4d2c-8899-516ad0fcb25c] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5EA3A302B59A8713CBDFBBB15657CB52
2025-05-27 17:14:18.982 DEBUG [af69c79d-245e-4361-adbf-9e84c9e8d1bd] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:14:18.984 DEBUG [a334b9b5-e360-4d2c-8899-516ad0fcb25c] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:14:18.986  INFO [af69c79d-245e-4361-adbf-9e84c9e8d1bd] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:14:18.986  INFO [af69c79d-245e-4361-adbf-9e84c9e8d1bd] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:14:18.995  WARN [a334b9b5-e360-4d2c-8899-516ad0fcb25c] 33352 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:14:18.996  WARN [a334b9b5-e360-4d2c-8899-516ad0fcb25c] 33352 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:14:18.996 DEBUG [57a6caf5-d785-42ca-ad93-3ad653c1e3ad] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:14:19.003  INFO [57a6caf5-d785-42ca-ad93-3ad653c1e3ad] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:14:19.019 DEBUG [c26320ab-ed3e-4364-820f-e36b5e7237d5] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:14:19.027  INFO [57a6caf5-d785-42ca-ad93-3ad653c1e3ad] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:14:19.033 DEBUG [c26320ab-ed3e-4364-820f-e36b5e7237d5] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:14:19.044  WARN [c26320ab-ed3e-4364-820f-e36b5e7237d5] 33352 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:14:19.045  WARN [c26320ab-ed3e-4364-820f-e36b5e7237d5] 33352 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:14:19.078  INFO [af69c79d-245e-4361-adbf-9e84c9e8d1bd] 33352 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:14:19.098 DEBUG [c07f3e47-1edc-4bcd-948a-e8c265df89c6] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:14:19.109 DEBUG [c07f3e47-1edc-4bcd-948a-e8c265df89c6] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:14:19.110  INFO [c07f3e47-1edc-4bcd-948a-e8c265df89c6] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:14:19.110  INFO [c07f3e47-1edc-4bcd-948a-e8c265df89c6] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:14:19.164  INFO [c07f3e47-1edc-4bcd-948a-e8c265df89c6] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:14:22.143 DEBUG [063dd4d8-2fa5-4f4c-b46c-9cad865458bd] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:22.172 DEBUG [063dd4d8-2fa5-4f4c-b46c-9cad865458bd] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:22.173  INFO [063dd4d8-2fa5-4f4c-b46c-9cad865458bd] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:14:22.173  INFO [063dd4d8-2fa5-4f4c-b46c-9cad865458bd] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:14:22.174  INFO [063dd4d8-2fa5-4f4c-b46c-9cad865458bd] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:14:22.174  INFO [063dd4d8-2fa5-4f4c-b46c-9cad865458bd] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:14:27.421 DEBUG [9cc96f0a-5345-4562-8127-3c5aa2743480] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:14:27.434 DEBUG [9cc96f0a-5345-4562-8127-3c5aa2743480] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:14:27.442  INFO [9cc96f0a-5345-4562-8127-3c5aa2743480] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:14:27.442  INFO [9cc96f0a-5345-4562-8127-3c5aa2743480] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:14:27.457 DEBUG [e6ba1454-0686-47e6-84fe-80fdd3b4fd8f] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:14:27.468 DEBUG [e6ba1454-0686-47e6-84fe-80fdd3b4fd8f] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:14:27.474  INFO [e6ba1454-0686-47e6-84fe-80fdd3b4fd8f] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:14:27.475  INFO [e6ba1454-0686-47e6-84fe-80fdd3b4fd8f] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:14:28.174 DEBUG [ef806af3-8621-4650-87af-65bde7e81be8] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:14:28.193 DEBUG [ef806af3-8621-4650-87af-65bde7e81be8] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:14:28.200  INFO [ef806af3-8621-4650-87af-65bde7e81be8] 33352 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:14:28.200  INFO [ef806af3-8621-4650-87af-65bde7e81be8] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:14:28.246  INFO [ef806af3-8621-4650-87af-65bde7e81be8] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:14:28.258 DEBUG [de5b3821-d3c3-4c0f-8f9d-67ff6a4289ac] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:14:28.270 DEBUG [de5b3821-d3c3-4c0f-8f9d-67ff6a4289ac] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:14:28.275  INFO [de5b3821-d3c3-4c0f-8f9d-67ff6a4289ac] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:14:28.276  INFO [de5b3821-d3c3-4c0f-8f9d-67ff6a4289ac] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:14:28.316  INFO [de5b3821-d3c3-4c0f-8f9d-67ff6a4289ac] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:14:35.862 DEBUG [45976856-3da4-4062-9edf-33e50b0fbf7a] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:14:35.863 DEBUG [45976856-3da4-4062-9edf-33e50b0fbf7a] 33352 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:14:38.276 DEBUG [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:38.331 DEBUG [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:14:38.332  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:14:38.334  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:14:38.335  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:14:38.335  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:14:38.335  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:14:38.423  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:14:38.423  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:14:38.424  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:14:38.424  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:14:38.424  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:14:38.424  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:14:38.424  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:14:38.424  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:14:38.424  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:14:38.425  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:14:38.425  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:14:38.425  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:14:38.425  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:14:38.425  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:14:38.425  INFO [f2f9400d-89c6-457e-8a38-2d99eb2afad6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:16:51.118 DEBUG [eaecb3ce-0ca9-40b6-9b8c-826c011e3f8c] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/facebook
2025-05-27 17:16:51.120 DEBUG [eaecb3ce-0ca9-40b6-9b8c-826c011e3f8c] 33352 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://www.facebook.com/v2.8/dialog/oauth?response_type=code&client_id=your-facebook-client-id&scope=email%20public_profile&state=4_OpEpi4WBu2kusWgLHwe2OiBT_AtckoNvW98X2CVy0%3D&redirect_uri=http://localhost:8080/login/oauth2/code/facebook
2025-05-27 17:17:01.013 DEBUG [38f199b9-e1f4-4272-bb0e-6ad5f70070c8] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 17:17:01.014 DEBUG [38f199b9-e1f4-4272-bb0e-6ad5f70070c8] 33352 --- [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=NSb_6OiswejAVRcMF-C_SjfJvafnSZ6gHKxDWfTcBV4%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 17:17:03.344 DEBUG [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=NSb_6OiswejAVRcMF-C_SjfJvafnSZ6gHKxDWfTcBV4%3D&code=4%2F0AUJR-x4dsmTyEvoDNoWIZai-m7NQ2Zfw7tFEjL-h3L3epsLulnJ1Hy387Fep2m_bgWQ3cg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 17:17:03.628  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 17:17:03.646 DEBUG [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0FC4F65F8ABF38C88B2943DBAB9E5E21
2025-05-27 17:17:03.646 DEBUG [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0FC4F65F8ABF38C88B2943DBAB9E5E21], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 17:17:03.648  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:17:03.648  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:17:03.649  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:17:03.649  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:17:03.649  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:17:03.650  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:17:03.650  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:17:03.650  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:17:03.650  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:17:03.650  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:17:03.651  INFO [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 17:17:03.651 DEBUG [7e6b8adb-cf07-46aa-8701-e272b7cce04b] 33352 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 17:17:04.416 DEBUG [d6e7a169-f86b-44c0-9c80-b05829f41f5a] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:17:04.418 DEBUG [1d0ae43e-f96a-46ec-9a8f-5149ce110880] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:17:04.427 DEBUG [d6e7a169-f86b-44c0-9c80-b05829f41f5a] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B400665BBE269613068C8459D3E8B970
2025-05-27 17:17:04.428 DEBUG [1d0ae43e-f96a-46ec-9a8f-5149ce110880] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:17:04.428 DEBUG [d6e7a169-f86b-44c0-9c80-b05829f41f5a] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:17:04.428  INFO [d6e7a169-f86b-44c0-9c80-b05829f41f5a] 33352 --- [nio-8080-exec-7] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:17:04.428  INFO [1d0ae43e-f96a-46ec-9a8f-5149ce110880] 33352 --- [io-8080-exec-10] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:17:04.595 DEBUG [b860df3c-c4d7-4a9a-b55e-adf2bc9a37f4] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:17:04.606 DEBUG [b860df3c-c4d7-4a9a-b55e-adf2bc9a37f4] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B960AC68F7C145983BC080FE55D1AE43
2025-05-27 17:17:04.606 DEBUG [b860df3c-c4d7-4a9a-b55e-adf2bc9a37f4] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:17:04.607  INFO [b860df3c-c4d7-4a9a-b55e-adf2bc9a37f4] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:17:04.607  INFO [b860df3c-c4d7-4a9a-b55e-adf2bc9a37f4] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:17:04.608  INFO [b860df3c-c4d7-4a9a-b55e-adf2bc9a37f4] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:17:04.608  INFO [b860df3c-c4d7-4a9a-b55e-adf2bc9a37f4] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:17:04.819 DEBUG [a71ed0c8-1c28-478c-b9ab-66d3b70c3b86] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:17:04.830 DEBUG [a71ed0c8-1c28-478c-b9ab-66d3b70c3b86] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:17:04.831  INFO [a71ed0c8-1c28-478c-b9ab-66d3b70c3b86] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:17:04.836  INFO [a71ed0c8-1c28-478c-b9ab-66d3b70c3b86] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:17:04.887 DEBUG [2f62c052-2f21-4554-86b0-302349881668] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:17:04.887 DEBUG [92ae012d-862f-44d3-ab6b-c9add90a4873] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:17:04.899 DEBUG [92ae012d-862f-44d3-ab6b-c9add90a4873] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1C03E0F2605F892542F86C15A7239725
2025-05-27 17:17:04.901 DEBUG [92ae012d-862f-44d3-ab6b-c9add90a4873] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:17:04.901  INFO [92ae012d-862f-44d3-ab6b-c9add90a4873] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:17:04.902 DEBUG [2f62c052-2f21-4554-86b0-302349881668] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:17:04.909  WARN [2f62c052-2f21-4554-86b0-302349881668] 33352 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:17:04.911  WARN [2f62c052-2f21-4554-86b0-302349881668] 33352 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:17:04.917  INFO [92ae012d-862f-44d3-ab6b-c9add90a4873] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:17:05.151 DEBUG [422d60b1-b061-4741-977d-e53c639aa476] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:17:05.162 DEBUG [422d60b1-b061-4741-977d-e53c639aa476] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:17:05.162  INFO [422d60b1-b061-4741-977d-e53c639aa476] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:17:05.168  INFO [422d60b1-b061-4741-977d-e53c639aa476] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:17:07.507 DEBUG [811191f7-dfd6-4bc3-94c5-a61706191b6f] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:17:07.519 DEBUG [811191f7-dfd6-4bc3-94c5-a61706191b6f] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 66D4CA283B75F7C26265B69D04FEFB53
2025-05-27 17:17:07.520 DEBUG [811191f7-dfd6-4bc3-94c5-a61706191b6f] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:17:07.526  INFO [811191f7-dfd6-4bc3-94c5-a61706191b6f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:17:07.527  INFO [811191f7-dfd6-4bc3-94c5-a61706191b6f] 33352 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:17:07.540 DEBUG [3f96c7c8-e923-4e9b-b1ce-57de199e0b78] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:17:07.551 DEBUG [3f96c7c8-e923-4e9b-b1ce-57de199e0b78] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:17:07.557  INFO [3f96c7c8-e923-4e9b-b1ce-57de199e0b78] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:17:07.557  INFO [3f96c7c8-e923-4e9b-b1ce-57de199e0b78] 33352 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:17:08.154 DEBUG [c0d5ede8-3d9a-435d-a80a-f7b63afd57d5] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:17:08.167 DEBUG [c0d5ede8-3d9a-435d-a80a-f7b63afd57d5] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4AAE226BEEC41E76874D1D86177F1DF1
2025-05-27 17:17:08.169 DEBUG [c0d5ede8-3d9a-435d-a80a-f7b63afd57d5] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:17:08.175  INFO [c0d5ede8-3d9a-435d-a80a-f7b63afd57d5] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:17:08.176  INFO [c0d5ede8-3d9a-435d-a80a-f7b63afd57d5] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:17:08.215  INFO [c0d5ede8-3d9a-435d-a80a-f7b63afd57d5] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:17:08.227 DEBUG [16b08ea0-84b1-4790-b9ed-4ca25f60765c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:17:08.237 DEBUG [16b08ea0-84b1-4790-b9ed-4ca25f60765c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:17:08.241  INFO [16b08ea0-84b1-4790-b9ed-4ca25f60765c] 33352 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:17:08.241  INFO [16b08ea0-84b1-4790-b9ed-4ca25f60765c] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:17:08.282  INFO [16b08ea0-84b1-4790-b9ed-4ca25f60765c] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:17:08.795 DEBUG [c83af21f-c651-47e1-838a-332117bf742e] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:17:08.807 DEBUG [c83af21f-c651-47e1-838a-332117bf742e] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3752760816E370E8A2D76729D11FB0F1
2025-05-27 17:17:08.808 DEBUG [c83af21f-c651-47e1-838a-332117bf742e] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:17:08.809  INFO [c83af21f-c651-47e1-838a-332117bf742e] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:17:08.819  INFO [c83af21f-c651-47e1-838a-332117bf742e] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:17:08.830 DEBUG [8feb8ff3-a914-40a4-be7d-dfa05f332788] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:17:08.838 DEBUG [8feb8ff3-a914-40a4-be7d-dfa05f332788] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:17:08.839  INFO [8feb8ff3-a914-40a4-be7d-dfa05f332788] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:17:08.850  INFO [8feb8ff3-a914-40a4-be7d-dfa05f332788] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:17:09.892 DEBUG [3542491c-44c7-4291-ba1a-a33e1e6c7b24] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:17:09.901 DEBUG [3542491c-44c7-4291-ba1a-a33e1e6c7b24] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:17:09.902  INFO [3542491c-44c7-4291-ba1a-a33e1e6c7b24] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:17:09.906  INFO [3542491c-44c7-4291-ba1a-a33e1e6c7b24] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:17:09.932 DEBUG [9e2cf907-5b7d-4357-b61e-155076d7e3c7] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:17:09.941 DEBUG [9e2cf907-5b7d-4357-b61e-155076d7e3c7] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8B5437E4F1BAF20DF8B13E55F7038CB3
2025-05-27 17:17:09.942 DEBUG [9e2cf907-5b7d-4357-b61e-155076d7e3c7] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:17:09.948  WARN [9e2cf907-5b7d-4357-b61e-155076d7e3c7] 33352 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:17:09.949  WARN [9e2cf907-5b7d-4357-b61e-155076d7e3c7] 33352 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:17:10.151 DEBUG [1c0e84e0-40fa-4e33-a509-e550f682dd7d] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:17:10.160 DEBUG [1c0e84e0-40fa-4e33-a509-e550f682dd7d] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:17:10.161  INFO [1c0e84e0-40fa-4e33-a509-e550f682dd7d] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:17:10.165  INFO [1c0e84e0-40fa-4e33-a509-e550f682dd7d] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:17:10.182 DEBUG [e998cfc3-cd38-45a1-96d4-b00541a87305] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:17:10.191 DEBUG [e998cfc3-cd38-45a1-96d4-b00541a87305] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 177D84E018E70E585570BDC8527028B6
2025-05-27 17:17:10.192 DEBUG [e998cfc3-cd38-45a1-96d4-b00541a87305] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:17:10.198  WARN [e998cfc3-cd38-45a1-96d4-b00541a87305] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:17:10.199  WARN [e998cfc3-cd38-45a1-96d4-b00541a87305] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:17:59.132 DEBUG [e42bb6c0-aa27-4aa6-b68e-605fe76d90a6] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:17:59.132 DEBUG [e42bb6c0-aa27-4aa6-b68e-605fe76d90a6] 33352 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:17:59.624 DEBUG [a7646a14-fa55-4cfe-9f36-4c242f4f2021] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:17:59.641 DEBUG [a7646a14-fa55-4cfe-9f36-4c242f4f2021] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C47BB9F88B4ED9C7B3AB482D1D417629
2025-05-27 17:17:59.641 DEBUG [a7646a14-fa55-4cfe-9f36-4c242f4f2021] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:17:59.642  INFO [a7646a14-fa55-4cfe-9f36-4c242f4f2021] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:17:59.642  INFO [a7646a14-fa55-4cfe-9f36-4c242f4f2021] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:17:59.642  INFO [a7646a14-fa55-4cfe-9f36-4c242f4f2021] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:17:59.642  INFO [a7646a14-fa55-4cfe-9f36-4c242f4f2021] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:18:22.388 DEBUG [efc4bc82-0d98-4c91-b857-a894c1983a2c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:18:22.397 DEBUG [efc4bc82-0d98-4c91-b857-a894c1983a2c] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 16F2095A2CFC5ACB9289B27FE8342E3C
2025-05-27 17:18:22.398 DEBUG [efc4bc82-0d98-4c91-b857-a894c1983a2c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:18:22.399  INFO [efc4bc82-0d98-4c91-b857-a894c1983a2c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:18:22.399  INFO [efc4bc82-0d98-4c91-b857-a894c1983a2c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:18:22.399  INFO [efc4bc82-0d98-4c91-b857-a894c1983a2c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:18:22.399  INFO [efc4bc82-0d98-4c91-b857-a894c1983a2c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:18:31.360 DEBUG [c58c291b-64be-4d30-ac86-c174803915f7] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:18:31.379 DEBUG [c58c291b-64be-4d30-ac86-c174803915f7] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3317E095739592D14BF14CDAFBB27E32
2025-05-27 17:18:31.380 DEBUG [c58c291b-64be-4d30-ac86-c174803915f7] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:18:31.381  INFO [c58c291b-64be-4d30-ac86-c174803915f7] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:18:31.381  INFO [c58c291b-64be-4d30-ac86-c174803915f7] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:18:31.382  INFO [c58c291b-64be-4d30-ac86-c174803915f7] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:18:31.382  INFO [c58c291b-64be-4d30-ac86-c174803915f7] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:18:53.531 DEBUG [128fe6c5-db1e-4211-9a25-4edd20c7f23f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:18:53.542 DEBUG [128fe6c5-db1e-4211-9a25-4edd20c7f23f] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 62B71DD02219B37029792ED128910AEE
2025-05-27 17:18:53.542 DEBUG [128fe6c5-db1e-4211-9a25-4edd20c7f23f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:18:53.543  INFO [128fe6c5-db1e-4211-9a25-4edd20c7f23f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:18:53.543  INFO [128fe6c5-db1e-4211-9a25-4edd20c7f23f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:18:53.544  INFO [128fe6c5-db1e-4211-9a25-4edd20c7f23f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:18:53.544  INFO [128fe6c5-db1e-4211-9a25-4edd20c7f23f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:19:33.011 DEBUG [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/signup
2025-05-27 17:19:33.011 DEBUG [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:19:33.012 DEBUG [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/signup
2025-05-27 17:19:33.018  INFO [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.e.x.controllers.SignupController       : Received registration request for email: ****@****.***
2025-05-27 17:19:33.213  INFO [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:19:33.213  INFO [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.e.x.controllers.SignupController       : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:19:33.286 DEBUG [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.e.x.controllers.SignupController       : Attempting to save new user: ****@****.***
2025-05-27 17:19:33.304  INFO [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.e.x.controllers.SignupController       : User registered successfully: ****@****.***
2025-05-27 17:19:33.371 DEBUG [7ee412c4-f796-446c-9954-ee44ade1238c] 33352 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:23:45.339 DEBUG [a8abac81-e989-4ac6-a9e5-c75fa8e0a35c] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 17:23:45.340 DEBUG [a8abac81-e989-4ac6-a9e5-c75fa8e0a35c] 33352 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=ndumPa8KAcg8iZqBiAQLvopWutoFZBxUmUPVwDtRr_g%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 17:23:47.332 DEBUG [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=ndumPa8KAcg8iZqBiAQLvopWutoFZBxUmUPVwDtRr_g%3D&code=4%2F0AUJR-x5PFPUX7WI-9Ho_QiPAN-8CNVfxVqW7XXMHeV_4v0E9lisf1xezsMqdbYRZSFsY6w&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none
2025-05-27 17:23:47.628  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] o.e.x.security.CustomOAuth2UserService   : User already exists: ****@****.***
2025-05-27 17:23:47.649 DEBUG [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1C8DE0C039ED56DD937174D416761009
2025-05-27 17:23:47.649 DEBUG [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1C8DE0C039ED56DD937174D416761009], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 17:23:47.651  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:23:47.651  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:23:47.652  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:23:47.652  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:23:47.652  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:23:47.652  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:23:47.653  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:23:47.653  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:23:47.653  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:23:47.653  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:23:47.653  INFO [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 17:23:47.653 DEBUG [13e1d1ff-8f09-4927-87e3-c30a09130720] 33352 --- [nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 17:23:48.470 DEBUG [0f3aaf8e-a5c0-46d8-8523-3750a0e6a95c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:23:48.471 DEBUG [cc2b43e9-6078-4f10-b248-6f540f044c60] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:23:48.481 DEBUG [cc2b43e9-6078-4f10-b248-6f540f044c60] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9AD1FB6F75ACAA03D9728AB106CAA6A3
2025-05-27 17:23:48.481 DEBUG [0f3aaf8e-a5c0-46d8-8523-3750a0e6a95c] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E90F1D4C6F30E4A9B2525AC6CE473A33
2025-05-27 17:23:48.482 DEBUG [cc2b43e9-6078-4f10-b248-6f540f044c60] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:23:48.482 DEBUG [0f3aaf8e-a5c0-46d8-8523-3750a0e6a95c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:23:48.483  INFO [0f3aaf8e-a5c0-46d8-8523-3750a0e6a95c] 33352 --- [nio-8080-exec-6] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:23:48.483  INFO [cc2b43e9-6078-4f10-b248-6f540f044c60] 33352 --- [nio-8080-exec-8] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:23:48.589 DEBUG [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:23:48.599 DEBUG [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E621E42054075891CD1463D4D6BFFCAD
2025-05-27 17:23:48.600 DEBUG [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:23:48.601  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:23:48.601  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:23:48.601  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:23:48.602  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:23:48.602  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:23:48.687  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:23:48.687  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:23:48.687  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:23:48.687  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:23:48.688  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:23:48.688  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:23:48.688  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:23:48.689  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:23:48.689  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:23:48.689  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:23:48.689  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:23:48.689  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:23:48.690  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:23:48.690  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:23:48.690  INFO [5526ecb3-b396-42d4-8f7c-ac0a143c44ae] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:23:48.922 DEBUG [3515abb8-717a-4717-a975-564b3e4b2499] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:23:48.932 DEBUG [3515abb8-717a-4717-a975-564b3e4b2499] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:23:48.933  INFO [3515abb8-717a-4717-a975-564b3e4b2499] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:23:48.939  INFO [3515abb8-717a-4717-a975-564b3e4b2499] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:23:48.990 DEBUG [8fd505d3-fdd5-4a83-880c-0bf5fdc17ba4] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:23:48.990 DEBUG [add30c0d-8909-492c-9c99-3c10bdfccc9e] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:23:49.000 DEBUG [8fd505d3-fdd5-4a83-880c-0bf5fdc17ba4] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 672D29C6138DB33B61A104BBCCADDF01
2025-05-27 17:23:49.000 DEBUG [8fd505d3-fdd5-4a83-880c-0bf5fdc17ba4] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:23:49.001 DEBUG [add30c0d-8909-492c-9c99-3c10bdfccc9e] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:23:49.001  INFO [8fd505d3-fdd5-4a83-880c-0bf5fdc17ba4] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:23:49.008  WARN [add30c0d-8909-492c-9c99-3c10bdfccc9e] 33352 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:23:49.009  WARN [add30c0d-8909-492c-9c99-3c10bdfccc9e] 33352 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:23:49.020  INFO [8fd505d3-fdd5-4a83-880c-0bf5fdc17ba4] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:23:49.218 DEBUG [df3244cb-eb8b-495a-8b2c-6e9a21dc1055] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:23:49.230 DEBUG [df3244cb-eb8b-495a-8b2c-6e9a21dc1055] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:23:49.230  INFO [df3244cb-eb8b-495a-8b2c-6e9a21dc1055] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:23:49.235  INFO [df3244cb-eb8b-495a-8b2c-6e9a21dc1055] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:23:50.396 DEBUG [bce4ac81-b9d0-400b-8364-d66a28208ac5] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:23:50.406 DEBUG [bce4ac81-b9d0-400b-8364-d66a28208ac5] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:23:50.406  INFO [bce4ac81-b9d0-400b-8364-d66a28208ac5] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:23:50.412  INFO [bce4ac81-b9d0-400b-8364-d66a28208ac5] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:23:50.433 DEBUG [2c84f6c9-446d-4b0f-b20e-a1a388c6769e] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:23:50.444 DEBUG [2c84f6c9-446d-4b0f-b20e-a1a388c6769e] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2B4EAFB9152F0EFBF969897434AE9D51
2025-05-27 17:23:50.445 DEBUG [2c84f6c9-446d-4b0f-b20e-a1a388c6769e] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:23:50.451  WARN [2c84f6c9-446d-4b0f-b20e-a1a388c6769e] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:23:50.452  WARN [2c84f6c9-446d-4b0f-b20e-a1a388c6769e] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:23:50.661 DEBUG [52c8e5b8-05fa-4cac-9906-376078c119b9] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:23:50.670 DEBUG [52c8e5b8-05fa-4cac-9906-376078c119b9] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:23:50.670  INFO [52c8e5b8-05fa-4cac-9906-376078c119b9] 33352 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:23:50.675  INFO [52c8e5b8-05fa-4cac-9906-376078c119b9] 33352 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:23:50.692 DEBUG [5a0f0247-3630-4901-bb75-552c3ca31e27] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:23:50.702 DEBUG [5a0f0247-3630-4901-bb75-552c3ca31e27] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 27515A447BF8127FF942293F27E2BC3F
2025-05-27 17:23:50.704 DEBUG [5a0f0247-3630-4901-bb75-552c3ca31e27] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:23:50.709  WARN [5a0f0247-3630-4901-bb75-552c3ca31e27] 33352 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:23:50.709  WARN [5a0f0247-3630-4901-bb75-552c3ca31e27] 33352 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:24:01.887 DEBUG [069252f6-f307-4274-a0a4-c3605b97c6da] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/avatar
2025-05-27 17:24:01.896 DEBUG [069252f6-f307-4274-a0a4-c3605b97c6da] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CCCF23D627219AFA5AD7C423A8247D66
2025-05-27 17:24:01.897 DEBUG [069252f6-f307-4274-a0a4-c3605b97c6da] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/avatar
2025-05-27 17:24:01.931 ERROR [069252f6-f307-4274-a0a4-c3605b97c6da] 33352 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Unhandled exception occurred

org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.handleParseFailure(StandardMultipartHttpServletRequest.java:122)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:110)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:86)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:112)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1227)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.catalina.connector.Request.parseParts(Request.java:2825)
	at org.apache.catalina.connector.Request.getParts(Request.java:2685)
	at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:773)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:93)
	... 164 common frames omitted
Caused by: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.tomcat.util.http.fileupload.impl.FileItemStreamImpl$1.raiseError(FileItemStreamImpl.java:117)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.checkLimit(LimitedInputStream.java:76)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:135)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)
	at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:96)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:292)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2784)
	... 170 common frames omitted

2025-05-27 17:24:01.941  WARN [069252f6-f307-4274-a0a4-c3605b97c6da] 33352 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
2025-05-27 17:24:06.274 DEBUG [4158828a-6ce3-4adf-a532-215c7bfdad6f] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/user/me/avatar
2025-05-27 17:24:06.284 DEBUG [4158828a-6ce3-4adf-a532-215c7bfdad6f] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 511C25BE4EAAA10E9DAF1E9A97AE558B
2025-05-27 17:24:06.285 DEBUG [4158828a-6ce3-4adf-a532-215c7bfdad6f] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/user/me/avatar
2025-05-27 17:24:06.353 DEBUG [c0187544-81f3-4465-b896-3133b3f458d4] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:06.367 DEBUG [c0187544-81f3-4465-b896-3133b3f458d4] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8C6538B4D0658EEFAD08F736DD733AC9
2025-05-27 17:24:06.368 DEBUG [c0187544-81f3-4465-b896-3133b3f458d4] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:09.826 DEBUG [8099a139-fb3b-44f1-97a2-c18750177790] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:09.837 DEBUG [8099a139-fb3b-44f1-97a2-c18750177790] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A9F121177B157C1147B01A5FAF3EDBDC
2025-05-27 17:24:09.838 DEBUG [8099a139-fb3b-44f1-97a2-c18750177790] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:09.839  INFO [8099a139-fb3b-44f1-97a2-c18750177790] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:24:09.839  INFO [8099a139-fb3b-44f1-97a2-c18750177790] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:24:09.839  INFO [8099a139-fb3b-44f1-97a2-c18750177790] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:24:09.839  INFO [8099a139-fb3b-44f1-97a2-c18750177790] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:24:11.030 DEBUG [8f786f06-2636-4117-a628-f48d9b2cdfdc] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:11.040 DEBUG [8f786f06-2636-4117-a628-f48d9b2cdfdc] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:11.041  INFO [8f786f06-2636-4117-a628-f48d9b2cdfdc] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:11.047  INFO [8f786f06-2636-4117-a628-f48d9b2cdfdc] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:11.071 DEBUG [d1859965-dbcf-482a-8632-76e72f1b3216] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:11.086 DEBUG [d1859965-dbcf-482a-8632-76e72f1b3216] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 785810EC9F2175894ECAEAF8956B27B1
2025-05-27 17:24:11.088 DEBUG [d1859965-dbcf-482a-8632-76e72f1b3216] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:11.321 DEBUG [2559db1f-2a2d-4082-ae7a-e818064f924e] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:11.331 DEBUG [2559db1f-2a2d-4082-ae7a-e818064f924e] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:11.331  INFO [2559db1f-2a2d-4082-ae7a-e818064f924e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:11.337  INFO [2559db1f-2a2d-4082-ae7a-e818064f924e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:11.353 DEBUG [a366c11b-fe88-4bbe-9ea3-cf32c4467ba5] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:11.377 DEBUG [a366c11b-fe88-4bbe-9ea3-cf32c4467ba5] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6A660815869F3F0B9E450DFCF951F7B7
2025-05-27 17:24:11.380 DEBUG [a366c11b-fe88-4bbe-9ea3-cf32c4467ba5] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:13.847 DEBUG [b6f1806f-db75-44f3-a068-5d593ed3eb87] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:13.864 DEBUG [b6f1806f-db75-44f3-a068-5d593ed3eb87] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:13.865  INFO [b6f1806f-db75-44f3-a068-5d593ed3eb87] 33352 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:13.871  INFO [b6f1806f-db75-44f3-a068-5d593ed3eb87] 33352 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:13.931 DEBUG [e7a4a427-5de5-4ee9-86b0-9572bfae0168] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:13.937 DEBUG [bdb1ce75-f151-4d3e-bb32-f116f97303c8] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:24:13.943 DEBUG [e7a4a427-5de5-4ee9-86b0-9572bfae0168] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FC7943BE0DCF1CD616F7AEFB9F9CBC12
2025-05-27 17:24:13.946 DEBUG [e7a4a427-5de5-4ee9-86b0-9572bfae0168] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:13.962 DEBUG [bdb1ce75-f151-4d3e-bb32-f116f97303c8] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:24:13.966  INFO [bdb1ce75-f151-4d3e-bb32-f116f97303c8] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:24:13.986  INFO [bdb1ce75-f151-4d3e-bb32-f116f97303c8] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:24:14.008 DEBUG [0b967bb7-57bf-4402-8054-ddb1f02fd662] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:14.018 DEBUG [0b967bb7-57bf-4402-8054-ddb1f02fd662] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:14.287 DEBUG [0f87472b-649d-41a6-a7e2-fa7423cc17b5] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:14.295 DEBUG [0f87472b-649d-41a6-a7e2-fa7423cc17b5] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:14.295  INFO [0f87472b-649d-41a6-a7e2-fa7423cc17b5] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:14.300  INFO [0f87472b-649d-41a6-a7e2-fa7423cc17b5] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:14.327 DEBUG [c14739fe-7fc2-46b1-9eb1-bf851b8883bd] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:14.338 DEBUG [c14739fe-7fc2-46b1-9eb1-bf851b8883bd] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 708C8ABAE087F9EB4CE8D790048166C3
2025-05-27 17:24:14.339 DEBUG [c14739fe-7fc2-46b1-9eb1-bf851b8883bd] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:14.548 DEBUG [e7c451fc-c071-4979-b2c8-afe9e7a76f8d] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:14.558 DEBUG [e7c451fc-c071-4979-b2c8-afe9e7a76f8d] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:14.558  INFO [e7c451fc-c071-4979-b2c8-afe9e7a76f8d] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:14.563  INFO [e7c451fc-c071-4979-b2c8-afe9e7a76f8d] 33352 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:14.577 DEBUG [fc356f3b-2796-4ff7-93ff-27298167fbf9] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:14.587 DEBUG [fc356f3b-2796-4ff7-93ff-27298167fbf9] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7BF3C5FC34E4F25900A87EFC8DDCA88D
2025-05-27 17:24:14.588 DEBUG [fc356f3b-2796-4ff7-93ff-27298167fbf9] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:28.142 DEBUG [d403a894-9ad5-4245-9bdc-1727c0945b09] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:24:28.152 DEBUG [d403a894-9ad5-4245-9bdc-1727c0945b09] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DAC529B9E347989689B2A69F132ABD8E
2025-05-27 17:24:28.152 DEBUG [d403a894-9ad5-4245-9bdc-1727c0945b09] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:24:28.153  INFO [d403a894-9ad5-4245-9bdc-1727c0945b09] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:24:28.165  INFO [d403a894-9ad5-4245-9bdc-1727c0945b09] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:24:28.176 DEBUG [11df8876-1e59-49e3-8029-8059cc47e4d0] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:24:28.187 DEBUG [11df8876-1e59-49e3-8029-8059cc47e4d0] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:24:28.187  INFO [11df8876-1e59-49e3-8029-8059cc47e4d0] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:24:28.197  INFO [11df8876-1e59-49e3-8029-8059cc47e4d0] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:24:29.650 DEBUG [d9a8bf39-5bde-40e5-beb7-1703731b4d55] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:29.663 DEBUG [d9a8bf39-5bde-40e5-beb7-1703731b4d55] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B4C27B802BA94982F91CB72542931B31
2025-05-27 17:24:29.664 DEBUG [d9a8bf39-5bde-40e5-beb7-1703731b4d55] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:29.666  INFO [d9a8bf39-5bde-40e5-beb7-1703731b4d55] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:24:29.667  INFO [d9a8bf39-5bde-40e5-beb7-1703731b4d55] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:24:29.668  INFO [d9a8bf39-5bde-40e5-beb7-1703731b4d55] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:24:29.668  INFO [d9a8bf39-5bde-40e5-beb7-1703731b4d55] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:24:30.280 DEBUG [7bc22101-96cc-43d4-a446-3c5351b18e47] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:24:30.289 DEBUG [7bc22101-96cc-43d4-a446-3c5351b18e47] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 40E0D3FF7B0CFCB5471E97AE0EE2C662
2025-05-27 17:24:30.290 DEBUG [7bc22101-96cc-43d4-a446-3c5351b18e47] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:24:30.295  INFO [7bc22101-96cc-43d4-a446-3c5351b18e47] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:24:30.295  INFO [7bc22101-96cc-43d4-a446-3c5351b18e47] 33352 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:24:30.306 DEBUG [7ea56198-4519-4f26-9504-70537305ffe7] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:24:30.316 DEBUG [7ea56198-4519-4f26-9504-70537305ffe7] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:24:30.322  INFO [7ea56198-4519-4f26-9504-70537305ffe7] 33352 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting boarding passes for user: ****@****.***
2025-05-27 17:24:30.322  INFO [7ea56198-4519-4f26-9504-70537305ffe7] 33352 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-27 17:24:30.935 DEBUG [5b783900-2c21-4fd3-b90f-108bf283afc2] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:24:30.948 DEBUG [5b783900-2c21-4fd3-b90f-108bf283afc2] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 40362C1F622D5DB4CAF39ECDB36190DB
2025-05-27 17:24:30.949 DEBUG [5b783900-2c21-4fd3-b90f-108bf283afc2] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:24:30.957  INFO [5b783900-2c21-4fd3-b90f-108bf283afc2] 33352 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:24:30.957  INFO [5b783900-2c21-4fd3-b90f-108bf283afc2] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:24:30.996  INFO [5b783900-2c21-4fd3-b90f-108bf283afc2] 33352 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:24:31.006 DEBUG [9a9b4433-0301-4de1-b136-bc82dd5af8a3] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:24:31.015 DEBUG [9a9b4433-0301-4de1-b136-bc82dd5af8a3] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:24:31.020  INFO [9a9b4433-0301-4de1-b136-bc82dd5af8a3] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-27 17:24:31.020  INFO [9a9b4433-0301-4de1-b136-bc82dd5af8a3] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-27 17:24:31.056  INFO [9a9b4433-0301-4de1-b136-bc82dd5af8a3] 33352 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-27 17:24:31.631 DEBUG [0a69bed8-b1e0-4a75-af64-7187dfdcedb7] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:24:31.641 DEBUG [0a69bed8-b1e0-4a75-af64-7187dfdcedb7] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BEC1FAC5FE185CB8E1F05B491F4457E2
2025-05-27 17:24:31.642 DEBUG [0a69bed8-b1e0-4a75-af64-7187dfdcedb7] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:24:31.643  INFO [0a69bed8-b1e0-4a75-af64-7187dfdcedb7] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:24:31.655  INFO [0a69bed8-b1e0-4a75-af64-7187dfdcedb7] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:24:31.665 DEBUG [87ca01f5-e59b-4203-bd95-3cb42b8cbb8e] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:24:31.674 DEBUG [87ca01f5-e59b-4203-bd95-3cb42b8cbb8e] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:24:31.674  INFO [87ca01f5-e59b-4203-bd95-3cb42b8cbb8e] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:24:31.685  INFO [87ca01f5-e59b-4203-bd95-3cb42b8cbb8e] 33352 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:24:32.746 DEBUG [b89ef149-6d9b-44fd-8531-c670a98f30f0] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:32.755 DEBUG [b89ef149-6d9b-44fd-8531-c670a98f30f0] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:32.756  INFO [b89ef149-6d9b-44fd-8531-c670a98f30f0] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:32.760  INFO [b89ef149-6d9b-44fd-8531-c670a98f30f0] 33352 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:32.786 DEBUG [e33c8f11-75e0-4874-973b-9208e3888e77] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:32.798 DEBUG [e33c8f11-75e0-4874-973b-9208e3888e77] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6057AA7BDA71FB6A5211FC4B3FE902A2
2025-05-27 17:24:32.800 DEBUG [e33c8f11-75e0-4874-973b-9208e3888e77] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:33.016 DEBUG [cd115a8c-846d-4128-b626-c2b205094969] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:33.026 DEBUG [cd115a8c-846d-4128-b626-c2b205094969] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:33.027  INFO [cd115a8c-846d-4128-b626-c2b205094969] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:33.032  INFO [cd115a8c-846d-4128-b626-c2b205094969] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:33.050 DEBUG [4a473d8a-3e73-47cc-be7c-d64353ee4f32] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:33.060 DEBUG [4a473d8a-3e73-47cc-be7c-d64353ee4f32] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BECA8B9937EB269578DBBB45B0FE8E38
2025-05-27 17:24:33.061 DEBUG [4a473d8a-3e73-47cc-be7c-d64353ee4f32] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:35.582 DEBUG [2fb02fda-9088-44f3-a763-ae3651d0380c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:35.592 DEBUG [2fb02fda-9088-44f3-a763-ae3651d0380c] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3A7E5C69A81768BBF7689BA6D9194451
2025-05-27 17:24:35.592 DEBUG [2fb02fda-9088-44f3-a763-ae3651d0380c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:35.593  INFO [2fb02fda-9088-44f3-a763-ae3651d0380c] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:24:35.593  INFO [2fb02fda-9088-44f3-a763-ae3651d0380c] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:24:35.593  INFO [2fb02fda-9088-44f3-a763-ae3651d0380c] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:24:35.594  INFO [2fb02fda-9088-44f3-a763-ae3651d0380c] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:24:38.915 DEBUG [0c89a1ca-b707-4552-ae9b-a1eeb8a246fc] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:38.926 DEBUG [0c89a1ca-b707-4552-ae9b-a1eeb8a246fc] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:38.927  INFO [0c89a1ca-b707-4552-ae9b-a1eeb8a246fc] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:38.931  INFO [0c89a1ca-b707-4552-ae9b-a1eeb8a246fc] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:38.957 DEBUG [1201d0c4-aedd-4e3d-86b4-874effc8bc70] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:38.967 DEBUG [1201d0c4-aedd-4e3d-86b4-874effc8bc70] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3C90C8A5BAB035ACACD1EEBE2B4046ED
2025-05-27 17:24:38.968 DEBUG [1201d0c4-aedd-4e3d-86b4-874effc8bc70] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:39.164 DEBUG [de6d6e4d-dafc-43e0-b0d2-c15b88e9abbe] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:24:39.172 DEBUG [de6d6e4d-dafc-43e0-b0d2-c15b88e9abbe] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:24:39.172  INFO [de6d6e4d-dafc-43e0-b0d2-c15b88e9abbe] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:24:39.176  INFO [de6d6e4d-dafc-43e0-b0d2-c15b88e9abbe] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:24:39.189 DEBUG [9a1b9c1d-d810-4809-a593-9a3b23cdcc00] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:24:39.197 DEBUG [9a1b9c1d-d810-4809-a593-9a3b23cdcc00] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6A4A3D5B12FE03A26531996B07A9868F
2025-05-27 17:24:39.198 DEBUG [9a1b9c1d-d810-4809-a593-9a3b23cdcc00] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:24:43.486 DEBUG [9bd6299f-215c-41a3-8751-32c8d715dab7] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:24:43.487 DEBUG [9bd6299f-215c-41a3-8751-32c8d715dab7] 33352 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:24:43.890 DEBUG [a9496bba-0cfe-42a0-8b5a-60abaa24f107] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:43.898 DEBUG [a9496bba-0cfe-42a0-8b5a-60abaa24f107] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0F361A28BF546C4CB7F2051273206C80
2025-05-27 17:24:43.899 DEBUG [a9496bba-0cfe-42a0-8b5a-60abaa24f107] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:24:43.899  INFO [a9496bba-0cfe-42a0-8b5a-60abaa24f107] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:24:43.899  INFO [a9496bba-0cfe-42a0-8b5a-60abaa24f107] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:24:43.900  INFO [a9496bba-0cfe-42a0-8b5a-60abaa24f107] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:24:43.900  INFO [a9496bba-0cfe-42a0-8b5a-60abaa24f107] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:28:45.946 DEBUG [2bbef8b6-a7f0-4440-9de3-debf3254ecff] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:28:45.956 DEBUG [2bbef8b6-a7f0-4440-9de3-debf3254ecff] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 22C3A32B8929A7497467AF1FF7942327
2025-05-27 17:28:45.957 DEBUG [2bbef8b6-a7f0-4440-9de3-debf3254ecff] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:28:45.957  INFO [2bbef8b6-a7f0-4440-9de3-debf3254ecff] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:28:45.958  INFO [2bbef8b6-a7f0-4440-9de3-debf3254ecff] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:28:45.958  INFO [2bbef8b6-a7f0-4440-9de3-debf3254ecff] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:28:45.958  INFO [2bbef8b6-a7f0-4440-9de3-debf3254ecff] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:28:53.819 DEBUG [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:28:53.834 DEBUG [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4164A2B70BC8AACC1445A653E3BA9250
2025-05-27 17:28:53.835 DEBUG [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:28:53.837  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:28:53.838  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:28:53.838  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:28:53.838  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:28:53.838  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:28:53.889  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:28:53.889  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:28:53.889  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:28:53.890  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:28:53.890  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:28:53.890  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:28:53.890  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:28:53.890  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:28:53.890  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:28:53.890  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:28:53.891  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:28:53.891  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:28:53.891  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:28:53.891  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:28:53.891  INFO [53f53785-2af0-4906-b4e9-ea428253381f] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:28:57.839 DEBUG [bebe7ebd-f106-4f95-b9e7-f2d61fae2fdf] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:28:57.853 DEBUG [bebe7ebd-f106-4f95-b9e7-f2d61fae2fdf] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 58AE293442D3F0D9C5E1147B8159DAB3
2025-05-27 17:28:57.854 DEBUG [bebe7ebd-f106-4f95-b9e7-f2d61fae2fdf] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:28:57.855  INFO [bebe7ebd-f106-4f95-b9e7-f2d61fae2fdf] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:28:57.855  INFO [bebe7ebd-f106-4f95-b9e7-f2d61fae2fdf] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:28:57.855  INFO [bebe7ebd-f106-4f95-b9e7-f2d61fae2fdf] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:28:57.855  INFO [bebe7ebd-f106-4f95-b9e7-f2d61fae2fdf] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:29:01.586 DEBUG [d642844a-ac89-4c02-8ede-555e364a41a1] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=ZRH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:29:01.608 DEBUG [d642844a-ac89-4c02-8ede-555e364a41a1] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 13FC50F902722D32918D17EA573B6DA4
2025-05-27 17:29:01.610 DEBUG [d642844a-ac89-4c02-8ede-555e364a41a1] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=ZRH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:29:01.611  INFO [d642844a-ac89-4c02-8ede-555e364a41a1] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=ZRH, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:29:01.612  INFO [d642844a-ac89-4c02-8ede-555e364a41a1] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to ZRH on 2025-05-28
2025-05-27 17:29:01.664  INFO [d642844a-ac89-4c02-8ede-555e364a41a1] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:29:01.674 DEBUG [3af359a6-aa00-4d74-b6f7-70f9299d7e35] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=ZRH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:29:01.685 DEBUG [3af359a6-aa00-4d74-b6f7-70f9299d7e35] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=ZRH&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:29:01.686  INFO [3af359a6-aa00-4d74-b6f7-70f9299d7e35] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=ZRH, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:29:01.686  INFO [3af359a6-aa00-4d74-b6f7-70f9299d7e35] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to ZRH on 2025-05-28
2025-05-27 17:29:01.738  INFO [3af359a6-aa00-4d74-b6f7-70f9299d7e35] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:29:03.389 DEBUG [96b88bb7-89f9-43c3-ae62-6e1a944a8160] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:29:03.400 DEBUG [96b88bb7-89f9-43c3-ae62-6e1a944a8160] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0F89CCA4B2D8ED0D38190449A8580170
2025-05-27 17:29:03.401 DEBUG [96b88bb7-89f9-43c3-ae62-6e1a944a8160] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:29:03.402  INFO [96b88bb7-89f9-43c3-ae62-6e1a944a8160] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:29:03.402  INFO [96b88bb7-89f9-43c3-ae62-6e1a944a8160] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:29:03.402  INFO [96b88bb7-89f9-43c3-ae62-6e1a944a8160] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:29:03.402  INFO [96b88bb7-89f9-43c3-ae62-6e1a944a8160] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:31:02.375 DEBUG [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:31:02.375 DEBUG [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:31:02.376 DEBUG [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:31:02.377  INFO [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:31:02.566  INFO [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:31:02.567  INFO [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:31:02.641 DEBUG [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value
2025-05-27 17:31:02.642  WARN [90ea279f-432b-46a0-b87f-f5c8d84902a1] 33352 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Authentication failed for user ****@****.***: Invalid credentials
2025-05-27 17:31:06.838 DEBUG [2a65b89c-294a-4809-94fe-daa073cdc238] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:31:06.848 DEBUG [2a65b89c-294a-4809-94fe-daa073cdc238] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AC095C4C48308498313425D086004371
2025-05-27 17:31:06.849 DEBUG [2a65b89c-294a-4809-94fe-daa073cdc238] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:31:06.849  INFO [2a65b89c-294a-4809-94fe-daa073cdc238] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:31:06.850  INFO [2a65b89c-294a-4809-94fe-daa073cdc238] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:31:06.850  INFO [2a65b89c-294a-4809-94fe-daa073cdc238] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:31:06.850  INFO [2a65b89c-294a-4809-94fe-daa073cdc238] 33352 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:31:19.840 DEBUG [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:31:19.841 DEBUG [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:31:19.841 DEBUG [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:31:19.842  INFO [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:31:20.005  INFO [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:31:20.006  INFO [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:31:20.075 DEBUG [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:31:20.075  INFO [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 17:31:20.100  INFO [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 17:31:20.100  INFO [19ee56b9-36e7-46aa-94a9-1f7b451f267d] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 17:31:20.147 DEBUG [9751a9df-831c-4fcd-8a51-8753556cfb7b] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:31:20.147 DEBUG [25f804e0-649d-416f-ab99-975c56df3717] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:31:20.158 DEBUG [9751a9df-831c-4fcd-8a51-8753556cfb7b] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6AA9F65AA3B530554A86E043A6057136
2025-05-27 17:31:20.158 DEBUG [25f804e0-649d-416f-ab99-975c56df3717] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4A885360FEABFC7F3688EA94B6D0E1BB
2025-05-27 17:31:20.159 DEBUG [25f804e0-649d-416f-ab99-975c56df3717] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:31:20.159 DEBUG [9751a9df-831c-4fcd-8a51-8753556cfb7b] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:31:20.159  INFO [25f804e0-649d-416f-ab99-975c56df3717] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:31:20.167  WARN [9751a9df-831c-4fcd-8a51-8753556cfb7b] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:31:20.168  WARN [9751a9df-831c-4fcd-8a51-8753556cfb7b] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:31:20.173  INFO [25f804e0-649d-416f-ab99-975c56df3717] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 17:31:20.701 DEBUG [ad205b9b-bbbf-445f-a17b-82e531345a17] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:31:20.711 DEBUG [ad205b9b-bbbf-445f-a17b-82e531345a17] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6BEED929ECB43D51E6F7D313FA84EFC3
2025-05-27 17:31:20.712 DEBUG [ad205b9b-bbbf-445f-a17b-82e531345a17] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:31:20.713  INFO [ad205b9b-bbbf-445f-a17b-82e531345a17] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:31:20.713  INFO [ad205b9b-bbbf-445f-a17b-82e531345a17] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:31:20.713  INFO [ad205b9b-bbbf-445f-a17b-82e531345a17] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:31:20.713  INFO [ad205b9b-bbbf-445f-a17b-82e531345a17] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:31:23.286 DEBUG [d883953b-bbe7-43c5-ad2e-a2818ab04ba4] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 17:31:23.305 DEBUG [d883953b-bbe7-43c5-ad2e-a2818ab04ba4] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 26EF066E0B5EF6F0F77F915B89C5D34A
2025-05-27 17:31:23.306 DEBUG [d883953b-bbe7-43c5-ad2e-a2818ab04ba4] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 17:31:23.307  INFO [d883953b-bbe7-43c5-ad2e-a2818ab04ba4] 33352 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 17:31:23.472  INFO [d883953b-bbe7-43c5-ad2e-a2818ab04ba4] 33352 --- [nio-8080-exec-8] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 17:31:23.489 DEBUG [4551a7c1-c6de-43cc-b4aa-5714defbbc1d] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 17:31:23.502 DEBUG [4551a7c1-c6de-43cc-b4aa-5714defbbc1d] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 17:31:23.503  INFO [4551a7c1-c6de-43cc-b4aa-5714defbbc1d] 33352 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 17:31:23.582  INFO [4551a7c1-c6de-43cc-b4aa-5714defbbc1d] 33352 --- [io-8080-exec-10] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 17:31:24.016 DEBUG [7b330158-b0a6-4de1-8681-5fcb1738abae] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:31:24.016 DEBUG [7b330158-b0a6-4de1-8681-5fcb1738abae] 33352 --- [nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:31:24.513 DEBUG [5fa853ef-bbaa-449b-b370-23b5c7f1581f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:31:24.530 DEBUG [5fa853ef-bbaa-449b-b370-23b5c7f1581f] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EEA644E7277BF5B554908381D499C95D
2025-05-27 17:31:24.531 DEBUG [5fa853ef-bbaa-449b-b370-23b5c7f1581f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:31:24.532  INFO [5fa853ef-bbaa-449b-b370-23b5c7f1581f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:31:24.532  INFO [5fa853ef-bbaa-449b-b370-23b5c7f1581f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:31:24.533  INFO [5fa853ef-bbaa-449b-b370-23b5c7f1581f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:31:24.533  INFO [5fa853ef-bbaa-449b-b370-23b5c7f1581f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:31:39.329 DEBUG [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/signup
2025-05-27 17:31:39.330 DEBUG [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:31:39.330 DEBUG [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/signup
2025-05-27 17:31:39.337  INFO [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.e.x.controllers.SignupController       : Received registration request for email: ****@****.***
2025-05-27 17:31:39.493  INFO [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:31:39.493  INFO [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.e.x.controllers.SignupController       : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:31:39.560 DEBUG [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.e.x.controllers.SignupController       : Attempting to save new user: ****@****.***
2025-05-27 17:31:39.578  INFO [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.e.x.controllers.SignupController       : User registered successfully: ****@****.***
2025-05-27 17:31:39.645 DEBUG [dd31567d-9d6b-4bd6-a780-0e3e86d6060f] 33352 --- [nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:31:55.998 DEBUG [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:31:55.999 DEBUG [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:31:55.999 DEBUG [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:31:56.000  INFO [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:31:56.164  INFO [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:31:56.164  INFO [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:31:56.232 DEBUG [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '****@****.***'
2025-05-27 17:31:56.232  WARN [31a15170-5319-45df-a687-31ef70ea51a6] 33352 --- [nio-8080-exec-4] o.e.x.controllers.LoginController        : Authentication failed for user ****@****.***: Invalid credentials
2025-05-27 17:32:09.691 DEBUG [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:32:09.692 DEBUG [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:32:09.692 DEBUG [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:32:09.693  INFO [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:32:09.863  INFO [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:32:09.863  INFO [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:32:09.940 DEBUG [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:32:09.940  INFO [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 17:32:09.959  INFO [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 17:32:09.959  INFO [b395f476-c38e-4dcc-b73a-7750e0d863fc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 17:32:10.005 DEBUG [c0689fbc-fdfb-4d21-b6a4-a84bbeb1fca0] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:32:10.006 DEBUG [e91eecb4-39d2-430a-9f2e-894ffff754b0] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:32:10.015 DEBUG [e91eecb4-39d2-430a-9f2e-894ffff754b0] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3777A26574DAC2609B9C19ABC0B9FD00
2025-05-27 17:32:10.016 DEBUG [e91eecb4-39d2-430a-9f2e-894ffff754b0] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:32:10.016 DEBUG [c0689fbc-fdfb-4d21-b6a4-a84bbeb1fca0] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:32:10.017  INFO [e91eecb4-39d2-430a-9f2e-894ffff754b0] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:32:10.022  WARN [c0689fbc-fdfb-4d21-b6a4-a84bbeb1fca0] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:32:10.023  WARN [c0689fbc-fdfb-4d21-b6a4-a84bbeb1fca0] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:32:10.027  INFO [e91eecb4-39d2-430a-9f2e-894ffff754b0] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 17:32:10.420 DEBUG [6795136d-50c5-4bd2-bd05-061a78af756a] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:10.430 DEBUG [6795136d-50c5-4bd2-bd05-061a78af756a] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C8599B1B229426E9D3C4690C373AE22E
2025-05-27 17:32:10.431 DEBUG [6795136d-50c5-4bd2-bd05-061a78af756a] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:10.431  INFO [6795136d-50c5-4bd2-bd05-061a78af756a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:32:10.432  INFO [6795136d-50c5-4bd2-bd05-061a78af756a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:32:10.432  INFO [6795136d-50c5-4bd2-bd05-061a78af756a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:32:10.432  INFO [6795136d-50c5-4bd2-bd05-061a78af756a] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:32:12.215 DEBUG [9b56ff03-194a-4125-902e-0c243932adf0] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:32:12.226 DEBUG [9b56ff03-194a-4125-902e-0c243932adf0] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:32:12.227  INFO [9b56ff03-194a-4125-902e-0c243932adf0] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 17:32:12.231  INFO [9b56ff03-194a-4125-902e-0c243932adf0] 33352 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 17:32:12.260 DEBUG [b69616d9-b5bf-4470-8bb6-a6e31e35b599] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:32:12.272 DEBUG [b69616d9-b5bf-4470-8bb6-a6e31e35b599] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B1FD47FDB1D5CF7B0C250A8D6D102B8A
2025-05-27 17:32:12.274 DEBUG [b69616d9-b5bf-4470-8bb6-a6e31e35b599] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:32:12.280  WARN [b69616d9-b5bf-4470-8bb6-a6e31e35b599] 33352 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:32:12.281  WARN [b69616d9-b5bf-4470-8bb6-a6e31e35b599] 33352 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:32:12.566 DEBUG [c69317ab-bba1-4efe-8899-dc5316e541d7] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:32:12.576 DEBUG [c69317ab-bba1-4efe-8899-dc5316e541d7] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:32:12.577  INFO [c69317ab-bba1-4efe-8899-dc5316e541d7] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 17:32:12.582  INFO [c69317ab-bba1-4efe-8899-dc5316e541d7] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 17:32:12.615 DEBUG [394fb18b-c189-41e3-8337-cb5358078577] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 17:32:12.626 DEBUG [394fb18b-c189-41e3-8337-cb5358078577] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from FC3BAE700E76580AC5B0436C7DC3C8F7
2025-05-27 17:32:12.628 DEBUG [394fb18b-c189-41e3-8337-cb5358078577] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 17:32:12.629  INFO [394fb18b-c189-41e3-8337-cb5358078577] 33352 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 17:32:12.643 DEBUG [0df5eac6-9e80-4ab8-a3ac-3e682e422085] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:32:12.653 DEBUG [0df5eac6-9e80-4ab8-a3ac-3e682e422085] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:32:12.658  WARN [0df5eac6-9e80-4ab8-a3ac-3e682e422085] 33352 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:32:12.659  WARN [0df5eac6-9e80-4ab8-a3ac-3e682e422085] 33352 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:32:12.726  INFO [394fb18b-c189-41e3-8337-cb5358078577] 33352 --- [nio-8080-exec-9] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 17:32:12.735 DEBUG [0a637797-d02c-4dbc-b8a0-cd41b5afe9ac] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/metrics
2025-05-27 17:32:12.745 DEBUG [0a637797-d02c-4dbc-b8a0-cd41b5afe9ac] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/metrics
2025-05-27 17:32:12.746  INFO [0a637797-d02c-4dbc-b8a0-cd41b5afe9ac] 33352 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Request received for all metrics
2025-05-27 17:32:12.824  INFO [0a637797-d02c-4dbc-b8a0-cd41b5afe9ac] 33352 --- [nio-8080-exec-4] o.e.x.controllers.MetricsController      : Returning 4 metrics categories
2025-05-27 17:32:13.125 DEBUG [85bdd3de-e948-41c9-9205-b90eabafca65] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 17:32:13.135 DEBUG [85bdd3de-e948-41c9-9205-b90eabafca65] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6B74DC2C85A15E1A7181962BF17793CB
2025-05-27 17:32:13.139 DEBUG [85bdd3de-e948-41c9-9205-b90eabafca65] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 17:32:13.140  INFO [85bdd3de-e948-41c9-9205-b90eabafca65] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 17:32:13.224  INFO [85bdd3de-e948-41c9-9205-b90eabafca65] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UsersController        : Returning 7 users.
2025-05-27 17:32:13.237 DEBUG [72a72525-512b-4472-a787-4ceb0d772af9] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2025-05-27 17:32:13.246 DEBUG [72a72525-512b-4472-a787-4ceb0d772af9] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2025-05-27 17:32:13.246  INFO [72a72525-512b-4472-a787-4ceb0d772af9] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Request received for all users
2025-05-27 17:32:13.323  INFO [72a72525-512b-4472-a787-4ceb0d772af9] 33352 --- [nio-8080-exec-1] o.e.x.controllers.UsersController        : Returning 7 users.
2025-05-27 17:32:19.741 DEBUG [2c07a62c-93aa-46d9-92b8-8358068b6526] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:32:19.741 DEBUG [2c07a62c-93aa-46d9-92b8-8358068b6526] 33352 --- [nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:32:20.159 DEBUG [704e0a51-5d83-4248-837c-28bc92f88588] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:20.172 DEBUG [704e0a51-5d83-4248-837c-28bc92f88588] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A0BAB7ECC9545B43D3577DAF918244D0
2025-05-27 17:32:20.173 DEBUG [704e0a51-5d83-4248-837c-28bc92f88588] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:20.173  INFO [704e0a51-5d83-4248-837c-28bc92f88588] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:32:20.173  INFO [704e0a51-5d83-4248-837c-28bc92f88588] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:32:20.173  INFO [704e0a51-5d83-4248-837c-28bc92f88588] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:32:20.174  INFO [704e0a51-5d83-4248-837c-28bc92f88588] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:32:35.381 DEBUG [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:32:35.381 DEBUG [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:32:35.382 DEBUG [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:32:35.383  INFO [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:32:35.536  INFO [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:32:35.537  INFO [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:32:35.608 DEBUG [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:32:35.608  INFO [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Authentication successful for user: null
2025-05-27 17:32:35.632  INFO [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Updated last login time for user: null
2025-05-27 17:32:35.633  INFO [9a2c8657-ecb3-4595-9284-ddcf95fb2c5c] 33352 --- [nio-8080-exec-8] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: null
2025-05-27 17:32:35.678 DEBUG [5565edb4-e33d-46aa-b9ec-f9941235b52b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:32:35.679 DEBUG [cd7f8327-9cd3-47cf-931c-6c959db49172] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:32:35.693 DEBUG [5565edb4-e33d-46aa-b9ec-f9941235b52b] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 25C34E7DA2DDFF85F6EED47A5671E855
2025-05-27 17:32:35.694 DEBUG [cd7f8327-9cd3-47cf-931c-6c959db49172] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from DEE85F3EFAEEB3C8D562BC2393012596
2025-05-27 17:32:35.694 DEBUG [cd7f8327-9cd3-47cf-931c-6c959db49172] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:32:35.695 DEBUG [5565edb4-e33d-46aa-b9ec-f9941235b52b] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:32:35.695  INFO [cd7f8327-9cd3-47cf-931c-6c959db49172] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:32:35.706  WARN [5565edb4-e33d-46aa-b9ec-f9941235b52b] 33352 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:32:35.706  WARN [5565edb4-e33d-46aa-b9ec-f9941235b52b] 33352 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:32:35.710  INFO [cd7f8327-9cd3-47cf-931c-6c959db49172] 33352 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:32:36.225 DEBUG [dfce2445-4c49-44d0-8b85-097bbe2f333a] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:36.239 DEBUG [dfce2445-4c49-44d0-8b85-097bbe2f333a] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CA5230483C64CD009005A92522F0D5C0
2025-05-27 17:32:36.240 DEBUG [dfce2445-4c49-44d0-8b85-097bbe2f333a] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:36.241  INFO [dfce2445-4c49-44d0-8b85-097bbe2f333a] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:32:36.241  INFO [dfce2445-4c49-44d0-8b85-097bbe2f333a] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:32:36.241  INFO [dfce2445-4c49-44d0-8b85-097bbe2f333a] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:32:36.242  INFO [dfce2445-4c49-44d0-8b85-097bbe2f333a] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:32:40.291 DEBUG [8f6e8077-7b95-4408-b7e2-875463073ff0] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:32:40.309 DEBUG [8f6e8077-7b95-4408-b7e2-875463073ff0] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 19AF7C7DE495825328128F8AC795446D
2025-05-27 17:32:40.310 DEBUG [8f6e8077-7b95-4408-b7e2-875463073ff0] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:32:40.319  INFO [8f6e8077-7b95-4408-b7e2-875463073ff0] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting boarding passes for user: null
2025-05-27 17:32:40.320  INFO [8f6e8077-7b95-4408-b7e2-875463073ff0] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 5
2025-05-27 17:32:40.329 DEBUG [b6a30927-9b7e-42d6-8df6-6aea58e743fe] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:32:40.346 DEBUG [b6a30927-9b7e-42d6-8df6-6aea58e743fe] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:32:40.355  INFO [b6a30927-9b7e-42d6-8df6-6aea58e743fe] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting boarding passes for user: null
2025-05-27 17:32:40.355  INFO [b6a30927-9b7e-42d6-8df6-6aea58e743fe] 33352 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 5
2025-05-27 17:32:41.172 DEBUG [2d6df168-11b1-4820-9e9b-ea29e64a430a] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:32:41.202 DEBUG [2d6df168-11b1-4820-9e9b-ea29e64a430a] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3EE998AF17365B57E32E19E97AFD1DD3
2025-05-27 17:32:41.203 DEBUG [2d6df168-11b1-4820-9e9b-ea29e64a430a] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:32:41.217  INFO [2d6df168-11b1-4820-9e9b-ea29e64a430a] 33352 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: null
2025-05-27 17:32:41.217  INFO [2d6df168-11b1-4820-9e9b-ea29e64a430a] 33352 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 5
2025-05-27 17:32:41.259  INFO [2d6df168-11b1-4820-9e9b-ea29e64a430a] 33352 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 5
2025-05-27 17:32:41.270 DEBUG [5dbe386f-6de9-47e0-823b-4b4aecf0ce29] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:32:41.290 DEBUG [5dbe386f-6de9-47e0-823b-4b4aecf0ce29] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:32:41.302  INFO [5dbe386f-6de9-47e0-823b-4b4aecf0ce29] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: null
2025-05-27 17:32:41.303  INFO [5dbe386f-6de9-47e0-823b-4b4aecf0ce29] 33352 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 5
2025-05-27 17:32:41.340  INFO [5dbe386f-6de9-47e0-823b-4b4aecf0ce29] 33352 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 5
2025-05-27 17:32:41.990 DEBUG [6d2a1e22-d080-472f-a2f2-4ed05b6d3e23] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:41.998 DEBUG [6d2a1e22-d080-472f-a2f2-4ed05b6d3e23] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D13BE608E43DDD125AA17702EB44139A
2025-05-27 17:32:41.999 DEBUG [6d2a1e22-d080-472f-a2f2-4ed05b6d3e23] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:32:42.000  INFO [6d2a1e22-d080-472f-a2f2-4ed05b6d3e23] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:32:42.000  INFO [6d2a1e22-d080-472f-a2f2-4ed05b6d3e23] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:32:42.000  INFO [6d2a1e22-d080-472f-a2f2-4ed05b6d3e23] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:32:42.000  INFO [6d2a1e22-d080-472f-a2f2-4ed05b6d3e23] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:32:42.762 DEBUG [49822a31-f26f-4a16-9c0a-39f7b2fc235e] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:32:42.778 DEBUG [49822a31-f26f-4a16-9c0a-39f7b2fc235e] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:32:42.779  INFO [49822a31-f26f-4a16-9c0a-39f7b2fc235e] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:32:42.789  INFO [49822a31-f26f-4a16-9c0a-39f7b2fc235e] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:32:42.813 DEBUG [157e2939-5b92-44da-9342-aa6bb421a424] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:32:42.830 DEBUG [157e2939-5b92-44da-9342-aa6bb421a424] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from AC8429F36EA945836EFF4C635479B0E9
2025-05-27 17:32:42.831 DEBUG [157e2939-5b92-44da-9342-aa6bb421a424] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:32:42.842  WARN [157e2939-5b92-44da-9342-aa6bb421a424] 33352 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:32:42.843  WARN [157e2939-5b92-44da-9342-aa6bb421a424] 33352 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:32:43.034 DEBUG [29215a94-3011-43ce-a7a3-99efe8c11394] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:32:43.050 DEBUG [29215a94-3011-43ce-a7a3-99efe8c11394] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:32:43.050  INFO [29215a94-3011-43ce-a7a3-99efe8c11394] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:32:43.059  INFO [29215a94-3011-43ce-a7a3-99efe8c11394] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:32:43.073 DEBUG [c0640cba-4659-4616-9a4e-cd1b7e9c818d] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:32:43.087 DEBUG [c0640cba-4659-4616-9a4e-cd1b7e9c818d] 33352 --- [nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 62D13388735A5BE4506892206C2CACC5
2025-05-27 17:32:43.088 DEBUG [c0640cba-4659-4616-9a4e-cd1b7e9c818d] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:32:43.098  WARN [c0640cba-4659-4616-9a4e-cd1b7e9c818d] 33352 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:32:43.098  WARN [c0640cba-4659-4616-9a4e-cd1b7e9c818d] 33352 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:33:24.293 DEBUG [99e0b26d-3a4a-4419-914e-06cd359dd06d] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:24.304 DEBUG [99e0b26d-3a4a-4419-914e-06cd359dd06d] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C232A33AFA2D7C487ED2311210E1C3AC
2025-05-27 17:33:24.305 DEBUG [99e0b26d-3a4a-4419-914e-06cd359dd06d] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:24.306  INFO [99e0b26d-3a4a-4419-914e-06cd359dd06d] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:33:24.306  INFO [99e0b26d-3a4a-4419-914e-06cd359dd06d] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:33:24.306  INFO [99e0b26d-3a4a-4419-914e-06cd359dd06d] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:33:24.306  INFO [99e0b26d-3a4a-4419-914e-06cd359dd06d] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:33:34.508 DEBUG [e00e6421-c179-4d87-b7be-16213c11d1b5] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:33:34.524 DEBUG [e00e6421-c179-4d87-b7be-16213c11d1b5] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:33:34.525  INFO [e00e6421-c179-4d87-b7be-16213c11d1b5] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:33:34.536  INFO [e00e6421-c179-4d87-b7be-16213c11d1b5] 33352 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:33:34.590 DEBUG [3eb95804-f3f1-41e6-9260-b762f612749e] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:33:34.632 DEBUG [3eb95804-f3f1-41e6-9260-b762f612749e] 33352 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 82247C786415567891F092EC0C709829
2025-05-27 17:33:34.634 DEBUG [3eb95804-f3f1-41e6-9260-b762f612749e] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:33:34.654  WARN [3eb95804-f3f1-41e6-9260-b762f612749e] 33352 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:33:34.655  WARN [3eb95804-f3f1-41e6-9260-b762f612749e] 33352 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:33:34.881 DEBUG [e6e14692-1bed-4f20-a910-7eeb625d21aa] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:33:34.900 DEBUG [e6e14692-1bed-4f20-a910-7eeb625d21aa] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:33:34.901  INFO [e6e14692-1bed-4f20-a910-7eeb625d21aa] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:33:34.912  INFO [e6e14692-1bed-4f20-a910-7eeb625d21aa] 33352 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:33:34.929 DEBUG [7f4ed7ab-111a-4d55-9a4e-7ebdd9ec6f31] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:33:34.946 DEBUG [7f4ed7ab-111a-4d55-9a4e-7ebdd9ec6f31] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3EE4FE321E5F25A2D1CFA256BB9B6DF0
2025-05-27 17:33:34.948 DEBUG [7f4ed7ab-111a-4d55-9a4e-7ebdd9ec6f31] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:33:34.960  WARN [7f4ed7ab-111a-4d55-9a4e-7ebdd9ec6f31] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:33:34.960  WARN [7f4ed7ab-111a-4d55-9a4e-7ebdd9ec6f31] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:33:37.971 DEBUG [a6b2c1f4-be92-4067-a523-c1e83ca7f18f] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:37.983 DEBUG [a6b2c1f4-be92-4067-a523-c1e83ca7f18f] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from ACD7658B160CFD0A72A0C5E089DEBC5C
2025-05-27 17:33:37.983 DEBUG [a6b2c1f4-be92-4067-a523-c1e83ca7f18f] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:37.984  INFO [a6b2c1f4-be92-4067-a523-c1e83ca7f18f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:33:37.984  INFO [a6b2c1f4-be92-4067-a523-c1e83ca7f18f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:33:37.985  INFO [a6b2c1f4-be92-4067-a523-c1e83ca7f18f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:33:37.985  INFO [a6b2c1f4-be92-4067-a523-c1e83ca7f18f] 33352 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:33:42.667 DEBUG [fab1e39f-492a-4fd7-89e1-6ca25eb14d3c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:33:42.683 DEBUG [fab1e39f-492a-4fd7-89e1-6ca25eb14d3c] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:33:42.683  INFO [fab1e39f-492a-4fd7-89e1-6ca25eb14d3c] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:33:42.696  INFO [fab1e39f-492a-4fd7-89e1-6ca25eb14d3c] 33352 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:33:42.821 DEBUG [396b1a8a-e7fd-4642-839e-79c72c86a81f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:33:42.847 DEBUG [396b1a8a-e7fd-4642-839e-79c72c86a81f] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B6E4E2C55D4D28063DD81D80F9E45F9B
2025-05-27 17:33:42.850 DEBUG [25b13617-33cf-4340-99e1-84cdb8146c3d] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:33:42.850 DEBUG [396b1a8a-e7fd-4642-839e-79c72c86a81f] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:33:42.879  WARN [396b1a8a-e7fd-4642-839e-79c72c86a81f] 33352 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:33:42.880  WARN [396b1a8a-e7fd-4642-839e-79c72c86a81f] 33352 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:33:42.925 DEBUG [25b13617-33cf-4340-99e1-84cdb8146c3d] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:33:42.930  INFO [25b13617-33cf-4340-99e1-84cdb8146c3d] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:33:42.965  INFO [25b13617-33cf-4340-99e1-84cdb8146c3d] 33352 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:33:42.967 DEBUG [d30dd825-2e07-40db-bd10-94a66a79d6da] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:42.980 DEBUG [d30dd825-2e07-40db-bd10-94a66a79d6da] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:42.980  INFO [d30dd825-2e07-40db-bd10-94a66a79d6da] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:33:42.980  INFO [d30dd825-2e07-40db-bd10-94a66a79d6da] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:33:42.980  INFO [d30dd825-2e07-40db-bd10-94a66a79d6da] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:33:42.981  INFO [d30dd825-2e07-40db-bd10-94a66a79d6da] 33352 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:33:42.988 DEBUG [9120802c-b544-4f85-833e-947f8df89d72] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:33:43.021 DEBUG [9120802c-b544-4f85-833e-947f8df89d72] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:33:43.048  WARN [9120802c-b544-4f85-833e-947f8df89d72] 33352 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:33:43.049  WARN [9120802c-b544-4f85-833e-947f8df89d72] 33352 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:33:48.842 DEBUG [7c8959c7-005e-446a-8717-6742487dcf6f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:33:48.859 DEBUG [7c8959c7-005e-446a-8717-6742487dcf6f] 33352 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EFFE24823F44C43EEC36778339459CAC
2025-05-27 17:33:48.860 DEBUG [7c8959c7-005e-446a-8717-6742487dcf6f] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:33:48.870  INFO [7c8959c7-005e-446a-8717-6742487dcf6f] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: null
2025-05-27 17:33:48.870  INFO [7c8959c7-005e-446a-8717-6742487dcf6f] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 5
2025-05-27 17:33:48.904  INFO [7c8959c7-005e-446a-8717-6742487dcf6f] 33352 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 5
2025-05-27 17:33:48.914 DEBUG [2600fd15-feb5-40a4-8d44-94cbb9891d61] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-27 17:33:48.929 DEBUG [2600fd15-feb5-40a4-8d44-94cbb9891d61] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-27 17:33:48.938  INFO [2600fd15-feb5-40a4-8d44-94cbb9891d61] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: null
2025-05-27 17:33:48.939  INFO [2600fd15-feb5-40a4-8d44-94cbb9891d61] 33352 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 5
2025-05-27 17:33:48.975  INFO [2600fd15-feb5-40a4-8d44-94cbb9891d61] 33352 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 5
2025-05-27 17:33:50.300 DEBUG [d05b3084-f47d-476f-9c1e-90438f1233ab] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:50.309 DEBUG [d05b3084-f47d-476f-9c1e-90438f1233ab] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 0EBFCEFA5413F229D5D53C49743A6C74
2025-05-27 17:33:50.310 DEBUG [d05b3084-f47d-476f-9c1e-90438f1233ab] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:50.311  INFO [d05b3084-f47d-476f-9c1e-90438f1233ab] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:33:50.311  INFO [d05b3084-f47d-476f-9c1e-90438f1233ab] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:33:50.311  INFO [d05b3084-f47d-476f-9c1e-90438f1233ab] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:33:50.311  INFO [d05b3084-f47d-476f-9c1e-90438f1233ab] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:33:51.580 DEBUG [97e22692-1a09-4c58-804b-760791f70085] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:33:51.599 DEBUG [97e22692-1a09-4c58-804b-760791f70085] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 23CE36C1DC14E9429F029AF7B8C2D161
2025-05-27 17:33:51.600 DEBUG [97e22692-1a09-4c58-804b-760791f70085] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:33:51.611  INFO [97e22692-1a09-4c58-804b-760791f70085] 33352 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting boarding passes for user: null
2025-05-27 17:33:51.612  INFO [97e22692-1a09-4c58-804b-760791f70085] 33352 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 5
2025-05-27 17:33:51.623 DEBUG [f2953116-ed25-4cb9-ab29-4220c9eb77a5] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-27 17:33:51.640 DEBUG [f2953116-ed25-4cb9-ab29-4220c9eb77a5] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-27 17:33:51.667  INFO [f2953116-ed25-4cb9-ab29-4220c9eb77a5] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting boarding passes for user: null
2025-05-27 17:33:51.668  INFO [f2953116-ed25-4cb9-ab29-4220c9eb77a5] 33352 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 5
2025-05-27 17:33:53.196 DEBUG [2e595650-6f0e-46b0-81e0-46ea98033054] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:53.206 DEBUG [2e595650-6f0e-46b0-81e0-46ea98033054] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4ED3B30795B3F443869FCE153B213C2A
2025-05-27 17:33:53.206 DEBUG [2e595650-6f0e-46b0-81e0-46ea98033054] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:33:53.207  INFO [2e595650-6f0e-46b0-81e0-46ea98033054] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:33:53.207  INFO [2e595650-6f0e-46b0-81e0-46ea98033054] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:33:53.207  INFO [2e595650-6f0e-46b0-81e0-46ea98033054] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:33:53.207  INFO [2e595650-6f0e-46b0-81e0-46ea98033054] 33352 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:34:05.599 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:34:05.609 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7D3CC5E440AFBEA555B0CB863EF200D4
2025-05-27 17:34:05.610 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:34:05.610  INFO [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: trip tomorrow from bucharest to paris
2025-05-27 17:34:05.611  INFO [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:34:05.611  INFO [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:34:05.611 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "trip tomorrow from bucharest to paris";
2025-05-27 17:34:05.613  INFO [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:34:07.232 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": null,
  "tripType": "oneWay",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:34:07.232 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:34:07.233 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:34:07.233 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:34:07.233 DEBUG [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:34:07.233  INFO [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:34:07.233  INFO [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=null, tripType=oneWay, adults=1, children=0, infants=0
2025-05-27 17:34:07.234  INFO [14da853b-bba8-4f29-b07d-0108abb6db8b] 33352 --- [nio-8080-exec-8] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:34:09.087 DEBUG [32c460a6-7695-443e-8af3-d6b20893ba7c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:34:09.103 DEBUG [32c460a6-7695-443e-8af3-d6b20893ba7c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:34:09.103  INFO [32c460a6-7695-443e-8af3-d6b20893ba7c] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:34:09.113  INFO [32c460a6-7695-443e-8af3-d6b20893ba7c] 33352 --- [io-8080-exec-10] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:34:09.200 DEBUG [ff2143f8-6f77-4bcc-a524-3fe8408956af] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:09.200 DEBUG [6c5380f5-12f5-4bd5-a5a3-0a2627aeb0fc] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:34:09.202 DEBUG [75d348f6-ae4a-4d51-bdcb-154f52dc2fbe] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:34:09.215 DEBUG [6c5380f5-12f5-4bd5-a5a3-0a2627aeb0fc] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E68D940B7586615D62D07F60A40FC077
2025-05-27 17:34:09.216 DEBUG [6c5380f5-12f5-4bd5-a5a3-0a2627aeb0fc] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:34:09.217  INFO [6c5380f5-12f5-4bd5-a5a3-0a2627aeb0fc] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:34:09.218  INFO [6c5380f5-12f5-4bd5-a5a3-0a2627aeb0fc] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:34:09.225 DEBUG [75d348f6-ae4a-4d51-bdcb-154f52dc2fbe] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:34:09.226 DEBUG [ff2143f8-6f77-4bcc-a524-3fe8408956af] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:09.226  INFO [75d348f6-ae4a-4d51-bdcb-154f52dc2fbe] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:34:09.239  WARN [ff2143f8-6f77-4bcc-a524-3fe8408956af] 33352 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:34:09.240  WARN [ff2143f8-6f77-4bcc-a524-3fe8408956af] 33352 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:34:09.244  INFO [75d348f6-ae4a-4d51-bdcb-154f52dc2fbe] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:34:09.253 DEBUG [a3ba0467-f3c5-4383-a810-f504606fa148] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:09.273 DEBUG [a3ba0467-f3c5-4383-a810-f504606fa148] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:09.273  INFO [6c5380f5-12f5-4bd5-a5a3-0a2627aeb0fc] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:34:09.284  WARN [a3ba0467-f3c5-4383-a810-f504606fa148] 33352 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:34:09.285  WARN [a3ba0467-f3c5-4383-a810-f504606fa148] 33352 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:34:09.291 DEBUG [a475ce11-7718-4169-8978-ca60624a3944] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:34:09.302 DEBUG [a475ce11-7718-4169-8978-ca60624a3944] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:34:09.303  INFO [a475ce11-7718-4169-8978-ca60624a3944] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:34:09.304  INFO [a475ce11-7718-4169-8978-ca60624a3944] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:34:09.354  INFO [a475ce11-7718-4169-8978-ca60624a3944] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:34:16.551 DEBUG [b4cf6172-cbb9-42a6-8180-68a48fc48cdc] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:16.551 DEBUG [0e7bb88b-685a-44ce-920a-3ffee1568631] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:34:16.570 DEBUG [b4cf6172-cbb9-42a6-8180-68a48fc48cdc] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 7A36E0B948F9A341A857F39F3B3E752D
2025-05-27 17:34:16.570 DEBUG [0e7bb88b-685a-44ce-920a-3ffee1568631] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 98627220608A175EF91DDB43901ECBF5
2025-05-27 17:34:16.572 DEBUG [0e7bb88b-685a-44ce-920a-3ffee1568631] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:34:16.572 DEBUG [b4cf6172-cbb9-42a6-8180-68a48fc48cdc] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:16.572  INFO [0e7bb88b-685a-44ce-920a-3ffee1568631] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:34:16.585  WARN [b4cf6172-cbb9-42a6-8180-68a48fc48cdc] 33352 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:34:16.586  WARN [b4cf6172-cbb9-42a6-8180-68a48fc48cdc] 33352 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:34:16.591  INFO [0e7bb88b-685a-44ce-920a-3ffee1568631] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:34:16.604 DEBUG [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:34:16.604 DEBUG [5df0fed1-b9a2-4010-b2d7-f01d3c1fe1e2] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:16.614 DEBUG [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:34:16.615  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:34:16.615  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:34:16.616  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:34:16.616  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:34:16.617  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:34:16.623 DEBUG [5df0fed1-b9a2-4010-b2d7-f01d3c1fe1e2] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:16.635  WARN [5df0fed1-b9a2-4010-b2d7-f01d3c1fe1e2] 33352 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:34:16.636  WARN [5df0fed1-b9a2-4010-b2d7-f01d3c1fe1e2] 33352 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:34:16.668  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:34:16.668  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:34:16.668  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:34:16.669  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:34:16.670  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:34:16.670  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:34:16.670  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:34:16.670  INFO [af3c02f7-8581-41bd-ba9d-ce82d4aa17aa] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:34:25.281 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:34:25.290 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 653E8713BDBEFF0A88EA374376243751
2025-05-27 17:34:25.291 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:34:25.292  INFO [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: trip in 2 days from tomorrow from buc to paris
2025-05-27 17:34:25.292  INFO [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:34:25.292  INFO [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:34:25.292 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "trip in 2 days from tomorrow from buc to paris";
2025-05-27 17:34:25.294  INFO [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:34:26.808 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-30",
  "returnDate": null,
  "tripType": "oneWay",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:34:26.809 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:34:26.809 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:34:26.809 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:34:26.810 DEBUG [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:34:26.810  INFO [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:34:26.810  INFO [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-30, returnDate=null, tripType=oneWay, adults=1, children=0, infants=0
2025-05-27 17:34:26.810  INFO [65d25721-9688-4380-b05f-6a31d71dfeac] 33352 --- [io-8080-exec-10] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:34:28.657 DEBUG [368cffbe-d5ea-4b81-baad-3766aebe9dc0] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:34:28.678 DEBUG [368cffbe-d5ea-4b81-baad-3766aebe9dc0] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:34:28.679  INFO [368cffbe-d5ea-4b81-baad-3766aebe9dc0] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: null
2025-05-27 17:34:28.688  INFO [368cffbe-d5ea-4b81-baad-3766aebe9dc0] 33352 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: null
2025-05-27 17:34:28.746 DEBUG [dc972c34-bacb-4fcd-9eb2-cfdbc4b8e18d] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:28.746 DEBUG [cec57cf1-47cd-4590-a87b-b0e13bd5c264] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:28.759 DEBUG [db6036e2-9541-418e-8705-c520553b99e8] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:34:28.782 DEBUG [cec57cf1-47cd-4590-a87b-b0e13bd5c264] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 918F39DB0DA260D4B40F2A3C43768549
2025-05-27 17:34:28.783 DEBUG [cec57cf1-47cd-4590-a87b-b0e13bd5c264] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:28.785  INFO [cec57cf1-47cd-4590-a87b-b0e13bd5c264] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-30, Return=null, Pax=1/0/0
2025-05-27 17:34:28.785  INFO [cec57cf1-47cd-4590-a87b-b0e13bd5c264] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-30
2025-05-27 17:34:28.791  WARN [cec57cf1-47cd-4590-a87b-b0e13bd5c264] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-30
2025-05-27 17:34:28.791 DEBUG [dc972c34-bacb-4fcd-9eb2-cfdbc4b8e18d] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:28.791  INFO [cec57cf1-47cd-4590-a87b-b0e13bd5c264] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:34:28.791  WARN [dc972c34-bacb-4fcd-9eb2-cfdbc4b8e18d] 33352 --- [nio-8080-exec-9] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:28.793 DEBUG [db6036e2-9541-418e-8705-c520553b99e8] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:34:28.794  INFO [db6036e2-9541-418e-8705-c520553b99e8] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:34:28.815  INFO [db6036e2-9541-418e-8705-c520553b99e8] 33352 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:34:28.822 DEBUG [19a7b520-9629-4cb8-a9e6-f526f37452bc] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:28.832 DEBUG [19a7b520-9629-4cb8-a9e6-f526f37452bc] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:28.834  INFO [19a7b520-9629-4cb8-a9e6-f526f37452bc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-30, Return=null, Pax=1/0/0
2025-05-27 17:34:28.834  INFO [19a7b520-9629-4cb8-a9e6-f526f37452bc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-30
2025-05-27 17:34:28.842  WARN [19a7b520-9629-4cb8-a9e6-f526f37452bc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-30
2025-05-27 17:34:28.842  INFO [19a7b520-9629-4cb8-a9e6-f526f37452bc] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:34:28.845 DEBUG [6a139715-1300-4069-87ae-a1b01cf6e5c1] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:28.863 DEBUG [6a139715-1300-4069-87ae-a1b01cf6e5c1] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:28.863  WARN [6a139715-1300-4069-87ae-a1b01cf6e5c1] 33352 --- [nio-8080-exec-1] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:35.197 DEBUG [e86b1bcd-588e-4c30-bc0f-4aa67f0ecbf3] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:35.197 DEBUG [84f44b5a-24a0-4e5f-af7c-6ab7c8562181] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:34:35.215 DEBUG [84f44b5a-24a0-4e5f-af7c-6ab7c8562181] 33352 --- [nio-8080-exec-6] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B31DEC8F26737D6A921DF5F88F6FFD5F
2025-05-27 17:34:35.216 DEBUG [84f44b5a-24a0-4e5f-af7c-6ab7c8562181] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:34:35.216 DEBUG [e86b1bcd-588e-4c30-bc0f-4aa67f0ecbf3] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:35.217  INFO [84f44b5a-24a0-4e5f-af7c-6ab7c8562181] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:34:35.217  WARN [e86b1bcd-588e-4c30-bc0f-4aa67f0ecbf3] 33352 --- [nio-8080-exec-3] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:35.230 DEBUG [b9189611-034d-4c7a-b165-f275f89bb530] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:35.237  INFO [84f44b5a-24a0-4e5f-af7c-6ab7c8562181] 33352 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:34:35.250 DEBUG [b9189611-034d-4c7a-b165-f275f89bb530] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:35.250  WARN [b9189611-034d-4c7a-b165-f275f89bb530] 33352 --- [nio-8080-exec-8] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:35.269 DEBUG [85bd71e5-88be-4879-92ea-e58c94217c3c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:34:35.281 DEBUG [85bd71e5-88be-4879-92ea-e58c94217c3c] 33352 --- [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 35BE6D78D62C563421CC86F1FD7D684F
2025-05-27 17:34:35.282 DEBUG [85bd71e5-88be-4879-92ea-e58c94217c3c] 33352 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:34:35.282  INFO [85bd71e5-88be-4879-92ea-e58c94217c3c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:34:35.282  INFO [85bd71e5-88be-4879-92ea-e58c94217c3c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:34:35.283  INFO [85bd71e5-88be-4879-92ea-e58c94217c3c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:34:35.283  INFO [85bd71e5-88be-4879-92ea-e58c94217c3c] 33352 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:34:36.431 DEBUG [978ad3cd-b287-4d5e-a6e6-f69a3a9cd9b7] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:36.431 DEBUG [2194d491-54c2-4b2f-95e2-4040b07b53f3] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:36.432 DEBUG [ecaee16e-8abf-4ecf-aa97-c92e377fe963] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:34:36.441 DEBUG [2194d491-54c2-4b2f-95e2-4040b07b53f3] 33352 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BEC42F1FA70DB11EEAEB488A6BBBA005
2025-05-27 17:34:36.442 DEBUG [2194d491-54c2-4b2f-95e2-4040b07b53f3] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:36.443  INFO [2194d491-54c2-4b2f-95e2-4040b07b53f3] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-30, Return=null, Pax=1/0/0
2025-05-27 17:34:36.443  INFO [2194d491-54c2-4b2f-95e2-4040b07b53f3] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-30
2025-05-27 17:34:36.448  WARN [2194d491-54c2-4b2f-95e2-4040b07b53f3] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-30
2025-05-27 17:34:36.449  INFO [2194d491-54c2-4b2f-95e2-4040b07b53f3] 33352 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:34:36.449 DEBUG [ecaee16e-8abf-4ecf-aa97-c92e377fe963] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:34:36.449 DEBUG [978ad3cd-b287-4d5e-a6e6-f69a3a9cd9b7] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:36.449  WARN [978ad3cd-b287-4d5e-a6e6-f69a3a9cd9b7] 33352 --- [nio-8080-exec-7] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:36.449  INFO [ecaee16e-8abf-4ecf-aa97-c92e377fe963] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:34:36.468  INFO [ecaee16e-8abf-4ecf-aa97-c92e377fe963] 33352 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:34:36.473 DEBUG [ee519f03-d952-456a-b114-d8a3d53df712] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:36.476 DEBUG [06f0a050-ba42-4f51-b4b6-f580a86b73e8] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:36.484 DEBUG [06f0a050-ba42-4f51-b4b6-f580a86b73e8] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-30&tripType=oneWay
2025-05-27 17:34:36.485  INFO [06f0a050-ba42-4f51-b4b6-f580a86b73e8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-30, Return=null, Pax=1/0/0
2025-05-27 17:34:36.485  INFO [06f0a050-ba42-4f51-b4b6-f580a86b73e8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-30
2025-05-27 17:34:36.490 DEBUG [ee519f03-d952-456a-b114-d8a3d53df712] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:36.490  WARN [06f0a050-ba42-4f51-b4b6-f580a86b73e8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-30
2025-05-27 17:34:36.491  WARN [ee519f03-d952-456a-b114-d8a3d53df712] 33352 --- [nio-8080-exec-4] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:36.491  INFO [06f0a050-ba42-4f51-b4b6-f580a86b73e8] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:34:41.199 DEBUG [c6397991-8236-4be1-90ec-376403c87f06] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:41.199 DEBUG [67d06455-783f-4c27-9fbb-e07cf1e3cfe7] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:34:41.222 DEBUG [c6397991-8236-4be1-90ec-376403c87f06] 33352 --- [nio-8080-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CD2A7CCDB2E3E386FAA7B5BCA03FB1E1
2025-05-27 17:34:41.223 DEBUG [67d06455-783f-4c27-9fbb-e07cf1e3cfe7] 33352 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4D81D30C964BEB2A9B941F9DFF5CC854
2025-05-27 17:34:41.224 DEBUG [67d06455-783f-4c27-9fbb-e07cf1e3cfe7] 33352 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:34:41.224  INFO [67d06455-783f-4c27-9fbb-e07cf1e3cfe7] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:34:41.224 DEBUG [c6397991-8236-4be1-90ec-376403c87f06] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:41.225  WARN [c6397991-8236-4be1-90ec-376403c87f06] 33352 --- [nio-8080-exec-1] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:41.236 DEBUG [765b47f3-d420-40a7-ae76-bfb96014e33a] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:34:41.243  INFO [67d06455-783f-4c27-9fbb-e07cf1e3cfe7] 33352 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user null with 0 items, 0 total quantity.
2025-05-27 17:34:41.252 DEBUG [765b47f3-d420-40a7-ae76-bfb96014e33a] 33352 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:34:41.253  WARN [765b47f3-d420-40a7-ae76-bfb96014e33a] 33352 --- [nio-8080-exec-6] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me/avatar
2025-05-27 17:34:41.289 DEBUG [fe9c83f1-4115-43eb-98d1-6e0f8f827718] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:34:41.302 DEBUG [fe9c83f1-4115-43eb-98d1-6e0f8f827718] 33352 --- [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 29E6AD0FA382521EE6B76E31ABC25CF9
2025-05-27 17:34:41.302 DEBUG [fe9c83f1-4115-43eb-98d1-6e0f8f827718] 33352 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:34:41.303  INFO [fe9c83f1-4115-43eb-98d1-6e0f8f827718] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:34:41.303  INFO [fe9c83f1-4115-43eb-98d1-6e0f8f827718] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:34:41.303  INFO [fe9c83f1-4115-43eb-98d1-6e0f8f827718] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:34:41.304  INFO [fe9c83f1-4115-43eb-98d1-6e0f8f827718] 33352 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:35:28.572 DEBUG [5a6f933b-42f0-41e8-aace-5d1b859e5580] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:35:28.589 DEBUG [5a6f933b-42f0-41e8-aace-5d1b859e5580] 33352 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:35:28.590  WARN [5a6f933b-42f0-41e8-aace-5d1b859e5580] 33352 --- [nio-8080-exec-2] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 17:35:28.826 DEBUG [e8b5a8cf-6a8e-45cc-8186-36ebccd5ac67] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:35:28.841 DEBUG [e8b5a8cf-6a8e-45cc-8186-36ebccd5ac67] 33352 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:35:28.841  WARN [e8b5a8cf-6a8e-45cc-8186-36ebccd5ac67] 33352 --- [nio-8080-exec-7] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 17:35:32.667 DEBUG [263d5b89-fb15-471b-8993-39f5297c28bd] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:35:32.684 DEBUG [263d5b89-fb15-471b-8993-39f5297c28bd] 33352 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:35:32.685  WARN [263d5b89-fb15-471b-8993-39f5297c28bd] 33352 --- [nio-8080-exec-9] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/user/me
2025-05-27 17:35:40.100 DEBUG [73148de0-8601-4a6d-b33f-860d15f96ef0] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:35:40.102 DEBUG [73148de0-8601-4a6d-b33f-860d15f96ef0] 33352 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:35:40.102 DEBUG [73148de0-8601-4a6d-b33f-860d15f96ef0] 33352 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:35:40.102  WARN [73148de0-8601-4a6d-b33f-860d15f96ef0] 33352 --- [nio-8080-exec-4] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/login
2025-05-27 17:35:42.469 DEBUG [a5e85526-03d1-43f0-b92f-7824f9a9f47e] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:35:42.495 DEBUG [a5e85526-03d1-43f0-b92f-7824f9a9f47e] 33352 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9F0AA2CC56CD138CFFF7F6145E827568
2025-05-27 17:35:42.496 DEBUG [a5e85526-03d1-43f0-b92f-7824f9a9f47e] 33352 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:35:42.497  INFO [a5e85526-03d1-43f0-b92f-7824f9a9f47e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:35:42.497  INFO [a5e85526-03d1-43f0-b92f-7824f9a9f47e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:35:42.497  INFO [a5e85526-03d1-43f0-b92f-7824f9a9f47e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:35:42.497  INFO [a5e85526-03d1-43f0-b92f-7824f9a9f47e] 33352 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:35:49.046 DEBUG [f662a155-13e8-4319-bcbd-f2ca7e2508f1] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:35:49.046 DEBUG [f662a155-13e8-4319-bcbd-f2ca7e2508f1] 33352 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:35:49.047 DEBUG [f662a155-13e8-4319-bcbd-f2ca7e2508f1] 33352 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:35:49.047  WARN [f662a155-13e8-4319-bcbd-f2ca7e2508f1] 33352 --- [nio-8080-exec-1] o.e.x.security.RateLimitingFilter        : Rate limit exceeded for IP: 0:0:0:0:0:0:0:1 on path: /api/login
2025-05-27 17:35:58.585  INFO [NONE] 33352 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:35:58.589  INFO [NONE] 33352 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 17:35:58.593  INFO [NONE] 33352 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 17:36:23.536  INFO [NONE] 33032 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 33032 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 17:36:23.543 DEBUG [NONE] 33032 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 17:36:23.544  INFO [NONE] 33032 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 17:36:23.599  INFO [NONE] 33032 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 17:36:23.601  INFO [NONE] 33032 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 17:36:28.556  INFO [NONE] 33032 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:36:28.840  INFO [NONE] 33032 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 269 ms. Found 9 JPA repository interfaces.
2025-05-27 17:36:30.054  INFO [NONE] 33032 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 17:36:30.072  INFO [NONE] 33032 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 17:36:30.073  INFO [NONE] 33032 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 17:36:30.162  INFO [NONE] 33032 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 17:36:30.164  INFO [NONE] 33032 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6562 ms
2025-05-27 17:36:30.506  INFO [NONE] 33032 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:36:30.569  INFO [NONE] 33032 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 17:36:30.607  INFO [NONE] 33032 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 17:36:30.884  INFO [NONE] 33032 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:36:30.916  INFO [NONE] 33032 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 17:36:31.095  INFO [NONE] 33032 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d5e455c
2025-05-27 17:36:31.098  INFO [NONE] 33032 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 17:36:31.158  WARN [NONE] 33032 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:36:32.587  INFO [NONE] 33032 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:36:39.976  INFO [NONE] 33032 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:36:40.274  INFO [NONE] 33032 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 17:36:40.723 DEBUG [NONE] 33032 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 17:36:40.725 DEBUG [NONE] 33032 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 17:36:40.926  INFO [NONE] 33032 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 17:36:41.203  INFO [NONE] 33032 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 17:36:41.204  WARN [NONE] 33032 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 17:36:41.204  WARN [NONE] 33032 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 17:36:41.204  WARN [NONE] 33032 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 17:36:41.204  WARN [NONE] 33032 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 17:36:41.250  WARN [NONE] 33032 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:36:41.376  INFO [NONE] 33032 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 17:36:41.745  INFO [NONE] 33032 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 17:36:41.907  INFO [NONE] 33032 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e88392, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e3e42c8, org.springframework.security.web.context.SecurityContextHolderFilter@7762d950, org.springframework.security.web.header.HeaderWriterFilter@588cd26d, org.springframework.web.filter.CorsFilter@3d8afc53, org.springframework.security.web.authentication.logout.LogoutFilter@3f0c3480, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3442998f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@530ea722, org.example.xlr8travel.security.JwtAuthenticationFilter@6e3d35b3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41efd0cf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60f74a4d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4d49369e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@76c18448, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@424936b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54636220, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8f8c8b6, org.springframework.security.web.session.SessionManagementFilter@de2ea85, org.springframework.security.web.access.ExceptionTranslationFilter@1a3464c2, org.springframework.security.web.access.intercept.AuthorizationFilter@56b3d0c8]
2025-05-27 17:36:42.532  INFO [NONE] 33032 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 17:36:42.613  INFO [NONE] 33032 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 17:36:42.623  INFO [NONE] 33032 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 20.594 seconds (process running for 23.196)
2025-05-27 17:36:44.575  INFO [NONE] 33032 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 17:36:44.575  INFO [NONE] 33032 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 17:36:44.577  INFO [NONE] 33032 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-27 17:36:44.592 DEBUG [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:36:44.702 ERROR [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:36:44.705 DEBUG [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:36:44.710  WARN [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/flights/nearby' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 17:36:44.722 DEBUG [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:36:44.748  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:36:44.748  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:36:44.749  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:36:44.749  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:36:44.750  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:36:44.808  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:36:44.809  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:36:44.810  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:36:44.810  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:36:44.810  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:36:44.810  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:36:44.811  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:36:44.811  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:36:44.811  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:36:44.811  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:36:44.811  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:36:44.812  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:36:44.812  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:36:44.812  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:36:44.813  INFO [b52d240b-9dee-455d-87d8-040034949ce7] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:36:56.803 DEBUG [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-05-27 17:36:56.805 DEBUG [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:36:56.806 DEBUG [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-05-27 17:36:56.832  INFO [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Attempting authentication for user: ****@****.***
2025-05-27 17:36:57.190  INFO [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.e.x.services.RecaptchaService          : reCAPTCHA validation successful
2025-05-27 17:36:57.191  INFO [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : reCAPTCHA verification successful for user: ****@****.***
2025-05-27 17:36:57.336 DEBUG [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-27 17:36:57.336  INFO [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Authentication successful for user: user2
2025-05-27 17:36:57.374  INFO [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Updated last login time for user: user2
2025-05-27 17:36:57.375  INFO [177189e6-7f4d-495d-a759-83bb4cd04339] 33032 --- [nio-8080-exec-2] o.e.x.controllers.LoginController        : Returning successful response with JWT token for user: user2
2025-05-27 17:36:57.427 DEBUG [9753efc7-1213-4b4b-9cc6-cb9d83775e42] 33032 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:36:57.428 DEBUG [c4279f64-0c59-42c0-8d6c-d1c549e5e10d] 33032 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:36:57.455 DEBUG [c4279f64-0c59-42c0-8d6c-d1c549e5e10d] 33032 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B80AFF183FC99C4739C10B9B34754424
2025-05-27 17:36:57.456 DEBUG [9753efc7-1213-4b4b-9cc6-cb9d83775e42] 33032 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9E1CF783D3A56E5DE910F032E5DDCDA8
2025-05-27 17:36:57.461 DEBUG [c4279f64-0c59-42c0-8d6c-d1c549e5e10d] 33032 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:36:57.464 DEBUG [9753efc7-1213-4b4b-9cc6-cb9d83775e42] 33032 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:36:57.465  INFO [c4279f64-0c59-42c0-8d6c-d1c549e5e10d] 33032 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:36:57.479  WARN [9753efc7-1213-4b4b-9cc6-cb9d83775e42] 33032 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:36:57.483  INFO [c4279f64-0c59-42c0-8d6c-d1c549e5e10d] 33032 --- [nio-8080-exec-4] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user user2 with ID 2, creating a new one.
2025-05-27 17:36:57.490  WARN [9753efc7-1213-4b4b-9cc6-cb9d83775e42] 33032 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:36:57.501  INFO [c4279f64-0c59-42c0-8d6c-d1c549e5e10d] 33032 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user user2 with 0 items, 0 total quantity.
2025-05-27 17:36:58.640 DEBUG [b2da6a95-0467-4702-8fed-0316c304931e] 33032 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:36:58.658 DEBUG [b2da6a95-0467-4702-8fed-0316c304931e] 33032 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:36:58.659  INFO [b2da6a95-0467-4702-8fed-0316c304931e] 33032 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 17:36:58.667  INFO [b2da6a95-0467-4702-8fed-0316c304931e] 33032 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 17:36:58.694 DEBUG [e2a368fd-c625-4154-8736-a63fa244a9db] 33032 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:36:58.715 DEBUG [e2a368fd-c625-4154-8736-a63fa244a9db] 33032 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:36:58.724  WARN [e2a368fd-c625-4154-8736-a63fa244a9db] 33032 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:36:58.725  WARN [e2a368fd-c625-4154-8736-a63fa244a9db] 33032 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:36:58.911 DEBUG [21ff4a04-7bf0-402d-b8ff-2fe7c293d906] 33032 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:36:58.927 DEBUG [21ff4a04-7bf0-402d-b8ff-2fe7c293d906] 33032 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:36:58.928  INFO [21ff4a04-7bf0-402d-b8ff-2fe7c293d906] 33032 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: user2
2025-05-27 17:36:58.936  INFO [21ff4a04-7bf0-402d-b8ff-2fe7c293d906] 33032 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: user2
2025-05-27 17:36:58.954 DEBUG [87894dd6-e328-47ea-9c17-b86a9a2794b8] 33032 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:36:58.970 DEBUG [87894dd6-e328-47ea-9c17-b86a9a2794b8] 33032 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:36:58.979  WARN [87894dd6-e328-47ea-9c17-b86a9a2794b8] 33032 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:36:58.980  WARN [87894dd6-e328-47ea-9c17-b86a9a2794b8] 33032 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:37:36.328 DEBUG [32c109d9-e2b9-436c-872b-a91ca810ec0c] 33032 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-27 17:37:36.329 DEBUG [32c109d9-e2b9-436c-872b-a91ca810ec0c] 33032 --- [nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [null]
2025-05-27 17:37:36.756 DEBUG [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:37:36.766 ERROR [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:37:36.767 DEBUG [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:37:36.767 DEBUG [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 9E1CF783D3A56E5DE910F032E5DDCDA8
2025-05-27 17:37:36.769 DEBUG [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:37:36.770  INFO [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:37:36.770  INFO [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:37:36.770  INFO [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:37:36.771  INFO [8235d299-6578-4bc8-918b-82ab2ffeaae6] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:37:49.477 DEBUG [fb2d3cf7-ef6d-4b72-a3c1-540536fce18d] 33032 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-27 17:37:49.490 DEBUG [fb2d3cf7-ef6d-4b72-a3c1-540536fce18d] 33032 --- [nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=VVv6bguwvqqGQi9bf2OAdPOqoJIMnAWyiHv5vs_q0ZM%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-27 17:37:51.558 DEBUG [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=VVv6bguwvqqGQi9bf2OAdPOqoJIMnAWyiHv5vs_q0ZM%3D&code=4%2F0AUJR-x4PE6byj5rpcFCzmIsB1d3OjglgNx25diyR8LVt1HfhBGaOzROZjiulTIgxilivDA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-27 17:37:51.859  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-27 17:37:51.942  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-27 17:37:51.944 DEBUG [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 881D801415FA4D67B84B6FC5F158255C
2025-05-27 17:37:51.944 DEBUG [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=881D801415FA4D67B84B6FC5F158255C], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-27 17:37:51.946  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:37:51.947  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:37:51.947  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:37:51.947  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:37:51.947  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:37:51.948  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-27 17:37:51.949  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-27 17:37:51.949  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-27 17:37:51.949  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-27 17:37:51.949  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-27 17:37:51.950  INFO [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-27 17:37:51.950 DEBUG [0274ca2b-3fb4-49c1-a259-9dd9477912fe] 33032 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-27 17:37:52.688 DEBUG [7ca11453-2d9a-4a5c-857b-049c5814ebd3] 33032 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:37:52.688 DEBUG [949f5842-e8e0-42bc-a0ca-d581680920de] 33032 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-27 17:37:52.701 DEBUG [949f5842-e8e0-42bc-a0ca-d581680920de] 33032 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:37:52.701 DEBUG [7ca11453-2d9a-4a5c-857b-049c5814ebd3] 33032 --- [nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8CD3E6879047A5D8F9C135C889F8FDC9
2025-05-27 17:37:52.703 DEBUG [949f5842-e8e0-42bc-a0ca-d581680920de] 33032 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:37:52.703 DEBUG [7ca11453-2d9a-4a5c-857b-049c5814ebd3] 33032 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-27 17:37:52.703  INFO [7ca11453-2d9a-4a5c-857b-049c5814ebd3] 33032 --- [nio-8080-exec-3] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:37:52.703  INFO [949f5842-e8e0-42bc-a0ca-d581680920de] 33032 --- [nio-8080-exec-4] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-27 17:37:52.807 DEBUG [b272a024-b65d-46fa-97f5-92531b116b8a] 33032 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:37:52.820 DEBUG [b272a024-b65d-46fa-97f5-92531b116b8a] 33032 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:37:52.821  INFO [b272a024-b65d-46fa-97f5-92531b116b8a] 33032 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:37:52.822  INFO [b272a024-b65d-46fa-97f5-92531b116b8a] 33032 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:37:52.822  INFO [b272a024-b65d-46fa-97f5-92531b116b8a] 33032 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:37:52.822  INFO [b272a024-b65d-46fa-97f5-92531b116b8a] 33032 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:37:53.084 DEBUG [32167eba-bc3f-4bf2-b37c-5737e5ac858d] 33032 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:37:53.096 DEBUG [32167eba-bc3f-4bf2-b37c-5737e5ac858d] 33032 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:37:53.097  INFO [32167eba-bc3f-4bf2-b37c-5737e5ac858d] 33032 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:37:53.104  INFO [32167eba-bc3f-4bf2-b37c-5737e5ac858d] 33032 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:37:53.151 DEBUG [972b0e75-f91a-4bda-96a2-ba9e77bdfba4] 33032 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:37:53.151 DEBUG [e5841b96-449f-45f3-9506-5d0e58479c5e] 33032 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:37:53.170 DEBUG [e5841b96-449f-45f3-9506-5d0e58479c5e] 33032 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:37:53.171 DEBUG [972b0e75-f91a-4bda-96a2-ba9e77bdfba4] 33032 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:37:53.171  INFO [e5841b96-449f-45f3-9506-5d0e58479c5e] 33032 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:37:53.180  WARN [972b0e75-f91a-4bda-96a2-ba9e77bdfba4] 33032 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:37:53.181  WARN [972b0e75-f91a-4bda-96a2-ba9e77bdfba4] 33032 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:37:53.185  INFO [e5841b96-449f-45f3-9506-5d0e58479c5e] 33032 --- [nio-8080-exec-8] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-27 17:37:53.205  INFO [e5841b96-449f-45f3-9506-5d0e58479c5e] 33032 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:37:53.428 DEBUG [5b95d2f6-a0ed-4846-b661-9f5cc1f1c2d0] 33032 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:37:53.440 DEBUG [5b95d2f6-a0ed-4846-b661-9f5cc1f1c2d0] 33032 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:37:53.441  INFO [5b95d2f6-a0ed-4846-b661-9f5cc1f1c2d0] 33032 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:37:53.448  INFO [5b95d2f6-a0ed-4846-b661-9f5cc1f1c2d0] 33032 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:37:56.926 DEBUG [b920395a-b09c-40d6-9929-7192cb6f900b] 33032 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:37:56.943 DEBUG [b920395a-b09c-40d6-9929-7192cb6f900b] 33032 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:37:56.943  INFO [b920395a-b09c-40d6-9929-7192cb6f900b] 33032 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:37:56.957  INFO [b920395a-b09c-40d6-9929-7192cb6f900b] 33032 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:37:56.967 DEBUG [bbcde30b-7f33-4730-84e7-1feac4f8875e] 33032 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:37:56.980 DEBUG [bbcde30b-7f33-4730-84e7-1feac4f8875e] 33032 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:37:56.981  INFO [bbcde30b-7f33-4730-84e7-1feac4f8875e] 33032 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:37:56.994  INFO [bbcde30b-7f33-4730-84e7-1feac4f8875e] 33032 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:37:59.210 DEBUG [8e6f61ec-37c9-4e42-90fc-13a7dfbea07a] 33032 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:37:59.222 DEBUG [8e6f61ec-37c9-4e42-90fc-13a7dfbea07a] 33032 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:37:59.222  INFO [8e6f61ec-37c9-4e42-90fc-13a7dfbea07a] 33032 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:37:59.223  INFO [8e6f61ec-37c9-4e42-90fc-13a7dfbea07a] 33032 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:37:59.223  INFO [8e6f61ec-37c9-4e42-90fc-13a7dfbea07a] 33032 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:37:59.223  INFO [8e6f61ec-37c9-4e42-90fc-13a7dfbea07a] 33032 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:38:11.204 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:38:11.221 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:38:11.224  INFO [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from bucharest to paris tomorrow
2025-05-27 17:38:11.225  INFO [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:38:11.226  INFO [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:38:11.228 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from bucharest to paris tomorrow";
2025-05-27 17:38:11.231  INFO [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:38:13.676 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": "2025-05-31",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:38:13.677 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:38:13.679 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:38:13.680 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:38:13.682 DEBUG [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:38:13.682  INFO [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:38:13.682  INFO [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=2025-05-31, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:38:13.682  INFO [6828a85a-b8b1-43b1-a15c-e66b905a9b7e] 33032 --- [nio-8080-exec-3] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:38:15.492 DEBUG [1b3c3f47-315b-4a2b-84d2-fa6546b22c22] 33032 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:38:15.505 DEBUG [1b3c3f47-315b-4a2b-84d2-fa6546b22c22] 33032 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-27 17:38:15.506  INFO [1b3c3f47-315b-4a2b-84d2-fa6546b22c22] 33032 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-27 17:38:15.514  INFO [1b3c3f47-315b-4a2b-84d2-fa6546b22c22] 33032 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-27 17:38:15.577 DEBUG [9fe2ef29-63d4-451d-9714-0d0288a2fee9] 33032 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:38:15.577 DEBUG [36e65a82-ce04-410e-8654-8278df2a84ef] 33032 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-27 17:38:15.577 DEBUG [d4551ca7-b268-4307-abca-85b3dc441e98] 33032 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:38:15.601 DEBUG [9fe2ef29-63d4-451d-9714-0d0288a2fee9] 33032 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:38:15.604 DEBUG [36e65a82-ce04-410e-8654-8278df2a84ef] 33032 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-27 17:38:15.604 DEBUG [d4551ca7-b268-4307-abca-85b3dc441e98] 33032 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:38:15.606  INFO [36e65a82-ce04-410e-8654-8278df2a84ef] 33032 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-27 17:38:15.609  WARN [9fe2ef29-63d4-451d-9714-0d0288a2fee9] 33032 --- [nio-8080-exec-5] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:38:15.610  INFO [d4551ca7-b268-4307-abca-85b3dc441e98] 33032 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:38:15.610  INFO [d4551ca7-b268-4307-abca-85b3dc441e98] 33032 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:38:15.610  WARN [9fe2ef29-63d4-451d-9714-0d0288a2fee9] 33032 --- [nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:38:15.621  INFO [36e65a82-ce04-410e-8654-8278df2a84ef] 33032 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-27 17:38:15.637 DEBUG [8e54fd68-7f26-44be-bf72-e928da31e2df] 33032 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-27 17:38:15.653 DEBUG [8e54fd68-7f26-44be-bf72-e928da31e2df] 33032 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-27 17:38:15.664  WARN [8e54fd68-7f26-44be-bf72-e928da31e2df] 33032 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-27 17:38:15.665  WARN [8e54fd68-7f26-44be-bf72-e928da31e2df] 33032 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-27 17:38:15.694  INFO [d4551ca7-b268-4307-abca-85b3dc441e98] 33032 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:38:15.709 DEBUG [7c657b44-b7b5-4082-87de-e9cc5bf2bd7d] 33032 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:38:15.716 DEBUG [4b4cd7ff-ebe5-4707-a7ed-d8efdbd1222f] 33032 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:38:15.722 DEBUG [7c657b44-b7b5-4082-87de-e9cc5bf2bd7d] 33032 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:38:15.723  INFO [7c657b44-b7b5-4082-87de-e9cc5bf2bd7d] 33032 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:38:15.724  INFO [7c657b44-b7b5-4082-87de-e9cc5bf2bd7d] 33032 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:38:15.728 DEBUG [4b4cd7ff-ebe5-4707-a7ed-d8efdbd1222f] 33032 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:38:15.729  INFO [4b4cd7ff-ebe5-4707-a7ed-d8efdbd1222f] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:38:15.729  INFO [4b4cd7ff-ebe5-4707-a7ed-d8efdbd1222f] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:38:15.737  WARN [4b4cd7ff-ebe5-4707-a7ed-d8efdbd1222f] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:38:15.737  INFO [4b4cd7ff-ebe5-4707-a7ed-d8efdbd1222f] 33032 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:38:15.805  INFO [7c657b44-b7b5-4082-87de-e9cc5bf2bd7d] 33032 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:38:15.839 DEBUG [44a1c55e-c714-426c-b2d6-3fa67819943c] 33032 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:38:15.855 DEBUG [44a1c55e-c714-426c-b2d6-3fa67819943c] 33032 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:38:15.857  INFO [44a1c55e-c714-426c-b2d6-3fa67819943c] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:38:15.857  INFO [44a1c55e-c714-426c-b2d6-3fa67819943c] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:38:15.866  WARN [44a1c55e-c714-426c-b2d6-3fa67819943c] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:38:15.866  INFO [44a1c55e-c714-426c-b2d6-3fa67819943c] 33032 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:39:21.053  INFO [NONE] 33032 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:39:21.060  INFO [NONE] 33032 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 17:39:21.086  INFO [NONE] 33032 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 17:39:47.345  INFO [NONE] 23080 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 23080 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 17:39:47.353 DEBUG [NONE] 23080 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 17:39:47.354  INFO [NONE] 23080 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 17:39:47.530  INFO [NONE] 23080 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 17:39:47.530  INFO [NONE] 23080 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 17:39:49.139  INFO [NONE] 23080 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:39:49.295  INFO [NONE] 23080 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 148 ms. Found 9 JPA repository interfaces.
2025-05-27 17:39:50.628  INFO [NONE] 23080 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 17:39:50.647  INFO [NONE] 23080 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 17:39:50.648  INFO [NONE] 23080 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 17:39:50.948  INFO [NONE] 23080 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 17:39:50.953  INFO [NONE] 23080 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3421 ms
2025-05-27 17:39:52.605  INFO [NONE] 23080 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:39:53.232  INFO [NONE] 23080 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 17:39:53.498  INFO [NONE] 23080 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 17:39:55.298  INFO [NONE] 23080 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:39:55.359  INFO [NONE] 23080 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 17:39:57.365  INFO [NONE] 23080 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@912003b
2025-05-27 17:39:57.391  INFO [NONE] 23080 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 17:39:57.817  WARN [NONE] 23080 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:40:03.997  INFO [NONE] 23080 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:40:14.779  INFO [NONE] 23080 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:40:15.061  INFO [NONE] 23080 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 17:40:15.435 DEBUG [NONE] 23080 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 17:40:15.437 DEBUG [NONE] 23080 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 17:40:15.625  INFO [NONE] 23080 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 17:40:15.925  INFO [NONE] 23080 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 17:40:15.925  WARN [NONE] 23080 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 17:40:15.925  WARN [NONE] 23080 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 17:40:15.925  WARN [NONE] 23080 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 17:40:15.926  WARN [NONE] 23080 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 17:40:15.974  WARN [NONE] 23080 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:40:16.080  INFO [NONE] 23080 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 17:40:16.348  INFO [NONE] 23080 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 17:40:16.436  INFO [NONE] 23080 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17caa558, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d1ff4f7, org.springframework.security.web.context.SecurityContextHolderFilter@512bdac5, org.springframework.security.web.header.HeaderWriterFilter@1fbc8934, org.springframework.web.filter.CorsFilter@7dee6308, org.springframework.security.web.authentication.logout.LogoutFilter@115c30d9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b401563, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2eb5e4ff, org.example.xlr8travel.security.JwtAuthenticationFilter@209dc06a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@702d4c4a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ac4af28, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@33c75cbf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@77869fb1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d3ad75e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@201de96d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7165dffa, org.springframework.security.web.session.SessionManagementFilter@121e7127, org.springframework.security.web.access.ExceptionTranslationFilter@76eb9b29, org.springframework.security.web.access.intercept.AuthorizationFilter@14279b9e]
2025-05-27 17:40:16.891  INFO [NONE] 23080 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 17:40:16.948  INFO [NONE] 23080 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 17:40:16.958  INFO [NONE] 23080 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 30.231 seconds (process running for 31.027)
2025-05-27 17:40:55.460  INFO [NONE] 23080 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 17:40:55.462  INFO [NONE] 23080 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 17:40:55.465  INFO [NONE] 23080 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 17:40:55.502 DEBUG [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:40:55.857 ERROR [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:40:55.862 DEBUG [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:40:55.863 DEBUG [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:40:55.871  WARN [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/flights/nearby' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 17:40:55.891 DEBUG [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:40:55.935  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:40:55.937  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:40:55.938  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:40:55.940  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:40:55.941  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:40:56.438  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:40:56.438  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:40:56.439  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:40:56.439  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:40:56.440  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:40:56.440  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:40:56.440  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:40:56.441  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:40:56.441  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:40:56.441  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:40:56.441  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:40:56.441  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:40:56.442  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:40:56.442  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:40:56.443  INFO [f63d82b0-be72-45a3-94fe-a632305a7588] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:41:00.443 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:41:00.466 ERROR [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:00.467 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:00.467 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:00.469 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:41:00.495  INFO [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from buc to paris
2025-05-27 17:41:00.496  INFO [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:41:00.496  INFO [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:41:00.498 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from buc to paris";
2025-05-27 17:41:00.501  INFO [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:41:03.497 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-31",
  "returnDate": "2025-06-03",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:41:03.497 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:41:03.501 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:41:03.501 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:41:03.502 DEBUG [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:41:03.503  INFO [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:41:03.503  INFO [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-31, returnDate=2025-06-03, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:41:03.503  INFO [6aa2c266-70d8-4cb0-873c-4f655f039f11] 23080 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:41:05.360 DEBUG [b151dcec-fceb-4696-bb08-f6abcd0758ca] 23080 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:41:05.375 ERROR [b151dcec-fceb-4696-bb08-f6abcd0758ca] 23080 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:05.376 DEBUG [b151dcec-fceb-4696-bb08-f6abcd0758ca] 23080 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:05.383 DEBUG [b151dcec-fceb-4696-bb08-f6abcd0758ca] 23080 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 17:41:05.383 DEBUG [b151dcec-fceb-4696-bb08-f6abcd0758ca] 23080 --- [nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@70debc63
2025-05-27 17:41:06.160 DEBUG [e9007706-b4cf-4bed-a920-d5d786ff6ff5] 23080 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-27 17:41:06.161 DEBUG [e9007706-b4cf-4bed-a920-d5d786ff6ff5] 23080 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:06.163 DEBUG [e9007706-b4cf-4bed-a920-d5d786ff6ff5] 23080 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-27 17:41:06.199  INFO [e9007706-b4cf-4bed-a920-d5d786ff6ff5] 23080 --- [nio-8080-exec-4] o.e.x.controllers.TokenController        : Generated new access token for user: ****@****.***
2025-05-27 17:41:06.708 DEBUG [c034bba7-0e93-4016-83ac-7cd06d7b979b] 23080 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-27 17:41:06.720 ERROR [c034bba7-0e93-4016-83ac-7cd06d7b979b] 23080 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:06.721 DEBUG [c034bba7-0e93-4016-83ac-7cd06d7b979b] 23080 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:06.724 DEBUG [c034bba7-0e93-4016-83ac-7cd06d7b979b] 23080 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-27 17:41:06.725 DEBUG [c034bba7-0e93-4016-83ac-7cd06d7b979b] 23080 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@70debc63
2025-05-27 17:41:06.790 DEBUG [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:06.802 ERROR [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:06.803 DEBUG [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:06.803 DEBUG [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:06.805 DEBUG [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:06.810  INFO [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:41:06.811  INFO [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-31
2025-05-27 17:41:06.820  WARN [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-31
2025-05-27 17:41:06.820  INFO [27b0df9d-5263-4bd7-ab19-3a61ed76e036] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:41:06.835 DEBUG [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:06.839 DEBUG [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-03&tripType=oneWay
2025-05-27 17:41:06.849 ERROR [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:06.849 DEBUG [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:06.850 DEBUG [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:06.852 DEBUG [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:06.852 ERROR [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:06.853 DEBUG [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:06.854 DEBUG [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:06.854  INFO [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:41:06.854  INFO [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-31
2025-05-27 17:41:06.855 DEBUG [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-03&tripType=oneWay
2025-05-27 17:41:06.856  INFO [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 17:41:06.857  INFO [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-03
2025-05-27 17:41:06.861  WARN [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-31
2025-05-27 17:41:06.862  INFO [9697f90c-166a-4979-a6a3-b271af7e7908] 23080 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:41:06.864  WARN [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-03
2025-05-27 17:41:06.864  INFO [1ee765db-9cbb-4f53-8625-98cbd828934e] 23080 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:41:06.880 DEBUG [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-03&tripType=oneWay
2025-05-27 17:41:06.893 ERROR [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:06.893 DEBUG [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:06.894 DEBUG [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:06.896 DEBUG [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-06-03&tripType=oneWay
2025-05-27 17:41:06.897  INFO [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-06-03, Return=null, Pax=1/0/0
2025-05-27 17:41:06.897  INFO [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-06-03
2025-05-27 17:41:06.904  WARN [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-06-03
2025-05-27 17:41:06.905  INFO [bdbdcfe6-020e-4e75-bff3-eb8851a24355] 23080 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:41:10.476 DEBUG [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:41:10.491 ERROR [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:10.492 DEBUG [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:10.492 DEBUG [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:10.494 DEBUG [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:41:10.496  INFO [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:41:10.496  INFO [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:41:10.497  INFO [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:41:10.497  INFO [11e580fc-15ad-47cb-8040-c5ca2550fd9a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:41:17.270 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:41:17.282 ERROR [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:17.283 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:17.284 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:17.285 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:41:17.286  INFO [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from bucharest to paris tomorrow
2025-05-27 17:41:17.287  INFO [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:41:17.287  INFO [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:41:17.287 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from bucharest to paris tomorrow";
2025-05-27 17:41:17.290  INFO [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:41:19.061 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": "2025-05-31",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:41:19.061 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:41:19.062 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:41:19.062 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:41:19.062 DEBUG [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:41:19.062  INFO [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:41:19.062  INFO [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=2025-05-31, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:41:19.063  INFO [8d858c41-6bb8-4e91-bbe9-15f8f5795807] 23080 --- [nio-8080-exec-1] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:41:20.728 DEBUG [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:20.745 ERROR [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:20.745 DEBUG [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:20.746 DEBUG [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:20.747 DEBUG [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:20.751  INFO [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:41:20.752  INFO [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:41:20.835  INFO [09909e78-f741-46d2-8ba5-d87ea02a518d] 23080 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:41:20.847 DEBUG [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:20.857 DEBUG [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:20.862 ERROR [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:20.862 DEBUG [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:20.862 DEBUG [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:20.864 DEBUG [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:20.872  INFO [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:41:20.872  INFO [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:41:20.872 ERROR [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:20.873 DEBUG [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:20.873 DEBUG [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:20.874 DEBUG [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:20.875  INFO [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:41:20.876  INFO [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:41:20.892  WARN [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:41:20.892  INFO [24257895-d2a7-4ef9-87cb-1f6099caacd2] 23080 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:41:21.214  INFO [dd52c13d-e047-4fe8-bba8-6c6712051ac3] 23080 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:41:21.240 DEBUG [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:21.256 ERROR [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:21.257 DEBUG [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:21.257 DEBUG [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:21.259 DEBUG [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:21.261  INFO [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:41:21.261  INFO [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:41:21.273  WARN [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:41:21.273  INFO [f746599c-eae3-4cf5-b2da-cd3537660244] 23080 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:41:47.264 DEBUG [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:41:47.273 ERROR [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:47.274 DEBUG [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:47.274 DEBUG [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:47.275 DEBUG [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:41:47.276  INFO [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:41:47.276  INFO [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:41:47.277  INFO [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:41:47.277  INFO [2899cd02-e8c7-4e95-81ac-fa2d0b7a38bb] 23080 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:41:55.546 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:41:55.555 ERROR [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:55.556 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:55.556 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:55.557 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:41:55.558  INFO [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from bucharest to paris tomorrow
2025-05-27 17:41:55.558  INFO [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:41:55.558  INFO [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:41:55.559 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from bucharest to paris tomorrow";
2025-05-27 17:41:55.560  INFO [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:41:57.192 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": "2025-05-31",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:41:57.192 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:41:57.193 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:41:57.193 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:41:57.193 DEBUG [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:41:57.193  INFO [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:41:57.193  INFO [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=2025-05-31, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:41:57.194  INFO [f94e5c88-2f2f-49e1-9598-a88679093801] 23080 --- [nio-8080-exec-7] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:41:58.797 DEBUG [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:58.808 ERROR [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:58.809 DEBUG [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:58.809 DEBUG [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:58.811 DEBUG [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:58.812  INFO [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:41:58.813  INFO [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:41:58.883  INFO [03a2aad6-e572-4eed-b30f-d5a4f3767741] 23080 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:41:58.896 DEBUG [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:58.909 ERROR [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:58.910 DEBUG [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:58.910 DEBUG [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:58.912 DEBUG [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:41:58.913  INFO [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:41:58.914  INFO [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:41:58.919 DEBUG [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:58.931 ERROR [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:58.931 DEBUG [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:58.932 DEBUG [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:58.933 DEBUG [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:58.935  INFO [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:41:58.935  INFO [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:41:58.940  WARN [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:41:58.941  INFO [b57f4742-d0fc-4bf4-9768-cf6b629d1b2a] 23080 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:41:58.975  INFO [a6e6b269-1baa-4f09-a8bf-9450d1f8f5bd] 23080 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:41:58.987 DEBUG [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:58.996 ERROR [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:41:58.997 DEBUG [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:41:58.997 DEBUG [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:41:58.998 DEBUG [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:41:58.999  INFO [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:41:58.999  INFO [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:41:59.006  WARN [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:41:59.006  INFO [1b07dc0c-d126-47e0-9db6-c29e56607f1e] 23080 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:42:47.801  INFO [NONE] 23080 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:42:47.807  INFO [NONE] 23080 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 17:42:47.848  INFO [NONE] 23080 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 17:43:17.097  INFO [NONE] 35756 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 35756 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 17:43:17.107 DEBUG [NONE] 35756 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 17:43:17.107  INFO [NONE] 35756 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 17:43:17.228  INFO [NONE] 35756 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 17:43:17.229  INFO [NONE] 35756 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 17:43:18.941  INFO [NONE] 35756 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:43:19.283  INFO [NONE] 35756 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 334 ms. Found 9 JPA repository interfaces.
2025-05-27 17:43:20.551  INFO [NONE] 35756 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 17:43:20.563  INFO [NONE] 35756 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 17:43:20.564  INFO [NONE] 35756 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 17:43:20.665  INFO [NONE] 35756 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 17:43:20.667  INFO [NONE] 35756 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3436 ms
2025-05-27 17:43:21.474  INFO [NONE] 35756 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:43:21.576  INFO [NONE] 35756 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 17:43:21.676  INFO [NONE] 35756 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 17:43:22.299  INFO [NONE] 35756 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:43:22.357  INFO [NONE] 35756 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 17:43:22.782  INFO [NONE] 35756 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ccee947
2025-05-27 17:43:22.786  INFO [NONE] 35756 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 17:43:22.869  WARN [NONE] 35756 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:43:25.915  INFO [NONE] 35756 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:43:36.723  INFO [NONE] 35756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:43:37.029  INFO [NONE] 35756 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 17:43:37.471 DEBUG [NONE] 35756 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 17:43:37.473 DEBUG [NONE] 35756 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 17:43:37.672  INFO [NONE] 35756 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 17:43:37.978  INFO [NONE] 35756 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 17:43:37.978  WARN [NONE] 35756 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 17:43:37.978  WARN [NONE] 35756 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 17:43:37.979  WARN [NONE] 35756 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 17:43:37.979  WARN [NONE] 35756 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 17:43:38.029  WARN [NONE] 35756 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:43:38.145  INFO [NONE] 35756 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 17:43:38.442  INFO [NONE] 35756 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 17:43:38.531  INFO [NONE] 35756 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13239adc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74042f5d, org.springframework.security.web.context.SecurityContextHolderFilter@201de96d, org.springframework.security.web.header.HeaderWriterFilter@8a271a1, org.springframework.web.filter.CorsFilter@603ead07, org.springframework.security.web.authentication.logout.LogoutFilter@77869fb1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@239dbf5d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7dee6308, org.example.xlr8travel.security.JwtAuthenticationFilter@51b9a6be, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@47c7782, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@313487f4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7864abf7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ba72453, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f278b13, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b2adf2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@771e3b5d, org.springframework.security.web.session.SessionManagementFilter@42f6fb09, org.springframework.security.web.access.ExceptionTranslationFilter@367f8573, org.springframework.security.web.access.intercept.AuthorizationFilter@7c26b956]
2025-05-27 17:43:39.177  INFO [NONE] 35756 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 17:43:39.268  INFO [NONE] 35756 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 17:43:39.283  INFO [NONE] 35756 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 22.898 seconds (process running for 23.826)
2025-05-27 17:43:39.508  INFO [NONE] 35756 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 17:43:39.508  INFO [NONE] 35756 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 17:43:39.510  INFO [NONE] 35756 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-27 17:43:39.530 DEBUG [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:43:39.800 ERROR [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:43:39.804 DEBUG [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:43:39.805 DEBUG [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:43:39.810  WARN [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/flights/nearby' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 17:43:39.830 DEBUG [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:43:39.869  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:43:39.870  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:43:39.871  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:43:39.871  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:43:39.872  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:43:39.964  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 2 flights
2025-05-27 17:43:39.964  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 2 Flight entities to FlightDTOs
2025-05-27 17:43:39.965  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 2 FlightDTOs
2025-05-27 17:43:39.965  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:43:39.966  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 1 countries
2025-05-27 17:43:39.966  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:43:39.966  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Spain (has 2 flights)
2025-05-27 17:43:39.966  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : First pass only yielded 1 flights, adding more in second pass
2025-05-27 17:43:39.967  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Country Spain has 1 additional flights to consider
2025-05-27 17:43:39.967  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding additional flight from Spain
2025-05-27 17:43:39.967  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 2 diverse flights with key: OTP-2025-05-27
2025-05-27 17:43:39.968  INFO [236790ec-3d5f-4949-858a-c8e27a7ec2a4] 35756 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 2 diverse nearby flights from: OTP
2025-05-27 17:43:42.112 DEBUG [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:43:42.129 ERROR [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:43:42.130 DEBUG [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:43:42.130 DEBUG [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:43:42.133 DEBUG [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:43:42.135  INFO [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:43:42.136  INFO [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:43:42.136  INFO [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:43:42.136  INFO [0a8835a2-4447-49b7-bc0c-215ae5614b97] 35756 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 2 flights
2025-05-27 17:43:47.818 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:43:47.835 ERROR [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:43:47.836 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:43:47.836 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:43:47.838 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:43:47.866  INFO [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from bucharest to paris tomorrow
2025-05-27 17:43:47.867  INFO [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:43:47.868  INFO [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:43:47.871 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from bucharest to paris tomorrow";
2025-05-27 17:43:47.873  INFO [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:43:50.455 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": "2025-05-31",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:43:50.456 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:43:50.462 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:43:50.462 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:43:50.463 DEBUG [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:43:50.463  INFO [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:43:50.464  INFO [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=2025-05-31, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:43:50.464  INFO [f9943314-e738-457f-856b-0a94831754e6] 35756 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:43:52.216 DEBUG [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:43:52.228 ERROR [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:43:52.229 DEBUG [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:43:52.230 DEBUG [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:43:52.232 DEBUG [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:43:52.238  INFO [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:43:52.239  INFO [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:43:52.315  INFO [f431fc24-b5c1-49e6-9ae1-dae788c2e88b] 35756 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:43:52.331 DEBUG [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:43:52.338 DEBUG [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:43:52.346 ERROR [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:43:52.347 DEBUG [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:43:52.347 DEBUG [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:43:52.350 DEBUG [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:43:52.352 ERROR [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:43:52.352  INFO [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:43:52.352 DEBUG [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:43:52.352  INFO [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:43:52.352 DEBUG [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:43:52.355 DEBUG [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:43:52.356  INFO [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:43:52.356  INFO [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:43:52.364  WARN [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:43:52.364  INFO [b215b66a-3188-49ea-a3fe-06230fb5baa0] 35756 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:43:52.414  INFO [4845e66d-7128-47ac-bca0-744a6b84f754] 35756 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:43:52.427 DEBUG [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:43:52.436 ERROR [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:43:52.437 DEBUG [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:43:52.437 DEBUG [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:43:52.439 DEBUG [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:43:52.440  INFO [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:43:52.441  INFO [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:43:52.446  WARN [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:43:52.447  INFO [62e993c7-4495-4110-b9c1-4930773b4081] 35756 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:45:24.168  INFO [NONE] 35756 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:45:24.173  INFO [NONE] 35756 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 17:45:24.185  INFO [NONE] 35756 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 17:45:51.347  INFO [NONE] 33076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 33076 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 17:45:51.363 DEBUG [NONE] 33076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 17:45:51.372  INFO [NONE] 33076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 17:45:51.467  INFO [NONE] 33076 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 17:45:51.478  INFO [NONE] 33076 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 17:45:54.169  INFO [NONE] 33076 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:45:54.305  INFO [NONE] 33076 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 128 ms. Found 9 JPA repository interfaces.
2025-05-27 17:45:55.081  INFO [NONE] 33076 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 17:45:55.094  INFO [NONE] 33076 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 17:45:55.095  INFO [NONE] 33076 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 17:45:55.182  INFO [NONE] 33076 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 17:45:55.183  INFO [NONE] 33076 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3694 ms
2025-05-27 17:45:55.488  INFO [NONE] 33076 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:45:55.550  INFO [NONE] 33076 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 17:45:55.587  INFO [NONE] 33076 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 17:45:55.819  INFO [NONE] 33076 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:45:55.852  INFO [NONE] 33076 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 17:45:56.010  INFO [NONE] 33076 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69307404
2025-05-27 17:45:56.012  INFO [NONE] 33076 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 17:45:56.070  WARN [NONE] 33076 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:46:02.349  INFO [NONE] 33076 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:46:19.157  INFO [NONE] 33076 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:46:19.727  INFO [NONE] 33076 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 17:46:20.340 DEBUG [NONE] 33076 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 17:46:20.342 DEBUG [NONE] 33076 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 17:46:20.806  INFO [NONE] 33076 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 17:46:21.364  INFO [NONE] 33076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 17:46:21.364  WARN [NONE] 33076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 17:46:21.364  WARN [NONE] 33076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 17:46:21.364  WARN [NONE] 33076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 17:46:21.365  WARN [NONE] 33076 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 17:46:21.420  WARN [NONE] 33076 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:46:21.692  INFO [NONE] 33076 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 17:46:22.341  INFO [NONE] 33076 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 17:46:22.484  INFO [NONE] 33076 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@661e9c57, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cab4e13, org.springframework.security.web.context.SecurityContextHolderFilter@68452f25, org.springframework.security.web.header.HeaderWriterFilter@3f5aebd3, org.springframework.web.filter.CorsFilter@52a5681d, org.springframework.security.web.authentication.logout.LogoutFilter@1f4b7aec, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@233c3fbc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6f0b4e71, org.example.xlr8travel.security.JwtAuthenticationFilter@54402ddc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ee281b6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@790658d2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@8f57ead, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b94522e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54afd8ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13c62f7b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a9ba7c0, org.springframework.security.web.session.SessionManagementFilter@2f690ed7, org.springframework.security.web.access.ExceptionTranslationFilter@20196c6a, org.springframework.security.web.access.intercept.AuthorizationFilter@137d27a2]
2025-05-27 17:46:23.296  INFO [NONE] 33076 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 17:46:23.378  INFO [NONE] 33076 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 17:46:23.390  INFO [NONE] 33076 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 32.488 seconds (process running for 33.06)
2025-05-27 17:46:36.866  INFO [NONE] 33076 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 17:46:36.866  INFO [NONE] 33076 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 17:46:36.867  INFO [NONE] 33076 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-27 17:46:36.885 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:46:37.003 ERROR [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:46:37.006 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:46:37.006 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:46:37.011  WARN [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/flights/natural-language/search' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 17:46:37.020 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:46:37.077  INFO [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from bucharest to paris tomorrow
2025-05-27 17:46:37.078  INFO [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:46:37.078  INFO [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:46:37.082 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from bucharest to paris tomorrow";
2025-05-27 17:46:37.084  INFO [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:46:39.661 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": "2025-05-31",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:46:39.661 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:46:39.666 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:46:39.666 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:46:39.668 DEBUG [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:46:39.668  INFO [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:46:39.668  INFO [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=2025-05-31, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:46:39.668  INFO [e1689299-a740-4d64-9e2e-d30d1fbfabf3] 33076 --- [nio-8080-exec-1] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:46:42.214 DEBUG [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:46:42.253 ERROR [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:46:42.260 DEBUG [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:46:42.262 DEBUG [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:46:42.274 DEBUG [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:46:42.303  INFO [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:46:42.304  INFO [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:46:43.611  INFO [c985d656-a2e6-452c-a900-ac944ad69aa0] 33076 --- [nio-8080-exec-2] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:46:44.620 DEBUG [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:46:44.628 DEBUG [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:46:44.995 ERROR [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:46:45.003 ERROR [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:46:45.019 DEBUG [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:46:45.071 DEBUG [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:46:45.071 DEBUG [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:46:45.071 DEBUG [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:46:45.076 DEBUG [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:46:45.078 DEBUG [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:46:45.079  INFO [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:46:45.222  INFO [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:46:45.329  INFO [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:46:45.512  INFO [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:46:46.635  WARN [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:46:46.640  INFO [18e52e2e-1044-4ed9-bac1-ab00d9c4adc8] 33076 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:46:47.085  INFO [e31fab7c-d12a-4cd7-9b9e-de084f184afd] 33076 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:46:47.121 DEBUG [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:46:47.177 ERROR [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:46:47.179 DEBUG [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:46:47.180 DEBUG [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:46:47.196 DEBUG [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:46:47.206  INFO [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:46:47.206  INFO [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:46:47.231  WARN [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:46:47.232  INFO [a2e587c5-d7ae-4c3d-8e2e-36cb93d57a17] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:47:07.327 DEBUG [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-10&tripType=oneWay
2025-05-27 17:47:07.340 ERROR [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:07.340 DEBUG [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:07.341 DEBUG [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:07.342 DEBUG [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-10&tripType=oneWay
2025-05-27 17:47:07.344  INFO [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-07-10, Return=null, Pax=1/0/0
2025-05-27 17:47:07.344  INFO [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-07-10
2025-05-27 17:47:07.352  WARN [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No flights found for search: OTP to FCO on 2025-07-10
2025-05-27 17:47:07.353  INFO [a0a9458d-dd2e-4525-8879-d6d0ed1946fe] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:47:07.367 DEBUG [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-10&tripType=oneWay
2025-05-27 17:47:07.377 ERROR [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:07.379 DEBUG [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:07.379 DEBUG [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:07.381 DEBUG [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-07-10&tripType=oneWay
2025-05-27 17:47:07.382  INFO [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-07-10, Return=null, Pax=1/0/0
2025-05-27 17:47:07.382  INFO [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-07-10
2025-05-27 17:47:07.391  WARN [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No flights found for search: OTP to FCO on 2025-07-10
2025-05-27 17:47:07.392  INFO [a9644812-ad37-4804-838e-e58fe0c458a8] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:47:14.502 DEBUG [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:47:14.565 ERROR [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:14.583 DEBUG [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:14.632 DEBUG [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:14.719 DEBUG [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:47:14.741  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:47:14.744  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:47:14.745  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:47:14.745  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:47:14.746  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:47:15.460  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:47:15.462  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:47:15.463  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:47:15.465  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:47:15.467  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:47:15.468  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:47:15.470  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:47:15.470  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:47:15.472  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:47:15.473  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:47:15.477  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:47:15.485  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:47:15.497  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:47:15.500  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:47:15.501  INFO [9fd35f61-3ec4-4a9e-a3ef-705aa9deb914] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:47:18.112 DEBUG [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:18.132 ERROR [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:18.134 DEBUG [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:18.134 DEBUG [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:18.136 DEBUG [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:18.138  INFO [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:47:18.138  INFO [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 17:47:18.227  INFO [512af962-aa6c-4850-bf14-6ad84c3db2f7] 33076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:47:18.241 DEBUG [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:18.251 ERROR [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:18.251 DEBUG [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:18.252 DEBUG [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:18.253 DEBUG [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:18.254  INFO [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:47:18.255  INFO [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-05-28
2025-05-27 17:47:18.308  INFO [62b50a4d-f53f-4589-a107-29f62f4db562] 33076 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:47:23.157 DEBUG [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:47:23.170 ERROR [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:23.171 DEBUG [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:23.171 DEBUG [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:23.173 DEBUG [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:47:23.175  INFO [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:47:23.175  INFO [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:47:23.176  INFO [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:47:23.176  INFO [dffea242-b400-4a3a-afcd-edd4b648ed10] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:47:32.604 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:47:32.613 ERROR [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:32.614 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:32.614 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:32.615 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:47:32.616  INFO [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from bucharest to paris tomorrow
2025-05-27 17:47:32.617  INFO [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:47:32.617  INFO [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:47:32.618 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from bucharest to paris tomorrow";
2025-05-27 17:47:32.620  INFO [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:47:34.264 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": "2025-05-31",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:47:34.265 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:47:34.265 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:47:34.266 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:47:34.266 DEBUG [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:47:34.266  INFO [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:47:34.266  INFO [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=2025-05-31, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:47:34.266  INFO [352fc231-48c8-4401-9500-a37b80e04d4a] 33076 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:47:35.879 DEBUG [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:35.892 ERROR [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:35.893 DEBUG [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:35.893 DEBUG [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:35.895 DEBUG [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:35.896  INFO [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:47:35.897  INFO [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:47:35.966  INFO [b3f41b0e-4ddf-4e09-96b6-3952de03257e] 33076 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:47:35.979 DEBUG [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:35.993 ERROR [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:35.993 DEBUG [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:47:35.994 DEBUG [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:35.994 DEBUG [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:35.995 DEBUG [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:47:35.996  INFO [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:47:35.996  INFO [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:47:36.002 ERROR [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:36.003 DEBUG [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:36.004 DEBUG [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:36.005 DEBUG [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:47:36.006  INFO [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:47:36.007  INFO [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:47:36.014  WARN [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:47:36.014  INFO [427625e5-1106-4d5e-a52d-e008ccd871b9] 33076 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:47:36.050  INFO [7d2b8b83-e3b5-4f27-ad10-df676f30dbd6] 33076 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:47:36.065 DEBUG [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:47:36.074 ERROR [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:47:36.075 DEBUG [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:47:36.075 DEBUG [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:47:36.076 DEBUG [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:47:36.077  INFO [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:47:36.078  INFO [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-31
2025-05-27 17:47:36.083  WARN [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-31
2025-05-27 17:47:36.084  INFO [8285d73a-d2be-4841-9137-9695a231b363] 33076 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:48:29.670 DEBUG [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:48:29.678 ERROR [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:48:29.679 DEBUG [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:48:29.679 DEBUG [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:48:29.681 DEBUG [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:48:29.682  INFO [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:48:29.682  INFO [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:48:29.682  INFO [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:48:29.682  INFO [fd459e71-df9c-4faf-a7bd-f22bf470155a] 33076 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-27 17:48:44.490 DEBUG [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:48:44.501 ERROR [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:48:44.502 DEBUG [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:48:44.502 DEBUG [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:48:44.503 DEBUG [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:48:44.505  INFO [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:48:44.505  INFO [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-28
2025-05-27 17:48:44.561  INFO [a2766b70-5b1c-4afd-beda-c63c256a3e06] 33076 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:48:44.572 DEBUG [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:48:44.582 ERROR [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:48:44.583 DEBUG [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:48:44.583 DEBUG [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:48:44.585 DEBUG [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:48:44.587  INFO [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:48:44.587  INFO [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-28
2025-05-27 17:48:44.625 DEBUG [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:48:44.635 ERROR [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:48:44.636 DEBUG [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:48:44.636 DEBUG [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:48:44.638 DEBUG [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:48:44.639  INFO [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:48:44.639  INFO [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-31
2025-05-27 17:48:44.644  WARN [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-31
2025-05-27 17:48:44.645  INFO [d6242b02-f116-42e4-83ee-c1fc77b80a82] 33076 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:48:44.648  INFO [aae84460-137e-4506-9251-b2774510014c] 33076 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:48:44.676 DEBUG [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:48:44.684 ERROR [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:48:44.684 DEBUG [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:48:44.684 DEBUG [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:48:44.686 DEBUG [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-31&tripType=oneWay
2025-05-27 17:48:44.687  INFO [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-31, Return=null, Pax=1/0/0
2025-05-27 17:48:44.688  INFO [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-31
2025-05-27 17:48:44.693  WARN [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No flights found for search: OTP to CDG on 2025-05-31
2025-05-27 17:48:44.693  INFO [49acab4e-5631-4d27-bdcd-321685818e66] 33076 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:50:07.991  INFO [NONE] 33076 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:50:07.995  INFO [NONE] 33076 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 17:50:08.070  INFO [NONE] 33076 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-27 17:50:35.171  INFO [NONE] 25860 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 25860 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-27 17:50:35.178 DEBUG [NONE] 25860 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-27 17:50:35.179  INFO [NONE] 25860 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-27 17:50:35.224  INFO [NONE] 25860 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 17:50:35.224  INFO [NONE] 25860 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 17:50:36.795  INFO [NONE] 25860 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:50:37.176  INFO [NONE] 25860 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 361 ms. Found 9 JPA repository interfaces.
2025-05-27 17:50:38.321  INFO [NONE] 25860 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-27 17:50:38.335  INFO [NONE] 25860 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-27 17:50:38.336  INFO [NONE] 25860 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-27 17:50:38.410  INFO [NONE] 25860 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-27 17:50:38.411  INFO [NONE] 25860 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3185 ms
2025-05-27 17:50:39.112  INFO [NONE] 25860 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:50:39.170  INFO [NONE] 25860 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-27 17:50:39.213  INFO [NONE] 25860 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-27 17:50:39.932  INFO [NONE] 25860 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:50:40.749  INFO [NONE] 25860 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-27 17:50:41.492  INFO [NONE] 25860 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30f46575
2025-05-27 17:50:41.496  INFO [NONE] 25860 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-27 17:50:41.588  WARN [NONE] 25860 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:50:48.356  INFO [NONE] 25860 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:50:58.697  INFO [NONE] 25860 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:50:58.990  INFO [NONE] 25860 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 17:50:59.367 DEBUG [NONE] 25860 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-27 17:50:59.369 DEBUG [NONE] 25860 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-27 17:50:59.551  INFO [NONE] 25860 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-27 17:50:59.818  INFO [NONE] 25860 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-27 17:50:59.819  WARN [NONE] 25860 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-27 17:50:59.819  WARN [NONE] 25860 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-27 17:50:59.819  WARN [NONE] 25860 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-27 17:50:59.820  WARN [NONE] 25860 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-27 17:50:59.864  WARN [NONE] 25860 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:50:59.979  INFO [NONE] 25860 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-27 17:51:00.308  INFO [NONE] 25860 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-27 17:51:00.396  INFO [NONE] 25860 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d1ff4f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dee6308, org.springframework.security.web.context.SecurityContextHolderFilter@15735616, org.springframework.security.web.header.HeaderWriterFilter@3acf0075, org.springframework.web.filter.CorsFilter@33c75cbf, org.springframework.security.web.authentication.logout.LogoutFilter@6be64567, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@54b2ca10, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@15650747, org.example.xlr8travel.security.JwtAuthenticationFilter@14b2f757, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@aff5fdb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@918d670, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7165dffa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7d7a9f6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42f6fb09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7941da62, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3af256d, org.springframework.security.web.session.SessionManagementFilter@58802a0a, org.springframework.security.web.access.ExceptionTranslationFilter@af5f9a5, org.springframework.security.web.access.intercept.AuthorizationFilter@21ea37ad]
2025-05-27 17:51:00.954  INFO [NONE] 25860 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-27 17:51:01.028  INFO [NONE] 25860 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-27 17:51:01.039  INFO [NONE] 25860 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 26.502 seconds (process running for 27.376)
2025-05-27 17:51:07.581  INFO [NONE] 25860 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 17:51:07.582  INFO [NONE] 25860 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-27 17:51:07.583  INFO [NONE] 25860 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-27 17:51:07.597 DEBUG [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-27 17:51:07.729 ERROR [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:51:07.732 DEBUG [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:51:07.733 DEBUG [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:51:07.739  WARN [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/flights/nearby' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-27 17:51:07.754 DEBUG [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-27 17:51:07.795  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-27 17:51:07.795  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-27
2025-05-27 17:51:07.796  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-27
2025-05-27 17:51:07.796  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-27
2025-05-27 17:51:07.796  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-27
2025-05-27 17:51:07.870  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-27 17:51:07.870  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-27 17:51:07.871  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-27 17:51:07.872  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-27 17:51:07.873  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-27 17:51:07.873  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-27 17:51:07.873  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-27 17:51:07.873  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-27 17:51:07.873  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-27 17:51:07.873  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-27 17:51:07.874  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-27 17:51:07.874  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-27 17:51:07.874  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-27 17:51:07.874  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-27
2025-05-27 17:51:07.876  INFO [2dc0ebc6-6942-4978-9740-a2e1a352b643] 25860 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-27 17:51:13.800 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/flights/natural-language/search
2025-05-27 17:51:13.818 ERROR [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:51:13.819 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:51:13.819 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:51:13.821 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/flights/natural-language/search
2025-05-27 17:51:13.847  INFO [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Received natural language search request: round trip from bucharest to paris tomorrow
2025-05-27 17:51:13.848  INFO [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Determined closest airport from coordinates: OTP
2025-05-27 17:51:13.848  INFO [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Processing natural language query with closest airport: OTP
2025-05-27 17:51:13.851 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Generated prompt for Gemini API: You are a flight search assistant. Extract the following information from this query: origin city, destination city, departure date, return date (if applicable), trip type (one-way or round-trip), and number of passengers (adults, children, infants). If any information is missing, use reasonable defaults. The user's closest airport is OTP. IMPORTANT RULES: 1. When extracting dates, use the current year (2025) for any dates where the year is not explicitly specified. 2. If the query mentions a 'weekend trip' or similar weekend travel, and specific dates aren't provided,    set the departure and return dates to be within 1-2 weeks from today (2025-05-27).    For example, if today is 2025-05-27, a good departure date would be between 2025-06-03 and 2025-06-10, with the return date 2-3 days after departure. 3. IMPORTANT: If the user specifies an origin in the query (e.g., 'from Paris', 'departing London'),    you MUST use that origin. Only if no origin is provided in the query,    use 'OTP' as the origin.    This is the closest airport to the user's current location. 4. CRITICAL: You MUST use the correct IATA airport codes for cities. DO NOT use generic city codes.    For example, use 'FCO' for Rome (not 'ROM'), 'LHR' for London (not 'LON'), 'CDG' for Paris, etc.    Here are the correct airport codes for common cities:    - Rome: FCO (Leonardo da Vinci Fiumicino)    - London: LHR (Heathrow Airport)    - Paris: CDG (Charles de Gaulle)    - New York: JFK (John F. Kennedy)    - Los Angeles: LAX (Los Angeles Intl)    - Barcelona: BCN (El Prat Airport)    - Madrid: MAD (Adolfo Surez MadridBarajas)    - Berlin: BER (Berlin Brandenburg)    - Munich: MUC (Franz Josef Strauss)    - Milan: MXP (Milano Malpensa)    - Amsterdam: AMS (Amsterdam Schiphol)    - Vienna: VIE (Vienna Intl)    - Zurich: ZRH (Zurich Airport)    - Athens: ATH (Athens International)    - Bucharest: OTP (Henri Coand Intl)    - Cluj: CLJ (Avram Iancu)    - Brussels: CRL (Brussels South Charleroi)    - Baku: GYD (Heydar Aliyev Intl)    - Yerevan: EVN (Zvartnots Intl)    - Tirana: TIA (Rinas Mother Teresa) Format your response as a JSON object with the following fields: origin (airport code), destination (airport code), departureDate (YYYY-MM-DD), returnDate (YYYY-MM-DD or null for one-way), tripType (oneWay or roundTrip), adults (number), children (number), infants (number). Here's the user query: "round trip from bucharest to paris tomorrow";
2025-05-27 17:51:13.854  INFO [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Using Gemini API with project ID: xlr8travel
2025-05-27 17:51:16.374 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Gemini API response: ```json
{
  "origin": "OTP",
  "destination": "CDG",
  "departureDate": "2025-05-28",
  "returnDate": "2025-05-29",
  "tripType": "roundTrip",
  "adults": 1,
  "children": 0,
  "infants": 0
}
```
2025-05-27 17:51:16.375 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Passing closest airport to parseGeminiResponse: 'OTP'
2025-05-27 17:51:16.379 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Origin code from Gemini API: 'OTP', userClosestAirport: 'OTP'
2025-05-27 17:51:16.380 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Trimmed origin code: 'OTP', isClosestAirportPlaceholder: false
2025-05-27 17:51:16.381 DEBUG [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:51:16.381  INFO [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Final origin after processing: 'OTP'
2025-05-27 17:51:16.382  INFO [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.services.GeminiServiceImpl         : Parsed response: origin=OTP, destination=CDG, departureDate=2025-05-28, returnDate=2025-05-29, tripType=roundTrip, adults=1, children=0, infants=0
2025-05-27 17:51:16.382  INFO [c3cdefd8-6843-4ccd-83d1-9632b8a4c6f7] 25860 --- [nio-8080-exec-2] o.e.x.c.NaturalLanguageSearchController  : Successfully processed natural language query. Origin: OTP, Destination: CDG
2025-05-27 17:51:17.964 DEBUG [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:51:17.976 ERROR [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:51:17.978 DEBUG [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:51:17.978 DEBUG [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:51:17.980 DEBUG [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:51:17.986  INFO [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:51:17.986  INFO [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:51:18.057  INFO [b9bc60c6-4082-4821-8d20-7f5e048d6c04] 25860 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:51:18.069 DEBUG [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:51:18.082 ERROR [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:51:18.083 DEBUG [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:51:18.084 DEBUG [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:51:18.086 DEBUG [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=CDG&departureDate=2025-05-28&tripType=oneWay
2025-05-27 17:51:18.087  INFO [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=CDG, Depart=2025-05-28, Return=null, Pax=1/0/0
2025-05-27 17:51:18.087  INFO [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to CDG on 2025-05-28
2025-05-27 17:51:18.114 DEBUG [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-29&tripType=oneWay
2025-05-27 17:51:18.127 ERROR [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:51:18.128 DEBUG [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:51:18.129 DEBUG [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:51:18.130 DEBUG [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-29&tripType=oneWay
2025-05-27 17:51:18.132  INFO [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-29, Return=null, Pax=1/0/0
2025-05-27 17:51:18.132  INFO [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-29
2025-05-27 17:51:18.139  WARN [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-29
2025-05-27 17:51:18.140  INFO [ded7980a-9bf8-45e5-948a-9d6e8b5aff25] 25860 --- [nio-8080-exec-5] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:51:18.155  INFO [312575de-e0f5-41f6-b546-d8dd4faf747a] 25860 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-27 17:51:18.172 DEBUG [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-29&tripType=oneWay
2025-05-27 17:51:18.182 ERROR [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-27 17:51:18.183 DEBUG [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 17:51:18.183 DEBUG [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B0C5DA60E4475B0CC06D8157538A9DD5
2025-05-27 17:51:18.186 DEBUG [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=CDG&destination=OTP&departureDate=2025-05-29&tripType=oneWay
2025-05-27 17:51:18.187  INFO [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=CDG, Dest=OTP, Depart=2025-05-29, Return=null, Pax=1/0/0
2025-05-27 17:51:18.187  INFO [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Performing one-way flight search from CDG to OTP on 2025-05-29
2025-05-27 17:51:18.194  WARN [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No flights found for search: CDG to OTP on 2025-05-29
2025-05-27 17:51:18.194  INFO [e105bf18-fb26-4443-963f-6cbd3399ebb6] 25860 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Found 0 available flights for search criteria.
2025-05-27 17:53:21.905  INFO [NONE] 25860 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:53:21.908  INFO [NONE] 25860 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-27 17:53:21.915  INFO [NONE] 25860 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
