2025-05-31 17:48:15.695  INFO [NONE] 28768 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 28768 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-31 17:48:15.711 DEBUG [NONE] 28768 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-31 17:48:15.713  INFO [NONE] 28768 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-31 17:48:15.759  INFO [NONE] 28768 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-31 17:48:15.760  INFO [NONE] 28768 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-31 17:48:16.949  INFO [NONE] 28768 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-31 17:48:17.054  INFO [NONE] 28768 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 9 JPA repository interfaces.
2025-05-31 17:48:17.966  INFO [NONE] 28768 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-31 17:48:18.001  INFO [NONE] 28768 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-31 17:48:18.003  INFO [NONE] 28768 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-31 17:48:18.105  INFO [NONE] 28768 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-31 17:48:18.107  INFO [NONE] 28768 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2346 ms
2025-05-31 17:48:18.406  INFO [NONE] 28768 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-31 17:48:18.554  INFO [NONE] 28768 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-31 17:48:18.624  INFO [NONE] 28768 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-31 17:48:18.913  INFO [NONE] 28768 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-31 17:48:18.946  INFO [NONE] 28768 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-31 17:48:19.142  INFO [NONE] 28768 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7496f1b
2025-05-31 17:48:19.144  INFO [NONE] 28768 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-31 17:48:19.200  WARN [NONE] 28768 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-31 17:48:20.673  INFO [NONE] 28768 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-31 17:48:27.633  INFO [NONE] 28768 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-31 17:48:28.026  INFO [NONE] 28768 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-31 17:48:28.683 DEBUG [NONE] 28768 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-31 17:48:28.687 DEBUG [NONE] 28768 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-31 17:48:29.234  INFO [NONE] 28768 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-31 17:48:29.754  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : === GEMINI SERVICE CONFIGURATION ===
2025-05-31 17:48:29.754  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Project ID: xlr8travel
2025-05-31 17:48:29.754  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Location ID: us-east1
2025-05-31 17:48:29.755  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Model: gemini-2.0-flash-001
2025-05-31 17:48:29.755  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Credentials Path: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:48:29.755  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : API Key: ***SET***
2025-05-31 17:48:29.756  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ Credentials file exists: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:48:29.756  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ Credentials file size: 2376 bytes
2025-05-31 17:48:29.757  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ GOOGLE_APPLICATION_CREDENTIALS env var is set: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:48:29.757  INFO [NONE] 28768 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : =====================================
2025-05-31 17:48:29.787  INFO [NONE] 28768 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-31 17:48:29.788  WARN [NONE] 28768 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-31 17:48:29.788  WARN [NONE] 28768 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-31 17:48:29.789  WARN [NONE] 28768 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-31 17:48:29.789  WARN [NONE] 28768 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-31 17:48:29.870  WARN [NONE] 28768 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-31 17:48:30.009  INFO [NONE] 28768 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-31 17:48:30.079  WARN [NONE] 28768 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [org/example/xlr8travel/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'checkinController' method 
org.example.xlr8travel.controllers.CheckinController#getBoardingPasses(UserDetails)
to {GET [/api/check-in/boarding-passes]}: There is already 'boardingPassController' bean method
org.example.xlr8travel.controllers.BoardingPassController#getBoardingPasses(UserDetails) mapped.
2025-05-31 17:48:30.082  INFO [NONE] 28768 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-31 17:48:30.084  INFO [NONE] 28768 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-31 17:48:30.089  INFO [NONE] 28768 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-31 17:48:30.094  INFO [NONE] 28768 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-31 17:48:30.116  INFO [NONE] 28768 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-31 17:48:30.137 ERROR [NONE] 28768 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [org/example/xlr8travel/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'checkinController' method 
org.example.xlr8travel.controllers.CheckinController#getBoardingPasses(UserDetails)
to {GET [/api/check-in/boarding-passes]}: There is already 'boardingPassController' bean method
org.example.xlr8travel.controllers.BoardingPassController#getBoardingPasses(UserDetails) mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:895)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:848)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [org/example/xlr8travel/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'checkinController' method 
org.example.xlr8travel.controllers.CheckinController#getBoardingPasses(UserDetails)
to {GET [/api/check-in/boarding-passes]}: There is already 'boardingPassController' bean method
org.example.xlr8travel.controllers.BoardingPassController#getBoardingPasses(UserDetails) mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1689)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1543)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1511)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1392)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:887)
	... 23 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'checkinController' method 
org.example.xlr8travel.controllers.CheckinController#getBoardingPasses(UserDetails)
to {GET [/api/check-in/boarding-passes]}: There is already 'boardingPassController' bean method
org.example.xlr8travel.controllers.BoardingPassController#getBoardingPasses(UserDetails) mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:177)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'checkinController' method 
org.example.xlr8travel.controllers.CheckinController#getBoardingPasses(UserDetails)
to {GET [/api/check-in/boarding-passes]}: There is already 'boardingPassController' bean method
org.example.xlr8travel.controllers.BoardingPassController#getBoardingPasses(UserDetails) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1240)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:106)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:184)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:211)
	at org.example.xlr8travel.security.SecurityConfig.lambda$filterChain$4(SecurityConfig.java:89)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1424)
	at org.example.xlr8travel.security.SecurityConfig.filterChain(SecurityConfig.java:83)
	at org.example.xlr8travel.security.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$3(<generated>)
	at org.example.xlr8travel.security.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at org.example.xlr8travel.security.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	... 41 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'checkinController' method 
org.example.xlr8travel.controllers.CheckinController#getBoardingPasses(UserDetails)
to {GET [/api/check-in/boarding-passes]}: There is already 'boardingPassController' bean method
org.example.xlr8travel.controllers.BoardingPassController#getBoardingPasses(UserDetails) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:665)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1388)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:130)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:118)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 62 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'checkinController' method 
org.example.xlr8travel.controllers.CheckinController#getBoardingPasses(UserDetails)
to {GET [/api/check-in/boarding-passes]}: There is already 'boardingPassController' bean method
org.example.xlr8travel.controllers.BoardingPassController#getBoardingPasses(UserDetails) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:672)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:634)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:508)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:84)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:239)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 75 common frames omitted

2025-05-31 17:50:50.557  INFO [NONE] 23036 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 23036 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-31 17:50:50.563 DEBUG [NONE] 23036 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-31 17:50:50.563  INFO [NONE] 23036 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-31 17:50:50.601  INFO [NONE] 23036 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-31 17:50:50.602  INFO [NONE] 23036 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-31 17:50:51.572  INFO [NONE] 23036 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-31 17:50:51.675  INFO [NONE] 23036 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 9 JPA repository interfaces.
2025-05-31 17:50:52.410  INFO [NONE] 23036 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-31 17:50:52.423  INFO [NONE] 23036 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-31 17:50:52.423  INFO [NONE] 23036 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-31 17:50:52.502  INFO [NONE] 23036 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-31 17:50:52.503  INFO [NONE] 23036 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1901 ms
2025-05-31 17:50:52.768  INFO [NONE] 23036 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-31 17:50:52.818  INFO [NONE] 23036 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-31 17:50:52.851  INFO [NONE] 23036 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-31 17:50:53.067  INFO [NONE] 23036 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-31 17:50:53.093  INFO [NONE] 23036 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-31 17:50:53.246  INFO [NONE] 23036 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a9ebbba
2025-05-31 17:50:53.248  INFO [NONE] 23036 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-31 17:50:53.291  WARN [NONE] 23036 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-31 17:50:54.487  INFO [NONE] 23036 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-31 17:51:01.379  INFO [NONE] 23036 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-31 17:51:01.660  INFO [NONE] 23036 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-31 17:51:02.048 DEBUG [NONE] 23036 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-31 17:51:02.050 DEBUG [NONE] 23036 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-31 17:51:02.213  INFO [NONE] 23036 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-31 17:51:02.521  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : === GEMINI SERVICE CONFIGURATION ===
2025-05-31 17:51:02.522  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Project ID: xlr8travel
2025-05-31 17:51:02.522  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Location ID: us-east1
2025-05-31 17:51:02.522  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Model: gemini-2.0-flash-001
2025-05-31 17:51:02.522  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Credentials Path: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:51:02.522  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : API Key: ***SET***
2025-05-31 17:51:02.523  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ Credentials file exists: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:51:02.523  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ Credentials file size: 2376 bytes
2025-05-31 17:51:02.523  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ GOOGLE_APPLICATION_CREDENTIALS env var is set: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:51:02.524  INFO [NONE] 23036 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : =====================================
2025-05-31 17:51:02.551  INFO [NONE] 23036 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-31 17:51:02.552  WARN [NONE] 23036 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-31 17:51:02.552  WARN [NONE] 23036 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-31 17:51:02.552  WARN [NONE] 23036 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-31 17:51:02.553  WARN [NONE] 23036 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-31 17:51:02.599  WARN [NONE] 23036 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-31 17:51:02.701  INFO [NONE] 23036 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-31 17:51:02.987  INFO [NONE] 23036 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-31 17:51:03.080  INFO [NONE] 23036 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f8aec7b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e8dd0db, org.springframework.security.web.context.SecurityContextHolderFilter@54ea9050, org.springframework.security.web.header.HeaderWriterFilter@5001faab, org.springframework.web.filter.CorsFilter@44fa5a87, org.springframework.security.web.authentication.logout.LogoutFilter@300bc5c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@110199af, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@e6a730, org.example.xlr8travel.security.JwtAuthenticationFilter@2c573913, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1acb61b0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5ce2cc8d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@33f3962, org.springframework.security.web.session.ConcurrentSessionFilter@5fc46e05, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e1dbbb6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ba6f732, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64b388fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b5ef44a, org.springframework.security.web.session.SessionManagementFilter@6a7a4b25, org.springframework.security.web.access.ExceptionTranslationFilter@377a174b, org.springframework.security.web.access.intercept.AuthorizationFilter@90f6c16]
2025-05-31 17:51:03.555  INFO [NONE] 23036 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-31 17:51:03.624  INFO [NONE] 23036 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-31 17:51:03.635  INFO [NONE] 23036 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 13.521 seconds (process running for 14.116)
2025-05-31 17:51:18.908  INFO [NONE] 23036 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-31 17:51:18.909  INFO [NONE] 23036 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-31 17:51:18.910  INFO [NONE] 23036 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-31 17:51:18.932 DEBUG [1ba68282-5ede-45eb-8920-f96a601ad6fa] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:19.048 ERROR [1ba68282-5ede-45eb-8920-f96a601ad6fa] 23036 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-31 17:51:19.051 DEBUG [1ba68282-5ede-45eb-8920-f96a601ad6fa] 23036 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:51:19.055  WARN [1ba68282-5ede-45eb-8920-f96a601ad6fa] 23036 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-31 17:51:19.082 DEBUG [1ba68282-5ede-45eb-8920-f96a601ad6fa] 23036 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/user/me?continue to session
2025-05-31 17:51:19.082 DEBUG [1ba68282-5ede-45eb-8920-f96a601ad6fa] 23036 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-31 17:51:19.083 DEBUG [1ba68282-5ede-45eb-8920-f96a601ad6fa] 23036 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@51686342
2025-05-31 17:51:19.271 DEBUG [ddec8c81-ed49-4cde-a17f-dbf4f81384da] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:19.282 ERROR [ddec8c81-ed49-4cde-a17f-dbf4f81384da] 23036 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-31 17:51:19.282 DEBUG [ddec8c81-ed49-4cde-a17f-dbf4f81384da] 23036 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:51:19.287 DEBUG [ddec8c81-ed49-4cde-a17f-dbf4f81384da] 23036 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/user/me?continue to session
2025-05-31 17:51:19.288 DEBUG [ddec8c81-ed49-4cde-a17f-dbf4f81384da] 23036 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-31 17:51:19.288 DEBUG [ddec8c81-ed49-4cde-a17f-dbf4f81384da] 23036 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@51686342
2025-05-31 17:51:19.682 DEBUG [c3dd6802-1689-4595-913c-c3ca2f61c662] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-31 17:51:19.684 DEBUG [c3dd6802-1689-4595-913c-c3ca2f61c662] 23036 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:51:19.689 DEBUG [c3dd6802-1689-4595-913c-c3ca2f61c662] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-31 17:51:19.695 DEBUG [5ba2f500-9ba5-4663-8958-e10e3b3216d3] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-31 17:51:19.697 DEBUG [5ba2f500-9ba5-4663-8958-e10e3b3216d3] 23036 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:51:19.699 DEBUG [5ba2f500-9ba5-4663-8958-e10e3b3216d3] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-31 17:51:19.802  INFO [5ba2f500-9ba5-4663-8958-e10e3b3216d3] 23036 --- [nio-8080-exec-4] o.e.x.controllers.TokenController        : Generated new access token for user: ****@****.***
2025-05-31 17:51:19.802  INFO [c3dd6802-1689-4595-913c-c3ca2f61c662] 23036 --- [nio-8080-exec-3] o.e.x.controllers.TokenController        : Generated new access token for user: ****@****.***
2025-05-31 17:51:20.110 DEBUG [c2c2d94c-c8f0-4762-86c1-77a0f7ab4cf3] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:20.125 ERROR [c2c2d94c-c8f0-4762-86c1-77a0f7ab4cf3] 23036 --- [nio-8080-exec-5] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-31 17:51:20.126 DEBUG [c2c2d94c-c8f0-4762-86c1-77a0f7ab4cf3] 23036 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:51:20.130 DEBUG [c2c2d94c-c8f0-4762-86c1-77a0f7ab4cf3] 23036 --- [nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/user/me?continue to session
2025-05-31 17:51:20.130 DEBUG [c2c2d94c-c8f0-4762-86c1-77a0f7ab4cf3] 23036 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-31 17:51:20.131 DEBUG [c2c2d94c-c8f0-4762-86c1-77a0f7ab4cf3] 23036 --- [nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@51686342
2025-05-31 17:51:20.396 DEBUG [530ba2cc-2f9b-4ce3-8cc1-e1608b3fd6cd] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:20.410 ERROR [530ba2cc-2f9b-4ce3-8cc1-e1608b3fd6cd] 23036 --- [nio-8080-exec-6] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-31 17:51:20.411 DEBUG [530ba2cc-2f9b-4ce3-8cc1-e1608b3fd6cd] 23036 --- [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:51:20.416 DEBUG [530ba2cc-2f9b-4ce3-8cc1-e1608b3fd6cd] 23036 --- [nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/user/me?continue to session
2025-05-31 17:51:20.417 DEBUG [530ba2cc-2f9b-4ce3-8cc1-e1608b3fd6cd] 23036 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-31 17:51:20.417 DEBUG [530ba2cc-2f9b-4ce3-8cc1-e1608b3fd6cd] 23036 --- [nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@51686342
2025-05-31 17:51:21.048 DEBUG [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 17:51:21.055 DEBUG [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:51:21.056 DEBUG [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 20E64D4D55CB8B8E100FE3A368BC88EB
2025-05-31 17:51:21.058 DEBUG [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 17:51:21.067  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 17:51:21.067  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 17:51:21.068  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 17:51:21.069  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-31
2025-05-31 17:51:21.069  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-31
2025-05-31 17:51:21.137  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-31 17:51:21.137  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-31 17:51:21.138  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-31 17:51:21.138  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-31 17:51:21.139  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-31 17:51:21.139  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-31 17:51:21.139  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-31 17:51:21.139  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-31 17:51:21.139  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-31 17:51:21.140  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-31 17:51:21.140  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-31 17:51:21.140  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-31 17:51:21.140  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-31 17:51:21.141  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-31
2025-05-31 17:51:21.141  INFO [df69baae-0df5-4b5a-8ce1-03edad190a79] 23036 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-31 17:51:22.293 DEBUG [67a7eda5-3df3-4b56-a74b-05da39c48b54] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-31 17:51:22.302 DEBUG [67a7eda5-3df3-4b56-a74b-05da39c48b54] 23036 --- [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=cRPKURurmgGJkYKstnAY6W7AtkAH32hSKHfVBIwHSM0%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-31 17:51:24.560 DEBUG [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=cRPKURurmgGJkYKstnAY6W7AtkAH32hSKHfVBIwHSM0%3D&code=4%2F0AUJR-x4JaXBPh7ccCfTlNQPEAIPjokCGtYd2phuBowURegAz6jS6wCZJpVBU6nw4Sq3AiA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-31 17:51:25.031  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-31 17:51:25.107  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-31 17:51:25.110 DEBUG [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D5F40E7CA6435C8D5B838EE2DAE3B864
2025-05-31 17:51:25.110 DEBUG [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session CD5881F3CBD4CCF63438BCAA5D46F454, for principal Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}]
2025-05-31 17:51:25.111 DEBUG [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D5F40E7CA6435C8D5B838EE2DAE3B864], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@50417975]
2025-05-31 17:51:25.112 DEBUG [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D5F40E7CA6435C8D5B838EE2DAE3B864], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-31 17:51:25.113  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-31 17:51:25.114  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-31 17:51:25.114  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-31 17:51:25.114  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-31 17:51:25.114  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-31 17:51:25.115  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-31 17:51:25.115  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-31 17:51:25.115  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-31 17:51:25.115  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-31 17:51:25.115  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-31 17:51:25.116  INFO [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-31 17:51:25.117 DEBUG [ab34c2de-af7e-42a0-a76d-68bc4ea07569] 23036 --- [nio-8080-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-31 17:51:25.697 DEBUG [375c449f-a79c-47a9-8b77-c623b2e045d1] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/oauth/complete
2025-05-31 17:51:25.697 DEBUG [63609b68-6836-4d2b-acf0-c6a2d602da66] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/oauth/complete
2025-05-31 17:51:25.702 DEBUG [c92acb92-9fb9-42da-8f11-2dc5188e0837] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-31 17:51:25.703 DEBUG [fdedfcfc-7afa-4f88-b394-e5510c9e009a] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-31 17:51:25.706 DEBUG [c92acb92-9fb9-42da-8f11-2dc5188e0837] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-31 17:51:25.706 DEBUG [fdedfcfc-7afa-4f88-b394-e5510c9e009a] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-31 17:51:25.708  INFO [fdedfcfc-7afa-4f88-b394-e5510c9e009a] 23036 --- [nio-8080-exec-4] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-31 17:51:25.708  INFO [c92acb92-9fb9-42da-8f11-2dc5188e0837] 23036 --- [nio-8080-exec-2] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-31 17:51:25.710 DEBUG [fdedfcfc-7afa-4f88-b394-e5510c9e009a] 23036 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D5F40E7CA6435C8D5B838EE2DAE3B864], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:51:25.710 DEBUG [c92acb92-9fb9-42da-8f11-2dc5188e0837] 23036 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D5F40E7CA6435C8D5B838EE2DAE3B864], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:51:25.809 DEBUG [5830926d-6ede-49b1-9d14-1e7db38ec917] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 17:51:25.811 DEBUG [5830926d-6ede-49b1-9d14-1e7db38ec917] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 17:51:25.813  INFO [5830926d-6ede-49b1-9d14-1e7db38ec917] 23036 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 17:51:25.813  INFO [5830926d-6ede-49b1-9d14-1e7db38ec917] 23036 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 17:51:25.813  INFO [5830926d-6ede-49b1-9d14-1e7db38ec917] 23036 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 17:51:25.813  INFO [5830926d-6ede-49b1-9d14-1e7db38ec917] 23036 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-31 17:51:25.815 DEBUG [5830926d-6ede-49b1-9d14-1e7db38ec917] 23036 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D5F40E7CA6435C8D5B838EE2DAE3B864], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:51:25.996 DEBUG [6660ac2e-28bd-4a29-b964-f6b1d4df7165] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:26.017 DEBUG [6660ac2e-28bd-4a29-b964-f6b1d4df7165] 23036 --- [nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 719722E9295AC08D1AFF1768A169131B, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:26.018 DEBUG [6660ac2e-28bd-4a29-b964-f6b1d4df7165] 23036 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@76ae5fac]
2025-05-31 17:51:26.020 DEBUG [6660ac2e-28bd-4a29-b964-f6b1d4df7165] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:51:26.023  INFO [6660ac2e-28bd-4a29-b964-f6b1d4df7165] 23036 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:51:26.033  INFO [6660ac2e-28bd-4a29-b964-f6b1d4df7165] 23036 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:51:26.074 DEBUG [81752d86-2de3-48e0-bf66-2f38c2ed82f7] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:51:26.077 DEBUG [fd52f57f-a22c-4baf-be48-b141444f4100] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:26.091 DEBUG [81752d86-2de3-48e0-bf66-2f38c2ed82f7] 23036 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D5F40E7CA6435C8D5B838EE2DAE3B864], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:51:26.097 DEBUG [fd52f57f-a22c-4baf-be48-b141444f4100] 23036 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:26.097 DEBUG [81752d86-2de3-48e0-bf66-2f38c2ed82f7] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:51:26.099 DEBUG [fd52f57f-a22c-4baf-be48-b141444f4100] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:26.100  INFO [fd52f57f-a22c-4baf-be48-b141444f4100] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:26.113  WARN [81752d86-2de3-48e0-bf66-2f38c2ed82f7] 23036 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:51:26.119  INFO [fd52f57f-a22c-4baf-be48-b141444f4100] 23036 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-31 17:51:26.124  WARN [81752d86-2de3-48e0-bf66-2f38c2ed82f7] 23036 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:51:26.146  INFO [fd52f57f-a22c-4baf-be48-b141444f4100] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 17:51:26.263 DEBUG [305d54ed-a827-4e4d-ad23-d1812e3ddd4c] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:26.274 DEBUG [305d54ed-a827-4e4d-ad23-d1812e3ddd4c] 23036 --- [nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session CAD17209B524CB6F7B139DADBF3F0E36, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:26.275 DEBUG [305d54ed-a827-4e4d-ad23-d1812e3ddd4c] 23036 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@30b4ee8c]
2025-05-31 17:51:26.277 DEBUG [305d54ed-a827-4e4d-ad23-d1812e3ddd4c] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:51:26.278  INFO [305d54ed-a827-4e4d-ad23-d1812e3ddd4c] 23036 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:51:26.285  INFO [305d54ed-a827-4e4d-ad23-d1812e3ddd4c] 23036 --- [nio-8080-exec-8] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:51:29.272 DEBUG [e0934901-6036-4632-abad-b8db60d89add] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:29.285 DEBUG [e0934901-6036-4632-abad-b8db60d89add] 23036 --- [nio-8080-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session F78FDFE9802D928512DF1706288BBAB4, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:29.286 DEBUG [e0934901-6036-4632-abad-b8db60d89add] 23036 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@63228c73]
2025-05-31 17:51:29.287 DEBUG [e0934901-6036-4632-abad-b8db60d89add] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:51:29.288  INFO [e0934901-6036-4632-abad-b8db60d89add] 23036 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:51:29.295  INFO [e0934901-6036-4632-abad-b8db60d89add] 23036 --- [nio-8080-exec-9] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:51:29.343 DEBUG [14f2b596-1d4f-4e9c-b28c-fe1b72249249] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:51:29.350 DEBUG [5793d64e-7bb0-4d1a-962d-8b14626d0040] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:51:29.350 DEBUG [f8974e6a-d015-4c25-a516-6226eabcf7fe] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:29.352 DEBUG [5793d64e-7bb0-4d1a-962d-8b14626d0040] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:51:29.358 DEBUG [14f2b596-1d4f-4e9c-b28c-fe1b72249249] 23036 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:29.369 DEBUG [14f2b596-1d4f-4e9c-b28c-fe1b72249249] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:51:29.373  INFO [5793d64e-7bb0-4d1a-962d-8b14626d0040] 23036 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 17:51:29.373  INFO [5793d64e-7bb0-4d1a-962d-8b14626d0040] 23036 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-06-01
2025-05-31 17:51:29.374 DEBUG [f8974e6a-d015-4c25-a516-6226eabcf7fe] 23036 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:29.377 DEBUG [f8974e6a-d015-4c25-a516-6226eabcf7fe] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:29.377  INFO [f8974e6a-d015-4c25-a516-6226eabcf7fe] 23036 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:29.379  WARN [14f2b596-1d4f-4e9c-b28c-fe1b72249249] 23036 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:51:29.380  WARN [14f2b596-1d4f-4e9c-b28c-fe1b72249249] 23036 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:51:29.388 DEBUG [7e20a8f0-fe19-4aaf-b447-e35ad103a369] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:51:29.397  INFO [f8974e6a-d015-4c25-a516-6226eabcf7fe] 23036 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 17:51:29.403 DEBUG [7e20a8f0-fe19-4aaf-b447-e35ad103a369] 23036 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:29.406 DEBUG [7e20a8f0-fe19-4aaf-b447-e35ad103a369] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:51:29.413  WARN [7e20a8f0-fe19-4aaf-b447-e35ad103a369] 23036 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:51:29.414  WARN [7e20a8f0-fe19-4aaf-b447-e35ad103a369] 23036 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:51:29.450  INFO [5793d64e-7bb0-4d1a-962d-8b14626d0040] 23036 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 17:51:29.452 DEBUG [5793d64e-7bb0-4d1a-962d-8b14626d0040] 23036 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:29.459 DEBUG [b2abb98f-5596-420c-a233-2b5efd3c5181] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:51:29.460 DEBUG [b2abb98f-5596-420c-a233-2b5efd3c5181] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:51:29.461  INFO [b2abb98f-5596-420c-a233-2b5efd3c5181] 23036 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 17:51:29.461  INFO [b2abb98f-5596-420c-a233-2b5efd3c5181] 23036 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-06-01
2025-05-31 17:51:29.552  INFO [b2abb98f-5596-420c-a233-2b5efd3c5181] 23036 --- [nio-8080-exec-3] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 17:51:29.554 DEBUG [b2abb98f-5596-420c-a233-2b5efd3c5181] 23036 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:37.435 DEBUG [b14e28f5-a06f-485d-a17c-3409bbedbef5] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-31 17:51:37.446 DEBUG [b14e28f5-a06f-485d-a17c-3409bbedbef5] 23036 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:37.449 DEBUG [b14e28f5-a06f-485d-a17c-3409bbedbef5] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-31 17:51:37.491  INFO [b14e28f5-a06f-485d-a17c-3409bbedbef5] 23036 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 19 to persistent cart
2025-05-31 17:51:37.547  INFO [b14e28f5-a06f-485d-a17c-3409bbedbef5] 23036 --- [nio-8080-exec-5] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 19 to cart for user ****@****.***
2025-05-31 17:51:37.576  INFO [b14e28f5-a06f-485d-a17c-3409bbedbef5] 23036 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Flight ID 19 added/incremented in persistent cart for user ****@****.***.
2025-05-31 17:51:37.588 DEBUG [8425d25d-fec2-4b22-9f29-874f79579e25] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:37.600 DEBUG [8425d25d-fec2-4b22-9f29-874f79579e25] 23036 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:37.602 DEBUG [8425d25d-fec2-4b22-9f29-874f79579e25] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:37.604  INFO [8425d25d-fec2-4b22-9f29-874f79579e25] 23036 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:37.703  INFO [8425d25d-fec2-4b22-9f29-874f79579e25] 23036 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:51:38.835 DEBUG [8da0a764-1d8c-4301-920e-ad6fe0029e61] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:38.851 DEBUG [8da0a764-1d8c-4301-920e-ad6fe0029e61] 23036 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:38.853 DEBUG [8da0a764-1d8c-4301-920e-ad6fe0029e61] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:38.854  INFO [8da0a764-1d8c-4301-920e-ad6fe0029e61] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:38.903  INFO [8da0a764-1d8c-4301-920e-ad6fe0029e61] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:51:38.911 DEBUG [d9a0c581-2df2-4167-a139-d7fb7b368093] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:38.924 DEBUG [d9a0c581-2df2-4167-a139-d7fb7b368093] 23036 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:38.927 DEBUG [d9a0c581-2df2-4167-a139-d7fb7b368093] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:38.928  INFO [d9a0c581-2df2-4167-a139-d7fb7b368093] 23036 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:38.976  INFO [d9a0c581-2df2-4167-a139-d7fb7b368093] 23036 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:51:42.616 DEBUG [c5e4694d-6160-4b55-8726-30ca8289880b] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:42.656 DEBUG [c5e4694d-6160-4b55-8726-30ca8289880b] 23036 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:42.659 DEBUG [c5e4694d-6160-4b55-8726-30ca8289880b] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:42.662  INFO [c5e4694d-6160-4b55-8726-30ca8289880b] 23036 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:42.752  INFO [c5e4694d-6160-4b55-8726-30ca8289880b] 23036 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:51:42.765 DEBUG [53c41428-4762-4aca-b60a-37eea5b2517a] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:42.791 DEBUG [53c41428-4762-4aca-b60a-37eea5b2517a] 23036 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:42.793 DEBUG [53c41428-4762-4aca-b60a-37eea5b2517a] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:42.794  INFO [53c41428-4762-4aca-b60a-37eea5b2517a] 23036 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:42.860  INFO [53c41428-4762-4aca-b60a-37eea5b2517a] 23036 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:51:43.863 DEBUG [99209f35-fb61-4477-a288-2a6e51ca8a19] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:43.879 DEBUG [99209f35-fb61-4477-a288-2a6e51ca8a19] 23036 --- [nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Registering session 5192EB2FA56EF8AB324B91F30E907019, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:43.880 DEBUG [99209f35-fb61-4477-a288-2a6e51ca8a19] 23036 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3d0e1dda]
2025-05-31 17:51:43.882 DEBUG [99209f35-fb61-4477-a288-2a6e51ca8a19] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:51:43.883  INFO [99209f35-fb61-4477-a288-2a6e51ca8a19] 23036 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:51:43.892  INFO [99209f35-fb61-4477-a288-2a6e51ca8a19] 23036 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:51:44.085 DEBUG [f54ba51f-ee73-4fe1-b510-8479d3a900e0] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:51:44.085 DEBUG [f1c7ff79-04ba-4850-b95f-3108f94b9ec6] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:51:44.090 DEBUG [1e8cb117-14d2-4649-82a2-455a85cd786b] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:51:44.098 DEBUG [7bc692ab-f189-4b06-9e40-5bd18790490e] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:51:44.106 DEBUG [55f9321b-b5fd-4720-aad5-c99e6fbff376] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:51:44.110 DEBUG [a59cd671-793e-42e8-bcea-6c7fc06f5686] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:51:44.129 DEBUG [7bc692ab-f189-4b06-9e40-5bd18790490e] 23036 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:44.131 DEBUG [55f9321b-b5fd-4720-aad5-c99e6fbff376] 23036 --- [nio-8080-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session 8A9CE8DFA5737B3F3BE25768243C7FC8, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:44.132 DEBUG [7bc692ab-f189-4b06-9e40-5bd18790490e] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:51:44.131 DEBUG [1e8cb117-14d2-4649-82a2-455a85cd786b] 23036 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:44.132 DEBUG [55f9321b-b5fd-4720-aad5-c99e6fbff376] 23036 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@68f27b32]
2025-05-31 17:51:44.133  INFO [7bc692ab-f189-4b06-9e40-5bd18790490e] 23036 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:51:44.134 DEBUG [55f9321b-b5fd-4720-aad5-c99e6fbff376] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:51:44.133 DEBUG [a59cd671-793e-42e8-bcea-6c7fc06f5686] 23036 --- [nio-8080-exec-7] o.s.s.core.session.SessionRegistryImpl   : Registering session 9C31C5A25D24ADBF3C3486467B639588, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:44.135 DEBUG [a59cd671-793e-42e8-bcea-6c7fc06f5686] 23036 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@784707e6]
2025-05-31 17:51:44.135 DEBUG [1e8cb117-14d2-4649-82a2-455a85cd786b] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:51:44.137 DEBUG [a59cd671-793e-42e8-bcea-6c7fc06f5686] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:51:44.137  INFO [a59cd671-793e-42e8-bcea-6c7fc06f5686] 23036 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:51:44.144  WARN [1e8cb117-14d2-4649-82a2-455a85cd786b] 23036 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:51:44.135 ERROR [55f9321b-b5fd-4720-aad5-c99e6fbff376] 23036 --- [nio-8080-exec-6] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:51:44.144  INFO [a59cd671-793e-42e8-bcea-6c7fc06f5686] 23036 --- [nio-8080-exec-7] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:51:44.146  WARN [1e8cb117-14d2-4649-82a2-455a85cd786b] 23036 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:51:44.150 DEBUG [3f399262-2cf8-4dc1-a1cb-30a6356bfc17] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:51:44.159 DEBUG [96fd764d-3efd-48e1-aa18-b2b3037d964c] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:51:44.167 DEBUG [3f399262-2cf8-4dc1-a1cb-30a6356bfc17] 23036 --- [nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 4561D7F41DDD45E65EE61C823DB19392, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:44.169 DEBUG [3f399262-2cf8-4dc1-a1cb-30a6356bfc17] 23036 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@66c93e5]
2025-05-31 17:51:44.170 DEBUG [3f399262-2cf8-4dc1-a1cb-30a6356bfc17] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:51:44.172 ERROR [3f399262-2cf8-4dc1-a1cb-30a6356bfc17] 23036 --- [nio-8080-exec-8] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:51:44.182 DEBUG [96fd764d-3efd-48e1-aa18-b2b3037d964c] 23036 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:44.186 DEBUG [96fd764d-3efd-48e1-aa18-b2b3037d964c] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:51:44.195  WARN [96fd764d-3efd-48e1-aa18-b2b3037d964c] 23036 --- [nio-8080-exec-9] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:51:44.196  WARN [96fd764d-3efd-48e1-aa18-b2b3037d964c] 23036 --- [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:51:44.221  INFO [7bc692ab-f189-4b06-9e40-5bd18790490e] 23036 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:51:47.101 DEBUG [5f1e1f3b-4239-4713-91f8-099feb8e7063] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 17:51:47.104 DEBUG [5f1e1f3b-4239-4713-91f8-099feb8e7063] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 17:51:47.105  INFO [5f1e1f3b-4239-4713-91f8-099feb8e7063] 23036 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 17:51:47.105  INFO [5f1e1f3b-4239-4713-91f8-099feb8e7063] 23036 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 17:51:47.106  INFO [5f1e1f3b-4239-4713-91f8-099feb8e7063] 23036 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 17:51:47.106  INFO [5f1e1f3b-4239-4713-91f8-099feb8e7063] 23036 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-31 17:51:47.108 DEBUG [5f1e1f3b-4239-4713-91f8-099feb8e7063] 23036 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:51:47.639 DEBUG [5dc16463-a2d1-4123-a9f8-f85c1ae79621] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:51:47.655 DEBUG [5dc16463-a2d1-4123-a9f8-f85c1ae79621] 23036 --- [nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Registering session CE11D17D31C1EEEB76E9BD8E8B854B3E, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:47.655 DEBUG [5dc16463-a2d1-4123-a9f8-f85c1ae79621] 23036 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2d4b2c4c]
2025-05-31 17:51:47.658 DEBUG [5dc16463-a2d1-4123-a9f8-f85c1ae79621] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:51:47.658 ERROR [5dc16463-a2d1-4123-a9f8-f85c1ae79621] 23036 --- [nio-8080-exec-4] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:51:47.665 DEBUG [dd4a06f5-7a2e-4dca-a455-d9464d0ce2bf] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:51:47.676 DEBUG [dd4a06f5-7a2e-4dca-a455-d9464d0ce2bf] 23036 --- [nio-8080-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session DD5F17660BB10F4F435644CB976662E6, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:51:47.677 DEBUG [dd4a06f5-7a2e-4dca-a455-d9464d0ce2bf] 23036 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@f7a7bab]
2025-05-31 17:51:47.679 DEBUG [dd4a06f5-7a2e-4dca-a455-d9464d0ce2bf] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:51:47.680 ERROR [dd4a06f5-7a2e-4dca-a455-d9464d0ce2bf] 23036 --- [nio-8080-exec-2] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:52:10.736 DEBUG [72b47c77-6305-4fdc-9473-b1a862766ad8] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/create-payment-intent
2025-05-31 17:52:10.736 DEBUG [72b47c77-6305-4fdc-9473-b1a862766ad8] 23036 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:52:10.737 DEBUG [72b47c77-6305-4fdc-9473-b1a862766ad8] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/create-payment-intent
2025-05-31 17:52:10.757  INFO [72b47c77-6305-4fdc-9473-b1a862766ad8] 23036 --- [nio-8080-exec-1] o.e.x.controllers.PaymentController      : Creating payment intent for amount: 34495 ron
2025-05-31 17:52:11.483  INFO [72b47c77-6305-4fdc-9473-b1a862766ad8] 23036 --- [nio-8080-exec-1] o.e.x.controllers.PaymentController      : Payment intent created successfully: pi_3RUqldGf8s1WZJnq1hDHX4VP
2025-05-31 17:52:13.167 DEBUG [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/confirm
2025-05-31 17:52:13.178 DEBUG [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:13.179 DEBUG [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/confirm
2025-05-31 17:52:13.180  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CheckoutController     : Received purchase confirmation request.
2025-05-31 17:52:13.186  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CheckoutController     : Processing purchase for user: ****@****.***
2025-05-31 17:52:13.224  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CheckoutController     : User ****@****.*** persistent cart has 1 items.
2025-05-31 17:52:13.225  WARN [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CheckoutController     : !!! SIMULATING successful payment processing for user ****@****.*** !!!
2025-05-31 17:52:13.226  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.services.OrderServiceImpl          : Creating order from persistent cart for user: ****@****.***
2025-05-31 17:52:13.232  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.services.OrderServiceImpl          : Order 1 created for user ****@****.***, status: PENDING_PAYMENT. Total: 35.99
2025-05-31 17:52:13.232  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.services.OrderServiceImpl          : Created ticket for flight XT-OTP-AMS-1 for user ****@****.***
2025-05-31 17:52:14.829  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.services.EmailServiceImpl          : Purchase confirmation email sent to ****@****.***
2025-05-31 17:52:14.829  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.services.OrderServiceImpl          : Purchase confirmation email sent to user: ****@****.***
2025-05-31 17:52:14.841  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CheckoutController     : Order successfully created for user ****@****.***. Confirmation: 1
2025-05-31 17:52:14.847  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.xlr8travel.services.CartServiceImpl  : Clearing 1 items from cart for user ****@****.***
2025-05-31 17:52:14.869  INFO [63ba729f-ec82-447a-ace0-4e8061ec194c] 23036 --- [nio-8080-exec-7] o.e.x.controllers.CheckoutController     : Persistent cart cleared for user ****@****.***.
2025-05-31 17:52:14.879 DEBUG [f9e15354-39fc-4f8a-9cf2-c979f28ed87a] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/19
2025-05-31 17:52:14.971 DEBUG [f9e15354-39fc-4f8a-9cf2-c979f28ed87a] 23036 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:14.972 DEBUG [f9e15354-39fc-4f8a-9cf2-c979f28ed87a] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/19
2025-05-31 17:52:15.066  INFO [f9e15354-39fc-4f8a-9cf2-c979f28ed87a] 23036 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 19 from persistent cart
2025-05-31 17:52:15.075  WARN [f9e15354-39fc-4f8a-9cf2-c979f28ed87a] 23036 --- [nio-8080-exec-3] o.e.xlr8travel.services.CartServiceImpl  : Attempted to remove flight ID 19 not found in cart for user ****@****.***
2025-05-31 17:52:15.078  WARN [f9e15354-39fc-4f8a-9cf2-c979f28ed87a] 23036 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Attempted to remove flight ID 19 not found in persistent cart for user ****@****.***
2025-05-31 17:52:15.088 DEBUG [8d1710e8-e7c2-4e24-8b0b-f2292a992c3a] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:52:15.183 DEBUG [8d1710e8-e7c2-4e24-8b0b-f2292a992c3a] 23036 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:15.184 DEBUG [8d1710e8-e7c2-4e24-8b0b-f2292a992c3a] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:52:15.185  INFO [8d1710e8-e7c2-4e24-8b0b-f2292a992c3a] 23036 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:52:15.276  INFO [8d1710e8-e7c2-4e24-8b0b-f2292a992c3a] 23036 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 17:52:17.028 DEBUG [e878fb09-2ab1-4c9c-8976-5f360e943fbc] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:52:17.136 DEBUG [e878fb09-2ab1-4c9c-8976-5f360e943fbc] 23036 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:17.138 DEBUG [e878fb09-2ab1-4c9c-8976-5f360e943fbc] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:52:17.235  INFO [e878fb09-2ab1-4c9c-8976-5f360e943fbc] 23036 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:52:17.236  INFO [e878fb09-2ab1-4c9c-8976-5f360e943fbc] 23036 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:52:17.242  INFO [e878fb09-2ab1-4c9c-8976-5f360e943fbc] 23036 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-31 17:52:17.267 DEBUG [4b3f62c4-823b-4f1d-accd-37d534361423] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:52:17.366 DEBUG [4b3f62c4-823b-4f1d-accd-37d534361423] 23036 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:17.369 DEBUG [4b3f62c4-823b-4f1d-accd-37d534361423] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:52:17.468  INFO [4b3f62c4-823b-4f1d-accd-37d534361423] 23036 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:52:17.469  INFO [4b3f62c4-823b-4f1d-accd-37d534361423] 23036 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:52:17.474  INFO [4b3f62c4-823b-4f1d-accd-37d534361423] 23036 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-31 17:52:18.187 DEBUG [cf47abf2-6938-4984-85ed-86e4ee99507c] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/19/booked-seats
2025-05-31 17:52:18.306 DEBUG [cf47abf2-6938-4984-85ed-86e4ee99507c] 23036 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:18.309 DEBUG [cf47abf2-6938-4984-85ed-86e4ee99507c] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/19/booked-seats
2025-05-31 17:52:18.310  INFO [cf47abf2-6938-4984-85ed-86e4ee99507c] 23036 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 19
2025-05-31 17:52:18.310  INFO [cf47abf2-6938-4984-85ed-86e4ee99507c] 23036 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 19
2025-05-31 17:52:18.362 DEBUG [1db63f0c-3161-481f-8021-cb745ffb7591] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/19/booked-seats
2025-05-31 17:52:18.465 DEBUG [1db63f0c-3161-481f-8021-cb745ffb7591] 23036 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:18.468 DEBUG [1db63f0c-3161-481f-8021-cb745ffb7591] 23036 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/19/booked-seats
2025-05-31 17:52:18.469  INFO [1db63f0c-3161-481f-8021-cb745ffb7591] 23036 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 19
2025-05-31 17:52:18.469  INFO [1db63f0c-3161-481f-8021-cb745ffb7591] 23036 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 19
2025-05-31 17:52:20.263 DEBUG [090256a7-c79d-46aa-be3a-f82980737840] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/check-in/3/with-seat
2025-05-31 17:52:20.357 DEBUG [090256a7-c79d-46aa-be3a-f82980737840] 23036 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:20.360 DEBUG [090256a7-c79d-46aa-be3a-f82980737840] 23036 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/check-in/3/with-seat
2025-05-31 17:52:20.450  INFO [090256a7-c79d-46aa-be3a-f82980737840] 23036 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Checking in ticket 3 with seat for user: ****@****.***
2025-05-31 17:52:20.455  INFO [090256a7-c79d-46aa-be3a-f82980737840] 23036 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Checking in ticket 3 with seat 1B of type SEAT_TYPE_UPFRONT
2025-05-31 17:52:20.456  INFO [090256a7-c79d-46aa-be3a-f82980737840] 23036 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Checking if seat 1B is booked for flight 19
2025-05-31 17:52:20.462  INFO [090256a7-c79d-46aa-be3a-f82980737840] 23036 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Successfully checked in ticket 3 with seat 1B
2025-05-31 17:52:22.246 DEBUG [f2ae54f2-f43a-4b16-9192-c09c30497dbb] 23036 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:52:22.252 DEBUG [04bb7fa6-f6b3-47f5-84d1-693ce3506d77] 23036 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:52:22.253 DEBUG [b44f162c-b811-4c76-ac41-2367e80625a6] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:52:22.352 DEBUG [b44f162c-b811-4c76-ac41-2367e80625a6] 23036 --- [nio-8080-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session B6EB5ECB90BCDBAED018EF1A9891E9E6, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:52:22.353 DEBUG [b44f162c-b811-4c76-ac41-2367e80625a6] 23036 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1b9c2d2a]
2025-05-31 17:52:22.354 DEBUG [b44f162c-b811-4c76-ac41-2367e80625a6] 23036 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:52:22.355 ERROR [b44f162c-b811-4c76-ac41-2367e80625a6] 23036 --- [nio-8080-exec-3] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:52:22.361 DEBUG [3c1df5a3-ce7f-4f11-b25f-329b4bbfabf5] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:52:22.470 DEBUG [3c1df5a3-ce7f-4f11-b25f-329b4bbfabf5] 23036 --- [nio-8080-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session 25EFF355C56E9B7F5430684B1F3A8F20, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:52:22.471 DEBUG [3c1df5a3-ce7f-4f11-b25f-329b4bbfabf5] 23036 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6b0064ad]
2025-05-31 17:52:22.474 DEBUG [3c1df5a3-ce7f-4f11-b25f-329b4bbfabf5] 23036 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:52:22.474 ERROR [3c1df5a3-ce7f-4f11-b25f-329b4bbfabf5] 23036 --- [nio-8080-exec-6] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:52:23.704 DEBUG [850a8f40-2ce0-4c4b-a2ce-becfa20df2bf] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:52:23.821 DEBUG [850a8f40-2ce0-4c4b-a2ce-becfa20df2bf] 23036 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:23.823 DEBUG [850a8f40-2ce0-4c4b-a2ce-becfa20df2bf] 23036 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:52:23.921  INFO [850a8f40-2ce0-4c4b-a2ce-becfa20df2bf] 23036 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:52:23.922  INFO [850a8f40-2ce0-4c4b-a2ce-becfa20df2bf] 23036 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:52:23.927  INFO [850a8f40-2ce0-4c4b-a2ce-becfa20df2bf] 23036 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-31 17:52:23.935 DEBUG [37a300cb-7648-41a5-bcf5-72590d1259aa] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:52:24.027 DEBUG [37a300cb-7648-41a5-bcf5-72590d1259aa] 23036 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD5881F3CBD4CCF63438BCAA5D46F454], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:52:24.029 DEBUG [37a300cb-7648-41a5-bcf5-72590d1259aa] 23036 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:52:24.111  INFO [37a300cb-7648-41a5-bcf5-72590d1259aa] 23036 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:52:24.111  INFO [37a300cb-7648-41a5-bcf5-72590d1259aa] 23036 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:52:24.117  INFO [37a300cb-7648-41a5-bcf5-72590d1259aa] 23036 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-31 17:52:24.833 DEBUG [54048d4e-838a-4c60-9080-e07955a68baf] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:52:24.949 DEBUG [54048d4e-838a-4c60-9080-e07955a68baf] 23036 --- [nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session A2C99A141D8C54045844787718DCC568, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:52:24.949 DEBUG [54048d4e-838a-4c60-9080-e07955a68baf] 23036 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1d2982c4]
2025-05-31 17:52:24.951 DEBUG [54048d4e-838a-4c60-9080-e07955a68baf] 23036 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:52:24.952 ERROR [54048d4e-838a-4c60-9080-e07955a68baf] 23036 --- [nio-8080-exec-5] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:52:24.959 DEBUG [88cc8fe5-cd96-488c-acc4-42950b6a1373] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:52:25.064 DEBUG [88cc8fe5-cd96-488c-acc4-42950b6a1373] 23036 --- [io-8080-exec-10] o.s.s.core.session.SessionRegistryImpl   : Registering session F630BCAF4B87FE10590D124E393D3344, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:52:25.064 DEBUG [88cc8fe5-cd96-488c-acc4-42950b6a1373] 23036 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:51:25.093106, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4239f925]
2025-05-31 17:52:25.066 DEBUG [88cc8fe5-cd96-488c-acc4-42950b6a1373] 23036 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:52:25.067 ERROR [88cc8fe5-cd96-488c-acc4-42950b6a1373] 23036 --- [io-8080-exec-10] o.e.x.c.BoardingPassController           : Error fetching boarding passes for user: ****@****.***

java.lang.UnsupportedOperationException: Implement getUserIdFromUsername - inject UserService and uncomment above
	at org.example.xlr8travel.controllers.BoardingPassController.getUserIdFromUsername(BoardingPassController.java:104)
	at org.example.xlr8travel.controllers.BoardingPassController.getBoardingPasses(BoardingPassController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:925)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:47)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.security.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.example.xlr8travel.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.xlr8travel.config.RequestIdFilter.doFilter(RequestIdFilter.java:45)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-05-31 17:53:46.243  INFO [NONE] 23036 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-31 17:53:46.246  INFO [NONE] 23036 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-31 17:53:46.252  INFO [NONE] 23036 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-31 17:54:01.397  INFO [NONE] 14276 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Starting Xlr8travelApplication using Java 21.0.5 with PID 14276 (C:\Users\razvi\Desktop\Licenta\backend\target\classes started by razvi in C:\Users\razvi\Desktop\Licenta\backend)
2025-05-31 17:54:01.403 DEBUG [NONE] 14276 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-05-31 17:54:01.404  INFO [NONE] 14276 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : The following 1 profile is active: "local"
2025-05-31 17:54:01.446  INFO [NONE] 14276 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-31 17:54:01.447  INFO [NONE] 14276 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-31 17:54:02.435  INFO [NONE] 14276 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-31 17:54:02.550  INFO [NONE] 14276 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 9 JPA repository interfaces.
2025-05-31 17:54:03.374  INFO [NONE] 14276 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-31 17:54:03.385  INFO [NONE] 14276 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-31 17:54:03.386  INFO [NONE] 14276 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-31 17:54:03.461  INFO [NONE] 14276 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-31 17:54:03.462  INFO [NONE] 14276 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2014 ms
2025-05-31 17:54:03.722  INFO [NONE] 14276 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-31 17:54:03.776  INFO [NONE] 14276 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-31 17:54:03.809  INFO [NONE] 14276 --- [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-31 17:54:04.012  INFO [NONE] 14276 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-31 17:54:04.040  INFO [NONE] 14276 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-31 17:54:04.187  INFO [NONE] 14276 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@312d45e1
2025-05-31 17:54:04.189  INFO [NONE] 14276 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-31 17:54:04.232  WARN [NONE] 14276 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-31 17:54:05.358  INFO [NONE] 14276 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-31 17:54:12.257  INFO [NONE] 14276 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-31 17:54:12.569  INFO [NONE] 14276 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-31 17:54:12.992  WARN [NONE] 14276 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [25EFF355C56E9B7F5430684B1F3A8F20]
2025-05-31 17:54:12.994 ERROR [NONE] 14276 --- [  restartedMain] o.a.catalina.session.StandardManager     : Exception loading sessions from persistent storage

java.io.StreamCorruptedException: invalid type code: 00
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1793)
	at java.base/java.io.ObjectInputStream$FieldValues.<init>(ObjectInputStream.java:2618)
	at java.base/java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:678)
	at java.base/java.lang.Throwable.readObject(Throwable.java:936)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1102)
	at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2444)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2284)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1762)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:540)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:498)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1348)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:985)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:346)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4893)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.example.xlr8travel.Xlr8travelApplication.main(Xlr8travelApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)

2025-05-31 17:54:13.001 DEBUG [NONE] 14276 --- [  restartedMain] o.e.x.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-31 17:54:13.003 DEBUG [NONE] 14276 --- [  restartedMain] o.e.x.security.RateLimitingFilter        : Filter 'rateLimitingFilter' configured for use
2025-05-31 17:54:13.194  INFO [NONE] 14276 --- [  restartedMain] o.e.x.config.LocalPropertiesConfig       : Loaded application-local.properties
2025-05-31 17:54:13.521  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : === GEMINI SERVICE CONFIGURATION ===
2025-05-31 17:54:13.522  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Project ID: xlr8travel
2025-05-31 17:54:13.522  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Location ID: us-east1
2025-05-31 17:54:13.522  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Model: gemini-2.0-flash-001
2025-05-31 17:54:13.522  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : Credentials Path: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:54:13.523  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : API Key: ***SET***
2025-05-31 17:54:13.523  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ Credentials file exists: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:54:13.523  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ Credentials file size: 2376 bytes
2025-05-31 17:54:13.524  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : ✅ GOOGLE_APPLICATION_CREDENTIALS env var is set: E:\\Downloads\\xlr8travel-9c86a78a37ca.json
2025-05-31 17:54:13.524  INFO [NONE] 14276 --- [  restartedMain] o.e.x.services.GeminiServiceImpl         : =====================================
2025-05-31 17:54:13.545  INFO [NONE] 14276 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Validating sensitive data configuration for profile: local
2025-05-31 17:54:13.546  WARN [NONE] 14276 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_URL is not set
2025-05-31 17:54:13.546  WARN [NONE] 14276 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_USERNAME is not set
2025-05-31 17:54:13.546  WARN [NONE] 14276 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable SPRING_DATASOURCE_PASSWORD is not set
2025-05-31 17:54:13.546  WARN [NONE] 14276 --- [  restartedMain] o.e.x.config.SensitiveDataConfig         : Environment variable STRIPE_SECRET_KEY is not set
2025-05-31 17:54:13.592  WARN [NONE] 14276 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-31 17:54:13.712  INFO [NONE] 14276 --- [  restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-05-31 17:54:13.992  INFO [NONE] 14276 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-05-31 17:54:14.093  INFO [NONE] 14276 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17691730, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dab628e, org.springframework.security.web.context.SecurityContextHolderFilter@12bdc4b2, org.springframework.security.web.header.HeaderWriterFilter@2d3348ed, org.springframework.web.filter.CorsFilter@13bedc83, org.springframework.security.web.authentication.logout.LogoutFilter@311a80fc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1296f219, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f51679d, org.example.xlr8travel.security.JwtAuthenticationFilter@2f53457f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f54bf8c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@79003fad, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2f59421, org.springframework.security.web.session.ConcurrentSessionFilter@18683c53, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@202dde8d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e81c98f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3435e944, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d7ad3d8, org.springframework.security.web.session.SessionManagementFilter@696aee39, org.springframework.security.web.access.ExceptionTranslationFilter@1aafaf8c, org.springframework.security.web.access.intercept.AuthorizationFilter@172c97f7]
2025-05-31 17:54:14.603  INFO [NONE] 14276 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-31 17:54:14.670  INFO [NONE] 14276 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-31 17:54:14.680  INFO [NONE] 14276 --- [  restartedMain] o.e.xlr8travel.Xlr8travelApplication     : Started Xlr8travelApplication in 13.726 seconds (process running for 14.321)
2025-05-31 17:54:28.947  INFO [NONE] 14276 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-31 17:54:28.948  INFO [NONE] 14276 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-31 17:54:28.950  INFO [NONE] 14276 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-31 17:54:28.968 DEBUG [8c120685-32ec-4b45-ba81-5990d629242d] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:54:29.136 ERROR [8c120685-32ec-4b45-ba81-5990d629242d] 14276 --- [nio-8080-exec-1] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-31 17:54:29.143 DEBUG [8c120685-32ec-4b45-ba81-5990d629242d] 14276 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:54:29.152  WARN [8c120685-32ec-4b45-ba81-5990d629242d] 14276 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/user/me' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-05-31 17:54:29.186 DEBUG [8c120685-32ec-4b45-ba81-5990d629242d] 14276 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/user/me?continue to session
2025-05-31 17:54:29.187 DEBUG [8c120685-32ec-4b45-ba81-5990d629242d] 14276 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-31 17:54:29.187 DEBUG [8c120685-32ec-4b45-ba81-5990d629242d] 14276 --- [nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@39f051ec
2025-05-31 17:54:29.414 DEBUG [987c1c4a-8fe8-487f-824f-eaefab8a5cc8] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/token/refresh
2025-05-31 17:54:29.415 DEBUG [987c1c4a-8fe8-487f-824f-eaefab8a5cc8] 14276 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:54:29.418 DEBUG [987c1c4a-8fe8-487f-824f-eaefab8a5cc8] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/token/refresh
2025-05-31 17:54:29.493  INFO [987c1c4a-8fe8-487f-824f-eaefab8a5cc8] 14276 --- [nio-8080-exec-3] o.e.x.controllers.TokenController        : Generated new access token for user: ****@****.***
2025-05-31 17:54:29.725 DEBUG [4089365a-1cb2-4b4e-ae8f-9718c601acc4] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:54:29.738 ERROR [4089365a-1cb2-4b4e-ae8f-9718c601acc4] 14276 --- [nio-8080-exec-2] o.e.x.security.JwtAuthenticationFilter   : Cannot set user authentication: User ****@****.*** not found
2025-05-31 17:54:29.739 DEBUG [4089365a-1cb2-4b4e-ae8f-9718c601acc4] 14276 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:54:29.742 DEBUG [4089365a-1cb2-4b4e-ae8f-9718c601acc4] 14276 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/user/me?continue to session
2025-05-31 17:54:29.743 DEBUG [4089365a-1cb2-4b4e-ae8f-9718c601acc4] 14276 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Ant [pattern='/api/**']
2025-05-31 17:54:29.743 DEBUG [4089365a-1cb2-4b4e-ae8f-9718c601acc4] 14276 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@39f051ec
2025-05-31 17:54:31.110 DEBUG [6dd2c804-7e9a-468b-ac7d-4501abac41cf] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-05-31 17:54:31.126 DEBUG [6dd2c804-7e9a-468b-ac7d-4501abac41cf] 14276 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=280181287068-i92p696f0ja6qv5lecrhi4dmn2hsrvie.apps.googleusercontent.com&scope=email%20profile&state=xIgrtfMYFHIdmi2mTPXnE7vifOmwD6Etq43uCuJMnpQ%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2025-05-31 17:54:32.909 DEBUG [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/google?state=xIgrtfMYFHIdmi2mTPXnE7vifOmwD6Etq43uCuJMnpQ%3D&code=4%2F0AUJR-x4GwKIKNb_vvPvHT2s3LzEdgENQJJ51nuXQWZM0kX5JuQ4uT7FBDnfuUj8BkxkiHQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none
2025-05-31 17:54:33.427  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Creating new user from OAuth2 login: ****@****.***
2025-05-31 17:54:33.506  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] o.e.x.security.CustomOAuth2UserService   : Successfully created new user from OAuth2 login: ****@****.***
2025-05-31 17:54:33.508 DEBUG [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 229E1EA1E9A559D845AC697484013A4A
2025-05-31 17:54:33.509 DEBUG [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 3315038BA9713A7DC28325B9845246CB, for principal Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}]
2025-05-31 17:54:33.510 DEBUG [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=229E1EA1E9A559D845AC697484013A4A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4343da57]
2025-05-31 17:54:33.511 DEBUG [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=229E1EA1E9A559D845AC697484013A4A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-05-31 17:54:33.514  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-31 17:54:33.514  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-31 17:54:33.514  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-31 17:54:33.514  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-31 17:54:33.515  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-31 17:54:33.515  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Extracting username from authentication: 104658082982173093135
2025-05-31 17:54:33.516  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal class: org.springframework.security.oauth2.core.user.DefaultOAuth2User
2025-05-31 17:54:33.516  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Principal is DefaultOAuth2User
2025-05-31 17:54:33.516  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}
2025-05-31 17:54:33.517  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : Using email as username: ****@****.***
2025-05-31 17:54:33.517  INFO [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] e.x.s.OAuth2AuthenticationSuccessHandler : OAuth tokens stored in session for user: ****@****.***
2025-05-31 17:54:33.517 DEBUG [a7ed62a2-a7eb-47cf-83c2-b30ff7bb3e9e] 14276 --- [nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:3000?oauth=success
2025-05-31 17:54:34.154 DEBUG [dc3dc31b-ffff-4b44-b2c2-3ef198d48614] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/oauth/complete
2025-05-31 17:54:34.158 DEBUG [1dac4999-004e-4898-9601-00fb7997b9e8] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/oauth/complete
2025-05-31 17:54:34.193 DEBUG [b61de35a-4be5-4cf7-97ba-e43998a1ce22] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-31 17:54:34.195 DEBUG [55a83a75-92c6-4e8b-820a-054bc6df473c] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/oauth/complete
2025-05-31 17:54:34.198 DEBUG [b61de35a-4be5-4cf7-97ba-e43998a1ce22] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-31 17:54:34.198 DEBUG [55a83a75-92c6-4e8b-820a-054bc6df473c] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/oauth/complete
2025-05-31 17:54:34.200  INFO [55a83a75-92c6-4e8b-820a-054bc6df473c] 14276 --- [nio-8080-exec-9] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-31 17:54:34.200  INFO [b61de35a-4be5-4cf7-97ba-e43998a1ce22] 14276 --- [nio-8080-exec-8] o.e.x.controllers.OAuthController        : OAuth tokens retrieved and cleared from session for user: ****@****.***
2025-05-31 17:54:34.203 DEBUG [55a83a75-92c6-4e8b-820a-054bc6df473c] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=229E1EA1E9A559D845AC697484013A4A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:54:34.203 DEBUG [b61de35a-4be5-4cf7-97ba-e43998a1ce22] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=229E1EA1E9A559D845AC697484013A4A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:54:34.249 DEBUG [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 17:54:34.253 DEBUG [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 17:54:34.264  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 17:54:34.264  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 17:54:34.265  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 17:54:34.265  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-31
2025-05-31 17:54:34.265  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-31
2025-05-31 17:54:34.373  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-31 17:54:34.374  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-31 17:54:34.375  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-31 17:54:34.375  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-31 17:54:34.376  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-31 17:54:34.376  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-31 17:54:34.376  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-31 17:54:34.376  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-31 17:54:34.377  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-31 17:54:34.377  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-31 17:54:34.377  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-31 17:54:34.377  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-31 17:54:34.378  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-31 17:54:34.378  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-31
2025-05-31 17:54:34.379  INFO [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-31 17:54:34.390 DEBUG [7db9f823-461d-4cd6-8a7f-7a90dbb3d3c8] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=229E1EA1E9A559D845AC697484013A4A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:54:34.479 DEBUG [b18d10ec-9dd4-45a2-8b8e-28de23c5b179] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:54:34.500 DEBUG [b18d10ec-9dd4-45a2-8b8e-28de23c5b179] 14276 --- [nio-8080-exec-1] o.s.s.core.session.SessionRegistryImpl   : Registering session A536849D1C1B66C679462E3E2DA89E2D, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:54:34.501 DEBUG [b18d10ec-9dd4-45a2-8b8e-28de23c5b179] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@226472c1]
2025-05-31 17:54:34.505 DEBUG [b18d10ec-9dd4-45a2-8b8e-28de23c5b179] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:54:34.507  INFO [b18d10ec-9dd4-45a2-8b8e-28de23c5b179] 14276 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:54:34.517  INFO [b18d10ec-9dd4-45a2-8b8e-28de23c5b179] 14276 --- [nio-8080-exec-1] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:54:34.558 DEBUG [050c55b3-349b-454b-a261-458c13deb50e] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:54:34.558 DEBUG [e3c67ce1-f8e5-4130-b681-45e786a37854] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:54:34.576 DEBUG [e3c67ce1-f8e5-4130-b681-45e786a37854] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [104658082982173093135], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=104658082982173093135, name=Razvan Uleia, given_name=Razvan, family_name=Uleia, picture=https://lh3.googleusercontent.com/a/ACg8ocJi61HPFJ4MxC53TnL4U_AL4Tuu_gASX5yvf0NxGSQWc6-YeA=s96-c, email=****@****.***, email_verified=true}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=229E1EA1E9A559D845AC697484013A4A], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]
2025-05-31 17:54:34.584 DEBUG [e3c67ce1-f8e5-4130-b681-45e786a37854] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:54:34.584 DEBUG [050c55b3-349b-454b-a261-458c13deb50e] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:34.589 DEBUG [050c55b3-349b-454b-a261-458c13deb50e] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:54:34.601  INFO [050c55b3-349b-454b-a261-458c13deb50e] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:54:34.615  WARN [e3c67ce1-f8e5-4130-b681-45e786a37854] 14276 --- [nio-8080-exec-2] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:54:34.633  INFO [050c55b3-349b-454b-a261-458c13deb50e] 14276 --- [nio-8080-exec-3] o.e.xlr8travel.services.CartServiceImpl  : No existing cart found for user ****@****.*** with ID 4, creating a new one.
2025-05-31 17:54:34.635  WARN [e3c67ce1-f8e5-4130-b681-45e786a37854] 14276 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:54:34.658  INFO [050c55b3-349b-454b-a261-458c13deb50e] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 17:54:34.795 DEBUG [cc1c77a4-4b92-4c98-918e-90caa8967180] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:54:34.824 DEBUG [cc1c77a4-4b92-4c98-918e-90caa8967180] 14276 --- [nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Registering session 94FA9E5A150968F74BD78C77DBC61C07, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:54:34.825 DEBUG [cc1c77a4-4b92-4c98-918e-90caa8967180] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@42c27e8e]
2025-05-31 17:54:34.830 DEBUG [cc1c77a4-4b92-4c98-918e-90caa8967180] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:54:34.831  INFO [cc1c77a4-4b92-4c98-918e-90caa8967180] 14276 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:54:34.858  INFO [cc1c77a4-4b92-4c98-918e-90caa8967180] 14276 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:54:35.432 DEBUG [e2a5bf3b-c805-49dd-b588-a612323ddd72] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:54:35.431 DEBUG [6b46463c-84b8-4e7a-badc-91b8136c0fc5] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:54:35.441 DEBUG [6e9215b7-6ffa-451d-afe4-9b6372b6833c] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:54:35.460 DEBUG [6e9215b7-6ffa-451d-afe4-9b6372b6833c] 14276 --- [nio-8080-exec-7] o.s.s.core.session.SessionRegistryImpl   : Registering session 0053E5D95D5CB580D3EBE433C11AEF72, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:54:35.461 DEBUG [6e9215b7-6ffa-451d-afe4-9b6372b6833c] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@21392324]
2025-05-31 17:54:35.464 DEBUG [6e9215b7-6ffa-451d-afe4-9b6372b6833c] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:54:35.473  INFO [6e9215b7-6ffa-451d-afe4-9b6372b6833c] 14276 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 17:54:35.480 DEBUG [3eea3b10-4736-4532-98b0-3058d9a8539c] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:54:35.495 DEBUG [3eea3b10-4736-4532-98b0-3058d9a8539c] 14276 --- [nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 261971DA3C7CA3845FC4A082232863C5, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:54:35.496 DEBUG [3eea3b10-4736-4532-98b0-3058d9a8539c] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2b09c2cd]
2025-05-31 17:54:35.499 DEBUG [3eea3b10-4736-4532-98b0-3058d9a8539c] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:54:35.506  INFO [3eea3b10-4736-4532-98b0-3058d9a8539c] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 17:54:41.727 DEBUG [6a66165e-90f9-45be-9771-c1b2d181cefe] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:54:41.751 DEBUG [6a66165e-90f9-45be-9771-c1b2d181cefe] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:41.754 DEBUG [6a66165e-90f9-45be-9771-c1b2d181cefe] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:54:41.762  INFO [6a66165e-90f9-45be-9771-c1b2d181cefe] 14276 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:54:41.762  INFO [6a66165e-90f9-45be-9771-c1b2d181cefe] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:54:41.820  INFO [6a66165e-90f9-45be-9771-c1b2d181cefe] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-31 17:54:41.828 DEBUG [2e7a0db1-47de-4e83-a66a-d92a0e7e8f35] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:54:41.838 DEBUG [2e7a0db1-47de-4e83-a66a-d92a0e7e8f35] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:41.841 DEBUG [2e7a0db1-47de-4e83-a66a-d92a0e7e8f35] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:54:41.848  INFO [2e7a0db1-47de-4e83-a66a-d92a0e7e8f35] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:54:41.849  INFO [2e7a0db1-47de-4e83-a66a-d92a0e7e8f35] 14276 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:54:41.895  INFO [2e7a0db1-47de-4e83-a66a-d92a0e7e8f35] 14276 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-31 17:54:42.275 DEBUG [8f607416-6133-4f0e-88a6-1748d00ced7c] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 17:54:42.277 DEBUG [8f607416-6133-4f0e-88a6-1748d00ced7c] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 17:54:42.279  INFO [8f607416-6133-4f0e-88a6-1748d00ced7c] 14276 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 17:54:42.279  INFO [8f607416-6133-4f0e-88a6-1748d00ced7c] 14276 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 17:54:42.279  INFO [8f607416-6133-4f0e-88a6-1748d00ced7c] 14276 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 17:54:42.280  INFO [8f607416-6133-4f0e-88a6-1748d00ced7c] 14276 --- [nio-8080-exec-1] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-31 17:54:42.281 DEBUG [8f607416-6133-4f0e-88a6-1748d00ced7c] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:44.463 DEBUG [b50ea645-7bfc-4c88-a3a8-5a396e7f3037] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:54:44.475 DEBUG [b50ea645-7bfc-4c88-a3a8-5a396e7f3037] 14276 --- [nio-8080-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session 3D0CEA99ACEC00C5C379B16AEC924EA5, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[])
2025-05-31 17:54:44.476 DEBUG [b50ea645-7bfc-4c88-a3a8-5a396e7f3037] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4421e2d5]
2025-05-31 17:54:44.478 DEBUG [b50ea645-7bfc-4c88-a3a8-5a396e7f3037] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:54:44.478  INFO [b50ea645-7bfc-4c88-a3a8-5a396e7f3037] 14276 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:54:44.485  INFO [b50ea645-7bfc-4c88-a3a8-5a396e7f3037] 14276 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:54:44.535 DEBUG [856b3e6f-93c4-4473-881c-27a5c93be2e2] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:54:44.541 DEBUG [38d054a6-c65d-4bef-95ce-ca143389dfb2] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:54:44.541 DEBUG [e652a4e2-b731-49af-a7c9-b8de5513987c] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:54:44.545 DEBUG [e652a4e2-b731-49af-a7c9-b8de5513987c] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:54:44.553 DEBUG [856b3e6f-93c4-4473-881c-27a5c93be2e2] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:44.555 DEBUG [38d054a6-c65d-4bef-95ce-ca143389dfb2] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:44.558  INFO [e652a4e2-b731-49af-a7c9-b8de5513987c] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 17:54:44.559  INFO [e652a4e2-b731-49af-a7c9-b8de5513987c] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-06-01
2025-05-31 17:54:44.560 DEBUG [38d054a6-c65d-4bef-95ce-ca143389dfb2] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:54:44.562  INFO [38d054a6-c65d-4bef-95ce-ca143389dfb2] 14276 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:54:44.562 DEBUG [856b3e6f-93c4-4473-881c-27a5c93be2e2] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:54:44.572  WARN [856b3e6f-93c4-4473-881c-27a5c93be2e2] 14276 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:54:44.573  WARN [856b3e6f-93c4-4473-881c-27a5c93be2e2] 14276 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:54:44.580  INFO [38d054a6-c65d-4bef-95ce-ca143389dfb2] 14276 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 17:54:44.581 DEBUG [40259292-7689-4b16-ac52-d32daca98c66] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:54:44.593 DEBUG [40259292-7689-4b16-ac52-d32daca98c66] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:44.596 DEBUG [40259292-7689-4b16-ac52-d32daca98c66] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:54:44.606  WARN [40259292-7689-4b16-ac52-d32daca98c66] 14276 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:54:44.607  WARN [40259292-7689-4b16-ac52-d32daca98c66] 14276 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:54:44.625  INFO [e652a4e2-b731-49af-a7c9-b8de5513987c] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 17:54:44.628 DEBUG [e652a4e2-b731-49af-a7c9-b8de5513987c] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:44.632 DEBUG [c233e193-9ff2-40b7-a4af-c6a0b8f66fb8] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:54:44.635 DEBUG [c233e193-9ff2-40b7-a4af-c6a0b8f66fb8] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 17:54:44.636  INFO [c233e193-9ff2-40b7-a4af-c6a0b8f66fb8] 14276 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 17:54:44.636  INFO [c233e193-9ff2-40b7-a4af-c6a0b8f66fb8] 14276 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-06-01
2025-05-31 17:54:44.695  INFO [c233e193-9ff2-40b7-a4af-c6a0b8f66fb8] 14276 --- [nio-8080-exec-7] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 17:54:44.697 DEBUG [c233e193-9ff2-40b7-a4af-c6a0b8f66fb8] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:52.524 DEBUG [4df147e1-ec34-462a-942f-20878a266588] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-31 17:54:52.535 DEBUG [4df147e1-ec34-462a-942f-20878a266588] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:52.538 DEBUG [4df147e1-ec34-462a-942f-20878a266588] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-31 17:54:52.582  INFO [4df147e1-ec34-462a-942f-20878a266588] 14276 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 19 to persistent cart
2025-05-31 17:54:52.642  INFO [4df147e1-ec34-462a-942f-20878a266588] 14276 --- [nio-8080-exec-8] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 19 to cart for user ****@****.***
2025-05-31 17:54:52.670  INFO [4df147e1-ec34-462a-942f-20878a266588] 14276 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Flight ID 19 added/incremented in persistent cart for user ****@****.***.
2025-05-31 17:54:52.684 DEBUG [82f38f1c-6ab2-4bc0-a568-7f84586c0114] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:54:52.700 DEBUG [82f38f1c-6ab2-4bc0-a568-7f84586c0114] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:52.702 DEBUG [82f38f1c-6ab2-4bc0-a568-7f84586c0114] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:54:52.702  INFO [82f38f1c-6ab2-4bc0-a568-7f84586c0114] 14276 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:54:52.783  INFO [82f38f1c-6ab2-4bc0-a568-7f84586c0114] 14276 --- [nio-8080-exec-9] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:54:52.992 DEBUG [cc46237a-8adb-475a-bbcf-4a74715f4fc7] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:54:53.006 DEBUG [cc46237a-8adb-475a-bbcf-4a74715f4fc7] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:53.008 DEBUG [cc46237a-8adb-475a-bbcf-4a74715f4fc7] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:54:53.008  INFO [cc46237a-8adb-475a-bbcf-4a74715f4fc7] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:54:53.058  INFO [cc46237a-8adb-475a-bbcf-4a74715f4fc7] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:54:53.065 DEBUG [94d6337a-10e0-48ac-826a-84473c58f6b2] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:54:53.075 DEBUG [94d6337a-10e0-48ac-826a-84473c58f6b2] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:53.077 DEBUG [94d6337a-10e0-48ac-826a-84473c58f6b2] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:54:53.078  INFO [94d6337a-10e0-48ac-826a-84473c58f6b2] 14276 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:54:53.125  INFO [94d6337a-10e0-48ac-826a-84473c58f6b2] 14276 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:54:54.724 DEBUG [58fae104-51b8-4af6-a4a2-3c20c3fa5230] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:54:54.741 DEBUG [58fae104-51b8-4af6-a4a2-3c20c3fa5230] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:54.744 DEBUG [58fae104-51b8-4af6-a4a2-3c20c3fa5230] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:54:54.745  INFO [58fae104-51b8-4af6-a4a2-3c20c3fa5230] 14276 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:54:54.798  INFO [58fae104-51b8-4af6-a4a2-3c20c3fa5230] 14276 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:54:54.805 DEBUG [865c70e7-c5f5-4aeb-bb52-1f2b31cd69d4] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:54:54.816 DEBUG [865c70e7-c5f5-4aeb-bb52-1f2b31cd69d4] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:54:54.818 DEBUG [865c70e7-c5f5-4aeb-bb52-1f2b31cd69d4] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:54:54.818  INFO [865c70e7-c5f5-4aeb-bb52-1f2b31cd69d4] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:54:54.872  INFO [865c70e7-c5f5-4aeb-bb52-1f2b31cd69d4] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 17:55:02.830 DEBUG [621d7049-1517-4fc8-80af-8a19737322ac] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/create-payment-intent
2025-05-31 17:55:02.830 DEBUG [621d7049-1517-4fc8-80af-8a19737322ac] 14276 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 17:55:02.831 DEBUG [621d7049-1517-4fc8-80af-8a19737322ac] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/create-payment-intent
2025-05-31 17:55:02.853  INFO [621d7049-1517-4fc8-80af-8a19737322ac] 14276 --- [nio-8080-exec-5] o.e.x.controllers.PaymentController      : Creating payment intent for amount: 36495 ron
2025-05-31 17:55:03.507  INFO [621d7049-1517-4fc8-80af-8a19737322ac] 14276 --- [nio-8080-exec-5] o.e.x.controllers.PaymentController      : Payment intent created successfully: pi_3RUqoPGf8s1WZJnq0VZswzXY
2025-05-31 17:55:04.801 DEBUG [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/confirm
2025-05-31 17:55:04.812 DEBUG [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:04.814 DEBUG [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/confirm
2025-05-31 17:55:04.816  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CheckoutController     : Received purchase confirmation request.
2025-05-31 17:55:04.821  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CheckoutController     : Processing purchase for user: ****@****.***
2025-05-31 17:55:04.863  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CheckoutController     : User ****@****.*** persistent cart has 1 items.
2025-05-31 17:55:04.864  WARN [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CheckoutController     : !!! SIMULATING successful payment processing for user ****@****.*** !!!
2025-05-31 17:55:04.865  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.services.OrderServiceImpl          : Creating order from persistent cart for user: ****@****.***
2025-05-31 17:55:04.871  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.services.OrderServiceImpl          : Order 1 created for user ****@****.***, status: PENDING_PAYMENT. Total: 35.99
2025-05-31 17:55:04.872  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.services.OrderServiceImpl          : Created ticket for flight XT-OTP-AMS-1 for user ****@****.***
2025-05-31 17:55:06.193  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.services.EmailServiceImpl          : Purchase confirmation email sent to ****@****.***
2025-05-31 17:55:06.193  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.services.OrderServiceImpl          : Purchase confirmation email sent to user: ****@****.***
2025-05-31 17:55:06.206  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CheckoutController     : Order successfully created for user ****@****.***. Confirmation: 1
2025-05-31 17:55:06.209  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.xlr8travel.services.CartServiceImpl  : Clearing 1 items from cart for user ****@****.***
2025-05-31 17:55:06.231  INFO [7eec1424-18f4-42ae-aa9a-511b44eeacd1] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CheckoutController     : Persistent cart cleared for user ****@****.***.
2025-05-31 17:55:06.241 DEBUG [8b35f0c3-29f9-46f6-8755-e0770cb6a1c4] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/19
2025-05-31 17:55:06.340 DEBUG [8b35f0c3-29f9-46f6-8755-e0770cb6a1c4] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:06.342 DEBUG [8b35f0c3-29f9-46f6-8755-e0770cb6a1c4] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/19
2025-05-31 17:55:06.432  INFO [8b35f0c3-29f9-46f6-8755-e0770cb6a1c4] 14276 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 19 from persistent cart
2025-05-31 17:55:06.442  WARN [8b35f0c3-29f9-46f6-8755-e0770cb6a1c4] 14276 --- [nio-8080-exec-4] o.e.xlr8travel.services.CartServiceImpl  : Attempted to remove flight ID 19 not found in cart for user ****@****.***
2025-05-31 17:55:06.445  WARN [8b35f0c3-29f9-46f6-8755-e0770cb6a1c4] 14276 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Attempted to remove flight ID 19 not found in persistent cart for user ****@****.***
2025-05-31 17:55:06.456 DEBUG [a536599c-5287-4a6e-8f90-95060126c2e5] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:55:06.556 DEBUG [a536599c-5287-4a6e-8f90-95060126c2e5] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:06.557 DEBUG [a536599c-5287-4a6e-8f90-95060126c2e5] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:55:06.558  INFO [a536599c-5287-4a6e-8f90-95060126c2e5] 14276 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:55:06.656  INFO [a536599c-5287-4a6e-8f90-95060126c2e5] 14276 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 17:55:07.956 DEBUG [d6d646d0-e07d-469d-9990-607c7aa81758] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:55:08.089 DEBUG [d6d646d0-e07d-469d-9990-607c7aa81758] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:08.091 DEBUG [d6d646d0-e07d-469d-9990-607c7aa81758] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:55:08.187  INFO [d6d646d0-e07d-469d-9990-607c7aa81758] 14276 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:55:08.188  INFO [d6d646d0-e07d-469d-9990-607c7aa81758] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:55:08.193  INFO [d6d646d0-e07d-469d-9990-607c7aa81758] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-31 17:55:08.217 DEBUG [2393aa78-6b23-45b9-a7aa-52b38688f393] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 17:55:08.320 DEBUG [2393aa78-6b23-45b9-a7aa-52b38688f393] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:08.322 DEBUG [2393aa78-6b23-45b9-a7aa-52b38688f393] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 17:55:08.414  INFO [2393aa78-6b23-45b9-a7aa-52b38688f393] 14276 --- [nio-8080-exec-9] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 17:55:08.414  INFO [2393aa78-6b23-45b9-a7aa-52b38688f393] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 17:55:08.420  INFO [2393aa78-6b23-45b9-a7aa-52b38688f393] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-31 17:55:08.860 DEBUG [0307ffc4-d36c-4b81-93ff-11dcf425eeeb] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/19/booked-seats
2025-05-31 17:55:08.981 DEBUG [0307ffc4-d36c-4b81-93ff-11dcf425eeeb] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:08.985 DEBUG [0307ffc4-d36c-4b81-93ff-11dcf425eeeb] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/19/booked-seats
2025-05-31 17:55:08.986  INFO [0307ffc4-d36c-4b81-93ff-11dcf425eeeb] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 19
2025-05-31 17:55:08.986  INFO [0307ffc4-d36c-4b81-93ff-11dcf425eeeb] 14276 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 19
2025-05-31 17:55:09.048 DEBUG [697e9d9d-1a9e-4c3f-967f-d4456afab7e6] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/19/booked-seats
2025-05-31 17:55:09.164 DEBUG [697e9d9d-1a9e-4c3f-967f-d4456afab7e6] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:09.167 DEBUG [697e9d9d-1a9e-4c3f-967f-d4456afab7e6] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/19/booked-seats
2025-05-31 17:55:09.168  INFO [697e9d9d-1a9e-4c3f-967f-d4456afab7e6] 14276 --- [nio-8080-exec-1] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 19
2025-05-31 17:55:09.168  INFO [697e9d9d-1a9e-4c3f-967f-d4456afab7e6] 14276 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 19
2025-05-31 17:55:10.456 DEBUG [80100628-7a7b-4120-8eb6-60e431aa1ad1] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/check-in/3/with-seat
2025-05-31 17:55:10.547 DEBUG [80100628-7a7b-4120-8eb6-60e431aa1ad1] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:55:10.550 DEBUG [80100628-7a7b-4120-8eb6-60e431aa1ad1] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/check-in/3/with-seat
2025-05-31 17:55:10.636  INFO [80100628-7a7b-4120-8eb6-60e431aa1ad1] 14276 --- [nio-8080-exec-2] o.e.x.controllers.CheckinController      : Checking in ticket 3 with seat for user: ****@****.***
2025-05-31 17:55:10.640  INFO [80100628-7a7b-4120-8eb6-60e431aa1ad1] 14276 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Checking in ticket 3 with seat 3B of type SEAT_TYPE_UPFRONT
2025-05-31 17:55:10.641  INFO [80100628-7a7b-4120-8eb6-60e431aa1ad1] 14276 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Checking if seat 3B is booked for flight 19
2025-05-31 17:55:10.648  INFO [80100628-7a7b-4120-8eb6-60e431aa1ad1] 14276 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Successfully checked in ticket 3 with seat 3B
2025-05-31 17:55:12.281 DEBUG [e8a9a0ee-2724-4f8e-a605-4014ea6b317e] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:55:12.285 DEBUG [873b5d25-c016-4285-8edf-e01748de21fb] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:55:12.288 DEBUG [ca8b721d-9fea-4153-933b-150e430ed190] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:55:12.395 DEBUG [ca8b721d-9fea-4153-933b-150e430ed190] 14276 --- [nio-8080-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session CA79785B3C3EAB8E97542279E53B17F7, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:55:12.395 DEBUG [ca8b721d-9fea-4153-933b-150e430ed190] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7ba12a40]
2025-05-31 17:55:12.397 DEBUG [ca8b721d-9fea-4153-933b-150e430ed190] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:55:12.494  INFO [ca8b721d-9fea-4153-933b-150e430ed190] 14276 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 17:55:12.501 DEBUG [53a5c99f-b1ce-4417-adef-51c421aa7b2d] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:55:12.624 DEBUG [53a5c99f-b1ce-4417-adef-51c421aa7b2d] 14276 --- [nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Registering session 873E66A12FC59656D0C067FA372EE19F, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:55:12.625 DEBUG [53a5c99f-b1ce-4417-adef-51c421aa7b2d] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3fc6fe70]
2025-05-31 17:55:12.629 DEBUG [53a5c99f-b1ce-4417-adef-51c421aa7b2d] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:55:12.758  INFO [53a5c99f-b1ce-4417-adef-51c421aa7b2d] 14276 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 17:55:13.960 DEBUG [a681b1bb-fb93-4739-bc2a-c169a2136e39] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes/3/download
2025-05-31 17:55:13.962 DEBUG [cc3a1d70-aea6-441e-a745-0020dcc47188] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes/3/download
2025-05-31 17:55:14.055 DEBUG [cc3a1d70-aea6-441e-a745-0020dcc47188] 14276 --- [nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session F06277818EA5B8D38D43A8B199C5D577, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:55:14.056 DEBUG [cc3a1d70-aea6-441e-a745-0020dcc47188] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2a748b02]
2025-05-31 17:55:14.058 DEBUG [cc3a1d70-aea6-441e-a745-0020dcc47188] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes/3/download
2025-05-31 17:59:56.539 DEBUG [c7b5f6f5-ad22-4444-8243-64424cbbd3f1] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 17:59:56.667 DEBUG [c7b5f6f5-ad22-4444-8243-64424cbbd3f1] 14276 --- [nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 597B850892CED2DB19F640250BF0223E, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:59:56.668 DEBUG [c7b5f6f5-ad22-4444-8243-64424cbbd3f1] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7b2e7bc5]
2025-05-31 17:59:56.670 DEBUG [c7b5f6f5-ad22-4444-8243-64424cbbd3f1] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 17:59:56.671  INFO [c7b5f6f5-ad22-4444-8243-64424cbbd3f1] 14276 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 17:59:56.787  INFO [c7b5f6f5-ad22-4444-8243-64424cbbd3f1] 14276 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 17:59:56.831 DEBUG [bbcb3290-f695-4509-8e2b-8340f14faa48] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:59:56.832 DEBUG [e4ce884f-85e4-474b-9d46-2f5e3cf50dfc] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 17:59:56.836 DEBUG [e4c66873-243b-4829-bfe5-3af0c50822e7] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:59:56.848 DEBUG [aaaa98e3-2d50-4fb7-9dbd-031385516824] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:59:56.854 DEBUG [998aa58d-717d-4477-a8f6-9cd7860855e3] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 17:59:56.967 DEBUG [e4c66873-243b-4829-bfe5-3af0c50822e7] 14276 --- [nio-8080-exec-7] o.s.s.core.session.SessionRegistryImpl   : Registering session 8E064CBF935BF1DB54370ECE0F11721E, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:59:56.969 DEBUG [e4c66873-243b-4829-bfe5-3af0c50822e7] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1d07a62e]
2025-05-31 17:59:56.971 DEBUG [e4c66873-243b-4829-bfe5-3af0c50822e7] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:59:56.982 DEBUG [aaaa98e3-2d50-4fb7-9dbd-031385516824] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CONFIRMED'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:59:56.982 DEBUG [998aa58d-717d-4477-a8f6-9cd7860855e3] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:59:56.983 DEBUG [aaaa98e3-2d50-4fb7-9dbd-031385516824] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:59:56.983 DEBUG [998aa58d-717d-4477-a8f6-9cd7860855e3] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 17:59:56.985  INFO [998aa58d-717d-4477-a8f6-9cd7860855e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 17:59:57.097  INFO [e4c66873-243b-4829-bfe5-3af0c50822e7] 14276 --- [nio-8080-exec-7] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 17:59:57.103 DEBUG [30c33274-8b6a-4855-a188-94a2cb97b9c7] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 17:59:57.114  WARN [aaaa98e3-2d50-4fb7-9dbd-031385516824] 14276 --- [nio-8080-exec-8] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:59:57.115  WARN [aaaa98e3-2d50-4fb7-9dbd-031385516824] 14276 --- [nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 17:59:57.122  INFO [998aa58d-717d-4477-a8f6-9cd7860855e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 17:59:57.126 DEBUG [e2a6965a-b727-4ab0-9441-0562e94210e8] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 17:59:57.231 DEBUG [30c33274-8b6a-4855-a188-94a2cb97b9c7] 14276 --- [nio-8080-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session 0C6D6986B8453C101F967B83C232E650, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 17:59:57.231 DEBUG [30c33274-8b6a-4855-a188-94a2cb97b9c7] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@db961dd]
2025-05-31 17:59:57.233 DEBUG [30c33274-8b6a-4855-a188-94a2cb97b9c7] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 17:59:57.244 DEBUG [e2a6965a-b727-4ab0-9441-0562e94210e8] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 17:59:57.247 DEBUG [e2a6965a-b727-4ab0-9441-0562e94210e8] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 17:59:57.339  INFO [30c33274-8b6a-4855-a188-94a2cb97b9c7] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 17:59:57.353  WARN [e2a6965a-b727-4ab0-9441-0562e94210e8] 14276 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 17:59:57.353  WARN [e2a6965a-b727-4ab0-9441-0562e94210e8] 14276 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:00:40.691 DEBUG [d29f0f68-6c71-4ec0-8477-340087dec071] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 18:00:40.790 DEBUG [d29f0f68-6c71-4ec0-8477-340087dec071] 14276 --- [nio-8080-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session 1BF93DC4C0B19304F8F4219605444DF1, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:00:40.791 DEBUG [d29f0f68-6c71-4ec0-8477-340087dec071] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@51236911]
2025-05-31 18:00:40.792 DEBUG [d29f0f68-6c71-4ec0-8477-340087dec071] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 18:00:40.793  INFO [d29f0f68-6c71-4ec0-8477-340087dec071] 14276 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 18:00:40.887  INFO [d29f0f68-6c71-4ec0-8477-340087dec071] 14276 --- [nio-8080-exec-2] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 18:00:40.901 DEBUG [62bc88c8-c534-4ccb-b116-392407038674] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:00:41.028 DEBUG [62bc88c8-c534-4ccb-b116-392407038674] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:00:41.030 DEBUG [62bc88c8-c534-4ccb-b116-392407038674] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:00:41.086 DEBUG [7b4d44e9-7b67-4099-abbc-13879053357e] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 18:00:41.140  WARN [62bc88c8-c534-4ccb-b116-392407038674] 14276 --- [nio-8080-exec-3] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:00:41.141  WARN [62bc88c8-c534-4ccb-b116-392407038674] 14276 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:00:41.203 DEBUG [7b4d44e9-7b67-4099-abbc-13879053357e] 14276 --- [nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 901E90D83D0924F6E6765A06780962CB, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:00:41.204 DEBUG [7b4d44e9-7b67-4099-abbc-13879053357e] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@41fbbd4f]
2025-05-31 18:00:41.205 DEBUG [7b4d44e9-7b67-4099-abbc-13879053357e] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 18:00:41.205  INFO [7b4d44e9-7b67-4099-abbc-13879053357e] 14276 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 18:00:41.317  INFO [7b4d44e9-7b67-4099-abbc-13879053357e] 14276 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 18:00:41.329 DEBUG [c8eea2e0-a750-40aa-a5e2-811a3edb66bf] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:00:41.459 DEBUG [c8eea2e0-a750-40aa-a5e2-811a3edb66bf] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:00:41.461 DEBUG [c8eea2e0-a750-40aa-a5e2-811a3edb66bf] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:00:41.604  WARN [c8eea2e0-a750-40aa-a5e2-811a3edb66bf] 14276 --- [nio-8080-exec-6] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:00:41.605  WARN [c8eea2e0-a750-40aa-a5e2-811a3edb66bf] 14276 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:00:45.000 DEBUG [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 18:00:45.007 DEBUG [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 18:00:45.008  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 18:00:45.009  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 18:00:45.009  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 18:00:45.009  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-31
2025-05-31 18:00:45.009  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-31
2025-05-31 18:00:45.071  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-31 18:00:45.071  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-31 18:00:45.071  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-31 18:00:45.071  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-31 18:00:45.072  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-31 18:00:45.073  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-31 18:00:45.073  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-31
2025-05-31 18:00:45.073  INFO [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-31 18:00:45.075 DEBUG [17d921c9-e8d6-41cf-a967-a99e252876c9] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:00:46.116 DEBUG [5a4345c2-9abb-48e1-89f5-d5e1a60faddd] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:00:46.121 DEBUG [6335e51e-479d-4629-a7ed-9a7d7bc2f9a7] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:00:46.124 DEBUG [532415a0-4818-4619-acc5-724f2b6f4e01] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:00:46.245 DEBUG [532415a0-4818-4619-acc5-724f2b6f4e01] 14276 --- [io-8080-exec-10] o.s.s.core.session.SessionRegistryImpl   : Registering session 55FB31C6D939F50DC4102D3D044D8B79, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:00:46.245 DEBUG [532415a0-4818-4619-acc5-724f2b6f4e01] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@19955c09]
2025-05-31 18:00:46.247 DEBUG [532415a0-4818-4619-acc5-724f2b6f4e01] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:00:46.347  INFO [532415a0-4818-4619-acc5-724f2b6f4e01] 14276 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:00:46.352 DEBUG [2f8d1099-88aa-44fe-8ed3-12ace6973975] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:00:46.445 DEBUG [2f8d1099-88aa-44fe-8ed3-12ace6973975] 14276 --- [nio-8080-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session 186097F3350FC2CCCF2E0CA5509C51E4, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:00:46.446 DEBUG [2f8d1099-88aa-44fe-8ed3-12ace6973975] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@423a7941]
2025-05-31 18:00:46.449 DEBUG [2f8d1099-88aa-44fe-8ed3-12ace6973975] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:00:46.542  INFO [2f8d1099-88aa-44fe-8ed3-12ace6973975] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:01:12.645 DEBUG [98e21a7e-ee97-4e76-b04e-0d175fd5b243] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes/3/download
2025-05-31 18:01:12.647 DEBUG [cffb6e3c-5c2f-413c-9fd6-a472e9c6f140] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes/3/download
2025-05-31 18:01:12.735 DEBUG [cffb6e3c-5c2f-413c-9fd6-a472e9c6f140] 14276 --- [nio-8080-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session 97E551DF026C3CF85940F1F4F2DA7467, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:01:12.735 DEBUG [cffb6e3c-5c2f-413c-9fd6-a472e9c6f140] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@511d0a8]
2025-05-31 18:01:12.738 DEBUG [cffb6e3c-5c2f-413c-9fd6-a472e9c6f140] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes/3/download
2025-05-31 18:01:22.893 DEBUG [50c7e52c-6326-4545-afc4-e851cedb0518] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 18:01:23.004 DEBUG [50c7e52c-6326-4545-afc4-e851cedb0518] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:23.005 DEBUG [50c7e52c-6326-4545-afc4-e851cedb0518] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 18:01:23.117  INFO [50c7e52c-6326-4545-afc4-e851cedb0518] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 18:01:23.118  INFO [50c7e52c-6326-4545-afc4-e851cedb0518] 14276 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 18:01:23.124  INFO [50c7e52c-6326-4545-afc4-e851cedb0518] 14276 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-31 18:01:23.132 DEBUG [fc01f966-c9c0-4506-96f6-6d7fde2005bb] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 18:01:23.242 DEBUG [fc01f966-c9c0-4506-96f6-6d7fde2005bb] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:23.245 DEBUG [fc01f966-c9c0-4506-96f6-6d7fde2005bb] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 18:01:23.340  INFO [fc01f966-c9c0-4506-96f6-6d7fde2005bb] 14276 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 18:01:23.341  INFO [fc01f966-c9c0-4506-96f6-6d7fde2005bb] 14276 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 18:01:23.346  INFO [fc01f966-c9c0-4506-96f6-6d7fde2005bb] 14276 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 0 tickets eligible for check-in for user 4
2025-05-31 18:01:24.510 DEBUG [0c29dcbb-c871-4a6e-8c08-2350a0da2016] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 18:01:24.512 DEBUG [0c29dcbb-c871-4a6e-8c08-2350a0da2016] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 18:01:24.513  INFO [0c29dcbb-c871-4a6e-8c08-2350a0da2016] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 18:01:24.513  INFO [0c29dcbb-c871-4a6e-8c08-2350a0da2016] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 18:01:24.514  INFO [0c29dcbb-c871-4a6e-8c08-2350a0da2016] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 18:01:24.514  INFO [0c29dcbb-c871-4a6e-8c08-2350a0da2016] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning cached nearby flights for origin: OTP, found 6 flights
2025-05-31 18:01:24.515 DEBUG [0c29dcbb-c871-4a6e-8c08-2350a0da2016] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:27.838 DEBUG [4379f462-aa4f-4b0f-a6db-5828e62d3c65] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 18:01:28.001 DEBUG [4379f462-aa4f-4b0f-a6db-5828e62d3c65] 14276 --- [nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Registering session CD2A869992247A880605C7D4E0EAD066, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:01:28.002 DEBUG [4379f462-aa4f-4b0f-a6db-5828e62d3c65] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6dbe893c]
2025-05-31 18:01:28.003 DEBUG [4379f462-aa4f-4b0f-a6db-5828e62d3c65] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 18:01:28.004  INFO [4379f462-aa4f-4b0f-a6db-5828e62d3c65] 14276 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 18:01:28.099  INFO [4379f462-aa4f-4b0f-a6db-5828e62d3c65] 14276 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 18:01:28.154 DEBUG [d76d1135-208d-4240-8458-9d476a2c8399] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:01:28.157 DEBUG [348413e4-f83e-465b-9562-78a4abf75fa2] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:01:28.158 DEBUG [a3f54f50-d717-4675-a023-73977b412860] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:01:28.158 DEBUG [348413e4-f83e-465b-9562-78a4abf75fa2] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:01:28.160  INFO [348413e4-f83e-465b-9562-78a4abf75fa2] 14276 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 18:01:28.160  INFO [348413e4-f83e-465b-9562-78a4abf75fa2] 14276 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-06-01
2025-05-31 18:01:28.235  INFO [348413e4-f83e-465b-9562-78a4abf75fa2] 14276 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 18:01:28.237 DEBUG [348413e4-f83e-465b-9562-78a4abf75fa2] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:28.244 DEBUG [20415050-5ff7-4d25-90bf-56036e68fcef] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:01:28.248 DEBUG [20415050-5ff7-4d25-90bf-56036e68fcef] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=FCO&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:01:28.249  INFO [20415050-5ff7-4d25-90bf-56036e68fcef] 14276 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=FCO, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 18:01:28.249  INFO [20415050-5ff7-4d25-90bf-56036e68fcef] 14276 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to FCO on 2025-06-01
2025-05-31 18:01:28.299 DEBUG [a3f54f50-d717-4675-a023-73977b412860] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:28.299 DEBUG [d76d1135-208d-4240-8458-9d476a2c8399] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:28.301 DEBUG [a3f54f50-d717-4675-a023-73977b412860] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:01:28.301 DEBUG [d76d1135-208d-4240-8458-9d476a2c8399] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:01:28.301  INFO [a3f54f50-d717-4675-a023-73977b412860] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:01:28.308  INFO [20415050-5ff7-4d25-90bf-56036e68fcef] 14276 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 18:01:28.309 DEBUG [20415050-5ff7-4d25-90bf-56036e68fcef] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:28.432  WARN [d76d1135-208d-4240-8458-9d476a2c8399] 14276 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:01:28.433  WARN [d76d1135-208d-4240-8458-9d476a2c8399] 14276 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:01:28.440 DEBUG [968ff319-92ef-4295-a043-5e7a15f42167] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:01:28.444  INFO [a3f54f50-d717-4675-a023-73977b412860] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 18:01:28.547 DEBUG [968ff319-92ef-4295-a043-5e7a15f42167] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:28.549 DEBUG [968ff319-92ef-4295-a043-5e7a15f42167] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:01:28.652  WARN [968ff319-92ef-4295-a043-5e7a15f42167] 14276 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:01:28.653  WARN [968ff319-92ef-4295-a043-5e7a15f42167] 14276 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:01:36.680 DEBUG [71f9f7ce-01f1-461b-b5e7-ca2f030dc96e] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/cart/add
2025-05-31 18:01:36.775 DEBUG [71f9f7ce-01f1-461b-b5e7-ca2f030dc96e] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:36.776 DEBUG [71f9f7ce-01f1-461b-b5e7-ca2f030dc96e] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/cart/add
2025-05-31 18:01:36.864  INFO [71f9f7ce-01f1-461b-b5e7-ca2f030dc96e] 14276 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : User ****@****.*** request to add flight ID 17 to persistent cart
2025-05-31 18:01:36.872  INFO [71f9f7ce-01f1-461b-b5e7-ca2f030dc96e] 14276 --- [nio-8080-exec-2] o.e.xlr8travel.services.CartServiceImpl  : Added new flight ID 17 to cart for user ****@****.***
2025-05-31 18:01:36.891  INFO [71f9f7ce-01f1-461b-b5e7-ca2f030dc96e] 14276 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Flight ID 17 added/incremented in persistent cart for user ****@****.***.
2025-05-31 18:01:36.904 DEBUG [7f7b5104-c2e3-4380-b9a8-572c514cace2] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:01:37.033 DEBUG [7f7b5104-c2e3-4380-b9a8-572c514cace2] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:37.035 DEBUG [7f7b5104-c2e3-4380-b9a8-572c514cace2] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:01:37.035  INFO [7f7b5104-c2e3-4380-b9a8-572c514cace2] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:01:37.205  INFO [7f7b5104-c2e3-4380-b9a8-572c514cace2] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 18:01:38.275 DEBUG [70e31fab-1ae7-4bae-90a7-44e6d25bc051] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:01:38.377 DEBUG [70e31fab-1ae7-4bae-90a7-44e6d25bc051] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:38.379 DEBUG [70e31fab-1ae7-4bae-90a7-44e6d25bc051] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:01:38.380  INFO [70e31fab-1ae7-4bae-90a7-44e6d25bc051] 14276 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:01:38.487  INFO [70e31fab-1ae7-4bae-90a7-44e6d25bc051] 14276 --- [nio-8080-exec-5] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 18:01:38.494 DEBUG [c1b0ef54-2766-444b-a2b9-7704ce417ce0] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:01:38.600 DEBUG [c1b0ef54-2766-444b-a2b9-7704ce417ce0] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:38.602 DEBUG [c1b0ef54-2766-444b-a2b9-7704ce417ce0] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:01:38.602  INFO [c1b0ef54-2766-444b-a2b9-7704ce417ce0] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:01:38.707  INFO [c1b0ef54-2766-444b-a2b9-7704ce417ce0] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 18:01:41.031 DEBUG [9f7d82cd-8581-4c77-9573-23c178d5088a] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:01:41.145 DEBUG [9f7d82cd-8581-4c77-9573-23c178d5088a] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:41.147 DEBUG [9f7d82cd-8581-4c77-9573-23c178d5088a] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:01:41.147  INFO [9f7d82cd-8581-4c77-9573-23c178d5088a] 14276 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:01:41.248  INFO [9f7d82cd-8581-4c77-9573-23c178d5088a] 14276 --- [nio-8080-exec-4] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 18:01:41.298 DEBUG [07b9cbd2-3cd0-4abd-ab15-99527b7ae4e5] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:01:41.475 DEBUG [07b9cbd2-3cd0-4abd-ab15-99527b7ae4e5] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:41.477 DEBUG [07b9cbd2-3cd0-4abd-ab15-99527b7ae4e5] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:01:41.478  INFO [07b9cbd2-3cd0-4abd-ab15-99527b7ae4e5] 14276 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:01:41.599  INFO [07b9cbd2-3cd0-4abd-ab15-99527b7ae4e5] 14276 --- [nio-8080-exec-8] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 1 items, 1 total quantity.
2025-05-31 18:01:50.454 DEBUG [eb5bc558-ed6f-4c14-86f8-d5b8ce148764] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/create-payment-intent
2025-05-31 18:01:50.455 DEBUG [eb5bc558-ed6f-4c14-86f8-d5b8ce148764] 14276 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-31 18:01:50.456 DEBUG [eb5bc558-ed6f-4c14-86f8-d5b8ce148764] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/create-payment-intent
2025-05-31 18:01:50.462  INFO [eb5bc558-ed6f-4c14-86f8-d5b8ce148764] 14276 --- [nio-8080-exec-7] o.e.x.controllers.PaymentController      : Creating payment intent for amount: 32495 ron
2025-05-31 18:01:50.949  INFO [eb5bc558-ed6f-4c14-86f8-d5b8ce148764] 14276 --- [nio-8080-exec-7] o.e.x.controllers.PaymentController      : Payment intent created successfully: pi_3RUquyGf8s1WZJnq0f9NWWYm
2025-05-31 18:01:52.381 DEBUG [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/checkout/confirm
2025-05-31 18:01:52.473 DEBUG [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:52.474 DEBUG [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/checkout/confirm
2025-05-31 18:01:52.475  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Received purchase confirmation request.
2025-05-31 18:01:52.580  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Processing purchase for user: ****@****.***
2025-05-31 18:01:52.587  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : User ****@****.*** persistent cart has 1 items.
2025-05-31 18:01:52.587  WARN [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : !!! SIMULATING successful payment processing for user ****@****.*** !!!
2025-05-31 18:01:52.588  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Creating order from persistent cart for user: ****@****.***
2025-05-31 18:01:52.592  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Order 2 created for user ****@****.***, status: PENDING_PAYMENT. Total: 27.99
2025-05-31 18:01:52.592  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Created ticket for flight XT-OTP-FCO-1 for user ****@****.***
2025-05-31 18:01:53.910  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.services.EmailServiceImpl          : Purchase confirmation email sent to ****@****.***
2025-05-31 18:01:53.910  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.services.OrderServiceImpl          : Purchase confirmation email sent to user: ****@****.***
2025-05-31 18:01:53.924  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Order successfully created for user ****@****.***. Confirmation: 2
2025-05-31 18:01:53.928  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.xlr8travel.services.CartServiceImpl  : Clearing 1 items from cart for user ****@****.***
2025-05-31 18:01:53.946  INFO [139baad9-3af2-411e-b585-0e99805374e3] 14276 --- [io-8080-exec-10] o.e.x.controllers.CheckoutController     : Persistent cart cleared for user ****@****.***.
2025-05-31 18:01:53.957 DEBUG [0ed2a754-8993-416a-ad89-b3d7bbb3936f] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing DELETE /api/cart/remove/17
2025-05-31 18:01:54.072 DEBUG [0ed2a754-8993-416a-ad89-b3d7bbb3936f] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:54.075 DEBUG [0ed2a754-8993-416a-ad89-b3d7bbb3936f] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured DELETE /api/cart/remove/17
2025-05-31 18:01:54.173  INFO [0ed2a754-8993-416a-ad89-b3d7bbb3936f] 14276 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : User ****@****.*** request to remove flight ID 17 from persistent cart
2025-05-31 18:01:54.183  WARN [0ed2a754-8993-416a-ad89-b3d7bbb3936f] 14276 --- [nio-8080-exec-1] o.e.xlr8travel.services.CartServiceImpl  : Attempted to remove flight ID 17 not found in cart for user ****@****.***
2025-05-31 18:01:54.185  WARN [0ed2a754-8993-416a-ad89-b3d7bbb3936f] 14276 --- [nio-8080-exec-1] o.e.x.controllers.CartController         : Attempted to remove flight ID 17 not found in persistent cart for user ****@****.***
2025-05-31 18:01:54.198 DEBUG [983d6e46-7afb-40d2-b983-d6c874b5680b] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:01:54.305 DEBUG [983d6e46-7afb-40d2-b983-d6c874b5680b] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=4, name='TICKET_STATUS_CONFIRMED'}, Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:54.307 DEBUG [983d6e46-7afb-40d2-b983-d6c874b5680b] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:01:54.307  INFO [983d6e46-7afb-40d2-b983-d6c874b5680b] 14276 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:01:54.411  INFO [983d6e46-7afb-40d2-b983-d6c874b5680b] 14276 --- [nio-8080-exec-2] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 18:01:55.295 DEBUG [975bddef-bf98-4610-a2b3-d10bab030b64] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 18:01:55.403 DEBUG [975bddef-bf98-4610-a2b3-d10bab030b64] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=4, name='TICKET_STATUS_CONFIRMED'}, Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:55.405 DEBUG [975bddef-bf98-4610-a2b3-d10bab030b64] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 18:01:55.497  INFO [975bddef-bf98-4610-a2b3-d10bab030b64] 14276 --- [nio-8080-exec-3] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 18:01:55.498  INFO [975bddef-bf98-4610-a2b3-d10bab030b64] 14276 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 18:01:55.502  INFO [975bddef-bf98-4610-a2b3-d10bab030b64] 14276 --- [nio-8080-exec-3] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-31 18:01:55.509 DEBUG [a533313d-b8ba-4b9b-a1ae-1d8934c1d372] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/eligible-tickets
2025-05-31 18:01:55.609 DEBUG [a533313d-b8ba-4b9b-a1ae-1d8934c1d372] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=4, name='TICKET_STATUS_CONFIRMED'}, Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:55.611 DEBUG [a533313d-b8ba-4b9b-a1ae-1d8934c1d372] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/eligible-tickets
2025-05-31 18:01:55.710  INFO [a533313d-b8ba-4b9b-a1ae-1d8934c1d372] 14276 --- [nio-8080-exec-5] o.e.x.controllers.CheckinController      : Getting eligible tickets for check-in for user: ****@****.***
2025-05-31 18:01:55.711  INFO [a533313d-b8ba-4b9b-a1ae-1d8934c1d372] 14276 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Finding tickets eligible for check-in for user 4
2025-05-31 18:01:55.715  INFO [a533313d-b8ba-4b9b-a1ae-1d8934c1d372] 14276 --- [nio-8080-exec-5] o.e.x.services.TicketServiceImpl         : Found 1 tickets eligible for check-in for user 4
2025-05-31 18:01:56.385 DEBUG [583120c2-edf1-406f-8c16-e434dd5c4127] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/17/booked-seats
2025-05-31 18:01:56.494 DEBUG [583120c2-edf1-406f-8c16-e434dd5c4127] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=4, name='TICKET_STATUS_CONFIRMED'}, Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:56.496 DEBUG [583120c2-edf1-406f-8c16-e434dd5c4127] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/17/booked-seats
2025-05-31 18:01:56.497  INFO [583120c2-edf1-406f-8c16-e434dd5c4127] 14276 --- [nio-8080-exec-6] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 17
2025-05-31 18:01:56.497  INFO [583120c2-edf1-406f-8c16-e434dd5c4127] 14276 --- [nio-8080-exec-6] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 17
2025-05-31 18:01:56.543 DEBUG [e397ba4b-73ec-4d6b-867a-da6c0681ccf2] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/flights/17/booked-seats
2025-05-31 18:01:56.659 DEBUG [e397ba4b-73ec-4d6b-867a-da6c0681ccf2] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=4, name='TICKET_STATUS_CONFIRMED'}, Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:01:56.661 DEBUG [e397ba4b-73ec-4d6b-867a-da6c0681ccf2] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/flights/17/booked-seats
2025-05-31 18:01:56.663  INFO [e397ba4b-73ec-4d6b-867a-da6c0681ccf2] 14276 --- [nio-8080-exec-4] o.e.x.controllers.CheckinController      : Getting booked seats for flight: 17
2025-05-31 18:01:56.663  INFO [e397ba4b-73ec-4d6b-867a-da6c0681ccf2] 14276 --- [nio-8080-exec-4] o.e.x.services.TicketServiceImpl         : Getting booked seats for flight 17
2025-05-31 18:02:04.489 DEBUG [f9246b5e-b667-44a1-97a5-655deba2d1e8] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/check-in/4/with-seat
2025-05-31 18:02:04.592 DEBUG [f9246b5e-b667-44a1-97a5-655deba2d1e8] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=4, name='TICKET_STATUS_CONFIRMED'}, Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:02:04.595 DEBUG [f9246b5e-b667-44a1-97a5-655deba2d1e8] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/check-in/4/with-seat
2025-05-31 18:02:04.696  INFO [f9246b5e-b667-44a1-97a5-655deba2d1e8] 14276 --- [nio-8080-exec-8] o.e.x.controllers.CheckinController      : Checking in ticket 4 with seat for user: ****@****.***
2025-05-31 18:02:04.700  INFO [f9246b5e-b667-44a1-97a5-655deba2d1e8] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Checking in ticket 4 with seat 1E of type SEAT_TYPE_UPFRONT
2025-05-31 18:02:04.701  INFO [f9246b5e-b667-44a1-97a5-655deba2d1e8] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Checking if seat 1E is booked for flight 17
2025-05-31 18:02:04.706  INFO [f9246b5e-b667-44a1-97a5-655deba2d1e8] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Successfully checked in ticket 4 with seat 1E
2025-05-31 18:02:05.994 DEBUG [de0f433a-2864-4f3a-a9c8-6b5213d7e1b5] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:02:06.003 DEBUG [cde85757-c5e7-416e-b1e5-eddc74a36b47] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:02:06.004 DEBUG [6d1cb9cb-196d-47c2-ae76-7dc2fc38d088] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:02:06.109 DEBUG [6d1cb9cb-196d-47c2-ae76-7dc2fc38d088] 14276 --- [io-8080-exec-10] o.s.s.core.session.SessionRegistryImpl   : Registering session C6434CD36A77806B4F89C6D3829C9DE0, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:02:06.110 DEBUG [6d1cb9cb-196d-47c2-ae76-7dc2fc38d088] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@206994b5]
2025-05-31 18:02:06.113 DEBUG [6d1cb9cb-196d-47c2-ae76-7dc2fc38d088] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:02:06.207  INFO [6d1cb9cb-196d-47c2-ae76-7dc2fc38d088] 14276 --- [io-8080-exec-10] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:02:06.212 DEBUG [dd0f7f2a-e34c-4241-9f80-043aea022756] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:02:06.331 DEBUG [dd0f7f2a-e34c-4241-9f80-043aea022756] 14276 --- [nio-8080-exec-1] o.s.s.core.session.SessionRegistryImpl   : Registering session FA33B99E61EB2CD7ABE20BD1776F9078, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:02:06.332 DEBUG [dd0f7f2a-e34c-4241-9f80-043aea022756] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@18b1b837]
2025-05-31 18:02:06.333 DEBUG [dd0f7f2a-e34c-4241-9f80-043aea022756] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:02:06.425  INFO [dd0f7f2a-e34c-4241-9f80-043aea022756] 14276 --- [nio-8080-exec-1] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:02:12.788 DEBUG [ca711120-0c6d-4187-b7a2-974c94e5b7b4] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes/4/download
2025-05-31 18:02:12.791 DEBUG [2e79fed3-1b2c-421e-85a4-e867df96d25f] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes/4/download
2025-05-31 18:02:12.895 DEBUG [2e79fed3-1b2c-421e-85a4-e867df96d25f] 14276 --- [nio-8080-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session F47466D70BF3D1E6BE6E4F2750A63EC8, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:02:12.896 DEBUG [2e79fed3-1b2c-421e-85a4-e867df96d25f] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@46d3cb73]
2025-05-31 18:02:12.897 DEBUG [2e79fed3-1b2c-421e-85a4-e867df96d25f] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes/4/download
2025-05-31 18:02:57.938 DEBUG [a60301e4-848b-40a6-9aaa-2fc965bfd277] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 18:02:58.071 DEBUG [a60301e4-848b-40a6-9aaa-2fc965bfd277] 14276 --- [nio-8080-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session 0649AA44930143AF8B9335BF48E32692, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:02:58.073 DEBUG [a60301e4-848b-40a6-9aaa-2fc965bfd277] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@704b106]
2025-05-31 18:02:58.075 DEBUG [a60301e4-848b-40a6-9aaa-2fc965bfd277] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 18:02:58.076  INFO [a60301e4-848b-40a6-9aaa-2fc965bfd277] 14276 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 18:02:58.234  INFO [a60301e4-848b-40a6-9aaa-2fc965bfd277] 14276 --- [nio-8080-exec-6] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 18:02:58.280 DEBUG [8c618d8c-560c-48e5-97f5-022eeec81e42] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:02:58.280 DEBUG [ad1cdb1f-e207-4ac5-a46d-f55adff29e34] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:02:58.285 DEBUG [1ccd2449-b09f-4674-94d9-3a91cfeef6d5] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:02:58.288 DEBUG [1007af0f-6dfa-472e-853d-50cbc7204425] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:02:58.295 DEBUG [0f800f7b-82d3-4ec9-97ba-85024d41a5aa] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:02:58.504 DEBUG [1ccd2449-b09f-4674-94d9-3a91cfeef6d5] 14276 --- [nio-8080-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session 39B6EC8C54BB3FFE3D5B4C0D9F6C8D56, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:02:58.505 DEBUG [1007af0f-6dfa-472e-853d-50cbc7204425] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=4, name='TICKET_STATUS_CONFIRMED'}, Country{id=3, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:02:58.506 DEBUG [1ccd2449-b09f-4674-94d9-3a91cfeef6d5] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@43215ffd]
2025-05-31 18:02:58.508 DEBUG [1007af0f-6dfa-472e-853d-50cbc7204425] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:02:58.508 DEBUG [1ccd2449-b09f-4674-94d9-3a91cfeef6d5] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:02:58.508 DEBUG [0f800f7b-82d3-4ec9-97ba-85024d41a5aa] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:02:58.509 DEBUG [0f800f7b-82d3-4ec9-97ba-85024d41a5aa] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:02:58.509  INFO [0f800f7b-82d3-4ec9-97ba-85024d41a5aa] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:02:58.660  WARN [1007af0f-6dfa-472e-853d-50cbc7204425] 14276 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:02:58.661  WARN [1007af0f-6dfa-472e-853d-50cbc7204425] 14276 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:02:58.684 DEBUG [b3c12e1c-5731-4577-905c-c4aadb93e936] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:02:58.686  INFO [1ccd2449-b09f-4674-94d9-3a91cfeef6d5] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:02:58.701 DEBUG [bc3722de-e134-41d3-9e98-07e2184d8463] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:02:58.708  INFO [0f800f7b-82d3-4ec9-97ba-85024d41a5aa] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 18:02:58.848 DEBUG [b3c12e1c-5731-4577-905c-c4aadb93e936] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:02:58.850 DEBUG [b3c12e1c-5731-4577-905c-c4aadb93e936] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:02:58.852 DEBUG [bc3722de-e134-41d3-9e98-07e2184d8463] 14276 --- [nio-8080-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session 1988E10282B3662B23306119D16CEDFF, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:02:58.853 DEBUG [bc3722de-e134-41d3-9e98-07e2184d8463] 14276 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@f0a7b8a]
2025-05-31 18:02:58.855 DEBUG [bc3722de-e134-41d3-9e98-07e2184d8463] 14276 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:02:58.948  WARN [b3c12e1c-5731-4577-905c-c4aadb93e936] 14276 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:02:58.948  WARN [b3c12e1c-5731-4577-905c-c4aadb93e936] 14276 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:02:58.953  INFO [bc3722de-e134-41d3-9e98-07e2184d8463] 14276 --- [nio-8080-exec-2] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:03:13.352 DEBUG [2b4c96fc-45b9-492a-b43c-ff7efb769866] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 18:03:13.537 DEBUG [2b4c96fc-45b9-492a-b43c-ff7efb769866] 14276 --- [nio-8080-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session 5C4E120346DB29BCD846436CC4125BE7, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:03:13.538 DEBUG [2b4c96fc-45b9-492a-b43c-ff7efb769866] 14276 --- [nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@59ee3058]
2025-05-31 18:03:13.541 DEBUG [2b4c96fc-45b9-492a-b43c-ff7efb769866] 14276 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 18:03:13.542  INFO [2b4c96fc-45b9-492a-b43c-ff7efb769866] 14276 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 18:03:13.662  INFO [2b4c96fc-45b9-492a-b43c-ff7efb769866] 14276 --- [nio-8080-exec-3] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 18:03:13.701 DEBUG [93662afd-4e07-4172-8160-b49a34d4c024] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:03:13.702 DEBUG [d79fc0ae-0552-4f85-bfa1-be88951f813d] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:03:13.703 DEBUG [9df31653-04a2-4194-8829-d1e5bc156b9f] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:03:13.706 DEBUG [76d208e3-676c-48bf-852e-7332dfbc6333] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:03:13.717 DEBUG [a4fcc04e-2a9e-4e2b-b5e2-46057a1ab44a] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:03:13.867 DEBUG [9df31653-04a2-4194-8829-d1e5bc156b9f] 14276 --- [nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 3EBF1CDA412D0369A5692E3E2EBB5C87, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:03:13.867 DEBUG [a4fcc04e-2a9e-4e2b-b5e2-46057a1ab44a] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:03:13.867 DEBUG [76d208e3-676c-48bf-852e-7332dfbc6333] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:03:13.868 DEBUG [9df31653-04a2-4194-8829-d1e5bc156b9f] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@67ad27d2]
2025-05-31 18:03:13.869 DEBUG [a4fcc04e-2a9e-4e2b-b5e2-46057a1ab44a] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:03:13.870 DEBUG [76d208e3-676c-48bf-852e-7332dfbc6333] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:03:13.870  INFO [a4fcc04e-2a9e-4e2b-b5e2-46057a1ab44a] 14276 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:03:13.870 DEBUG [9df31653-04a2-4194-8829-d1e5bc156b9f] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:03:13.993  INFO [9df31653-04a2-4194-8829-d1e5bc156b9f] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:03:13.994  WARN [76d208e3-676c-48bf-852e-7332dfbc6333] 14276 --- [nio-8080-exec-4] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:03:13.995  WARN [76d208e3-676c-48bf-852e-7332dfbc6333] 14276 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:03:14.001 DEBUG [2ffe7c99-6415-4180-b106-3265f8df3161] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:03:14.004  INFO [a4fcc04e-2a9e-4e2b-b5e2-46057a1ab44a] 14276 --- [nio-8080-exec-7] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 18:03:14.008 DEBUG [eb0e98cd-3f65-43e2-97be-ed165ad80214] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:03:14.127 DEBUG [eb0e98cd-3f65-43e2-97be-ed165ad80214] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:03:14.127 DEBUG [2ffe7c99-6415-4180-b106-3265f8df3161] 14276 --- [nio-8080-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session FD6889C8DCB6919AA806F7305E862453, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:03:14.128 DEBUG [2ffe7c99-6415-4180-b106-3265f8df3161] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7a1e63ad]
2025-05-31 18:03:14.129 DEBUG [eb0e98cd-3f65-43e2-97be-ed165ad80214] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:03:14.130 DEBUG [2ffe7c99-6415-4180-b106-3265f8df3161] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:03:14.242  INFO [2ffe7c99-6415-4180-b106-3265f8df3161] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:03:14.242  WARN [eb0e98cd-3f65-43e2-97be-ed165ad80214] 14276 --- [io-8080-exec-10] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:03:14.244  WARN [eb0e98cd-3f65-43e2-97be-ed165ad80214] 14276 --- [io-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:05:21.585 DEBUG [08090147-1e54-4b09-958e-1f7bbcd3c54f] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 18:05:21.713 DEBUG [08090147-1e54-4b09-958e-1f7bbcd3c54f] 14276 --- [nio-8080-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 1DCD1E5C2BB4AB57DA021E54086BDD6C, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:05:21.714 DEBUG [08090147-1e54-4b09-958e-1f7bbcd3c54f] 14276 --- [nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1ac30bb8]
2025-05-31 18:05:21.716 DEBUG [08090147-1e54-4b09-958e-1f7bbcd3c54f] 14276 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 18:05:21.717  INFO [08090147-1e54-4b09-958e-1f7bbcd3c54f] 14276 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 18:05:21.850  INFO [08090147-1e54-4b09-958e-1f7bbcd3c54f] 14276 --- [nio-8080-exec-5] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 18:05:21.896 DEBUG [e682fe53-8b7b-4c24-b901-da2fd21e1576] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:05:21.897 DEBUG [6e94b447-1fc5-4e26-9161-f9f76f303e45] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/check-in/boarding-passes
2025-05-31 18:05:21.900 DEBUG [1a77451e-54c9-402d-a0d9-dce25512d4c3] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:05:21.903 DEBUG [f576c27a-c2ad-43e0-a269-ad0f8eff3d3c] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:05:21.908 DEBUG [025ccc97-8139-43e7-b743-09eee367380b] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:05:22.064 DEBUG [f576c27a-c2ad-43e0-a269-ad0f8eff3d3c] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:05:22.065 DEBUG [1a77451e-54c9-402d-a0d9-dce25512d4c3] 14276 --- [nio-8080-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 1A3A046F8CBC881B7A349DA7CA32011E, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:05:22.065 DEBUG [1a77451e-54c9-402d-a0d9-dce25512d4c3] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4c7edf58]
2025-05-31 18:05:22.065 DEBUG [025ccc97-8139-43e7-b743-09eee367380b] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:05:22.066 DEBUG [f576c27a-c2ad-43e0-a269-ad0f8eff3d3c] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:05:22.067 DEBUG [1a77451e-54c9-402d-a0d9-dce25512d4c3] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:05:22.067 DEBUG [025ccc97-8139-43e7-b743-09eee367380b] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:05:22.067  INFO [025ccc97-8139-43e7-b743-09eee367380b] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:05:22.185  WARN [f576c27a-c2ad-43e0-a269-ad0f8eff3d3c] 14276 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:05:22.185  INFO [1a77451e-54c9-402d-a0d9-dce25512d4c3] 14276 --- [nio-8080-exec-8] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:05:22.186  WARN [f576c27a-c2ad-43e0-a269-ad0f8eff3d3c] 14276 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:05:22.191 DEBUG [bc47ba2b-a44f-4ef8-a1c3-5e8b7f0acab2] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/check-in/boarding-passes
2025-05-31 18:05:22.193  INFO [025ccc97-8139-43e7-b743-09eee367380b] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 18:05:22.199 DEBUG [aa0a223e-ba46-4c76-b686-3f4aa2171973] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:05:22.348 DEBUG [bc47ba2b-a44f-4ef8-a1c3-5e8b7f0acab2] 14276 --- [nio-8080-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session A43187EE58063FCD1436C241897F665B, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:05:22.349 DEBUG [bc47ba2b-a44f-4ef8-a1c3-5e8b7f0acab2] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5dbf8b79]
2025-05-31 18:05:22.351 DEBUG [bc47ba2b-a44f-4ef8-a1c3-5e8b7f0acab2] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/check-in/boarding-passes
2025-05-31 18:05:22.357 DEBUG [aa0a223e-ba46-4c76-b686-3f4aa2171973] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:05:22.359 DEBUG [aa0a223e-ba46-4c76-b686-3f4aa2171973] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:05:22.460  INFO [bc47ba2b-a44f-4ef8-a1c3-5e8b7f0acab2] 14276 --- [nio-8080-exec-9] o.e.x.services.TicketServiceImpl         : Finding checked-in tickets for user 4
2025-05-31 18:05:22.468  WARN [aa0a223e-ba46-4c76-b686-3f4aa2171973] 14276 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:05:22.468  WARN [aa0a223e-ba46-4c76-b686-3f4aa2171973] 14276 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:07:35.084 DEBUG [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/nearby?origin=OTP
2025-05-31 18:07:35.085 DEBUG [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/nearby?origin=OTP
2025-05-31 18:07:35.086  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Received request for nearby flights from origin: OTP, departureDate: null
2025-05-31 18:07:35.087  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Using search date: 2025-05-31
2025-05-31 18:07:35.087  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Cache key: OTP-2025-05-31
2025-05-31 18:07:35.087  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : No valid cache found. Searching nearby flights from origin: OTP, after date: 2025-05-31
2025-05-31 18:07:35.087  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Calling flightService.findByOriginAndDepartureDateAfter for origin: OTP, date: 2025-05-31
2025-05-31 18:07:35.136  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Database query completed, found 16 flights
2025-05-31 18:07:35.137  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converting 16 Flight entities to FlightDTOs
2025-05-31 18:07:35.137  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Converted to 16 FlightDTOs
2025-05-31 18:07:35.137  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouping flights by destination country
2025-05-31 18:07:35.137  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Grouped flights into 7 countries
2025-05-31 18:07:35.137  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Selecting diverse flights - one from each country first
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Greece (has 2 flights)
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Netherlands (has 2 flights)
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Italy (has 2 flights)
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from United Kingdom (has 2 flights)
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from France (has 2 flights)
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Adding first flight from Switzerland (has 2 flights)
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Reached 6 flights after first pass, stopping
2025-05-31 18:07:35.138  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Caching 6 diverse flights with key: OTP-2025-05-31
2025-05-31 18:07:35.139  INFO [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] o.e.x.controllers.FlightController       : Returning 6 diverse nearby flights from: OTP
2025-05-31 18:07:35.140 DEBUG [e8338c02-7331-4e3f-8920-2175532938a9] 14276 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:07:37.014 DEBUG [34b01dd1-3587-4f08-98f6-08e2c40e2a15] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2025-05-31 18:07:37.127 DEBUG [34b01dd1-3587-4f08-98f6-08e2c40e2a15] 14276 --- [nio-8080-exec-4] o.s.s.core.session.SessionRegistryImpl   : Registering session A0CBDFA1A41D2F5BD6B4A0B8F20D88B8, for principal User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}])
2025-05-31 18:07:37.128 DEBUG [34b01dd1-3587-4f08-98f6-08e2c40e2a15] 14276 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@ce7f00f]
2025-05-31 18:07:37.129 DEBUG [34b01dd1-3587-4f08-98f6-08e2c40e2a15] 14276 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2025-05-31 18:07:37.131  INFO [34b01dd1-3587-4f08-98f6-08e2c40e2a15] 14276 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Request received for current user details: ****@****.***
2025-05-31 18:07:37.230  INFO [34b01dd1-3587-4f08-98f6-08e2c40e2a15] 14276 --- [nio-8080-exec-4] o.e.x.controllers.UserController         : Returning details for user: ****@****.***
2025-05-31 18:07:37.290 DEBUG [0b5c0876-67d4-4644-8957-aaa5719feeaa] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:07:37.292 DEBUG [069ffe19-2e18-47b3-b3f6-d4fcb38e3943] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart
2025-05-31 18:07:37.292 DEBUG [210420d9-1315-4b96-b770-e230003f9cc3] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:07:37.295 DEBUG [210420d9-1315-4b96-b770-e230003f9cc3] 14276 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:07:37.297  INFO [210420d9-1315-4b96-b770-e230003f9cc3] 14276 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 18:07:37.298  INFO [210420d9-1315-4b96-b770-e230003f9cc3] 14276 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-06-01
2025-05-31 18:07:37.372  INFO [210420d9-1315-4b96-b770-e230003f9cc3] 14276 --- [nio-8080-exec-8] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 18:07:37.373 DEBUG [210420d9-1315-4b96-b770-e230003f9cc3] 14276 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:07:37.379 DEBUG [45d80461-cae1-4e71-be53-47e6f5a81ea0] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:07:37.380 DEBUG [45d80461-cae1-4e71-be53-47e6f5a81ea0] 14276 --- [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/flights/search?origin=OTP&destination=AMS&departureDate=2025-06-01&tripType=oneWay
2025-05-31 18:07:37.382  INFO [45d80461-cae1-4e71-be53-47e6f5a81ea0] 14276 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Searching flights: Type=oneWay, Origin=OTP, Dest=AMS, Depart=2025-06-01, Return=null, Pax=1/0/0
2025-05-31 18:07:37.383  INFO [45d80461-cae1-4e71-be53-47e6f5a81ea0] 14276 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Performing one-way flight search from OTP to AMS on 2025-06-01
2025-05-31 18:07:37.431 DEBUG [0b5c0876-67d4-4644-8957-aaa5719feeaa] 14276 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:07:37.433 DEBUG [069ffe19-2e18-47b3-b3f6-d4fcb38e3943] 14276 --- [io-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:07:37.433 DEBUG [0b5c0876-67d4-4644-8957-aaa5719feeaa] 14276 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:07:37.434 DEBUG [069ffe19-2e18-47b3-b3f6-d4fcb38e3943] 14276 --- [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cart
2025-05-31 18:07:37.434  INFO [069ffe19-2e18-47b3-b3f6-d4fcb38e3943] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Request received to view persistent cart
2025-05-31 18:07:37.436  INFO [45d80461-cae1-4e71-be53-47e6f5a81ea0] 14276 --- [nio-8080-exec-9] o.e.x.controllers.FlightController       : Found 1 available flights for search criteria.
2025-05-31 18:07:37.437 DEBUG [45d80461-cae1-4e71-be53-47e6f5a81ea0] 14276 --- [nio-8080-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:07:37.534  WARN [0b5c0876-67d4-4644-8957-aaa5719feeaa] 14276 --- [nio-8080-exec-7] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:07:37.535  WARN [0b5c0876-67d4-4644-8957-aaa5719feeaa] 14276 --- [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:07:37.540 DEBUG [a8101c4a-c01a-4805-9040-351d9a81857f] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me/avatar
2025-05-31 18:07:37.542  INFO [069ffe19-2e18-47b3-b3f6-d4fcb38e3943] 14276 --- [io-8080-exec-10] o.e.x.controllers.CartController         : Returning persistent cart for user ****@****.*** with 0 items, 0 total quantity.
2025-05-31 18:07:37.643 DEBUG [a8101c4a-c01a-4805-9040-351d9a81857f] 14276 --- [nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=User(id=4, firstname=Razvan, lastname=Uleia, username=****@****.***, age=0, gender=null, email=****@****.***, password: ********, dob=null, accountStatus=null, roles=[ROLE_USER], profilePicture=null, profilePictureContentType=null, createdAt=2025-05-31T17:54:33.491998, lastLogin=null, addresses=[], tickets=[Country{id=3, name='TICKET_STATUS_CHECKED_IN'}, Country{id=4, name='TICKET_STATUS_CHECKED_IN'}]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3315038BA9713A7DC28325B9845246CB], Granted Authorities=[ROLE_USER]]]
2025-05-31 18:07:37.645 DEBUG [a8101c4a-c01a-4805-9040-351d9a81857f] 14276 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me/avatar
2025-05-31 18:07:37.738  WARN [a8101c4a-c01a-4805-9040-351d9a81857f] 14276 --- [nio-8080-exec-1] o.e.x.config.GlobalExceptionHandler      : Response status exception: 404 NOT_FOUND "No avatar"
2025-05-31 18:07:37.739  WARN [a8101c4a-c01a-4805-9040-351d9a81857f] 14276 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "No avatar"]
2025-05-31 18:07:55.074  INFO [NONE] 14276 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-31 18:07:55.077  INFO [NONE] 14276 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-31 18:07:55.082  INFO [NONE] 14276 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
